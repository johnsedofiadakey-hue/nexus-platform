module.exports=[81781,a=>{"use strict";let b=(0,a.i(25700).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],81781)},76772,a=>{"use strict";var b=a.i(89477),c=a.i(89930),d=a.i(75635),e=a.i(31378),f=a.i(81781),g=a.i(28002),h=a.i(88064);function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(""),n=async()=>{k(!0);try{let a=await fetch("/api/audit"),b=await a.json();i(b)}catch(a){console.error(a)}finally{k(!1)}};(0,c.useEffect)(()=>{n()},[]);let o=a.filter(a=>a.user?.name?.toLowerCase().includes(l.toLowerCase())||a.action.toLowerCase().includes(l.toLowerCase())||a.entity.toLowerCase().includes(l.toLowerCase()));return(0,b.jsxs)("div",{className:"p-8 max-w-[1600px] mx-auto animate-in fade-in duration-500",children:[(0,b.jsxs)("div",{className:"flex justify-between items-end mb-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"SYSTEM AUDIT"}),(0,b.jsxs)("p",{className:"text-slate-500 font-bold text-xs uppercase tracking-widest mt-2 flex items-center gap-2",children:[(0,b.jsx)(d.ShieldCheck,{className:"w-4 h-4 text-emerald-500"})," Security & Compliance Ledger"]})]}),(0,b.jsx)("button",{onClick:n,className:"p-3 bg-white border border-slate-200 rounded-xl hover:text-blue-600 transition-colors",children:(0,b.jsx)(g.RefreshCw,{className:`w-5 h-5 ${j?"animate-spin":""}`})})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm mb-6 flex items-center gap-4",children:[(0,b.jsx)(e.Search,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{placeholder:"Search by User, Action, or Entity...",className:"flex-1 font-bold text-sm text-slate-700 outline-none placeholder:font-medium placeholder:text-slate-400",value:l,onChange:a=>m(a.target.value)})]}),(0,b.jsx)("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Timestamp"}),(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"User / Actor"}),(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Action"}),(0,b.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Details"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:j?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"p-20 text-center",children:(0,b.jsx)(h.Loader2,{className:"w-8 h-8 animate-spin text-slate-300 mx-auto"})})}):0===o.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"p-20 text-center text-slate-400 font-bold text-sm",children:"No Audit Records Found"})}):o.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-8 py-4",children:(0,b.jsx)("span",{className:"text-xs font-bold text-slate-500 font-mono",children:new Date(a.createdAt).toLocaleString()})}),(0,b.jsx)("td",{className:"px-8 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:(0,b.jsx)(f.User,{className:"w-4 h-4"})}),(0,b.jsx)("span",{className:"text-sm font-bold text-slate-900",children:a.user?.name||"Unknown"})]})}),(0,b.jsx)("td",{className:"px-8 py-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wide border ${a.action.includes("DELETE")?"bg-red-50 text-red-600 border-red-100":a.action.includes("CREATE")?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:a.action})}),(0,b.jsx)("td",{className:"px-8 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("span",{className:"text-xs font-bold text-slate-700",children:[a.entity," ",(0,b.jsxs)("span",{className:"text-slate-400",children:["#",a.entityId]})]}),(0,b.jsx)("span",{className:"text-[10px] text-slate-400 truncate w-64",children:a.details})]})})]},a.id))})]})})})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=_567fcb81._.js.map