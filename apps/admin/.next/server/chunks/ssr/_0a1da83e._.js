module.exports=[81781,a=>{"use strict";let b=(0,a.i(25700).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],81781)},76945,a=>{"use strict";let b=(0,a.i(25700).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],76945)},9359,a=>{"use strict";let b=(0,a.i(25700).default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);a.s(["ShieldAlert",()=>b],9359)},18059,a=>{"use strict";var b=a.i(89477),c=a.i(89930);let d=(0,a.i(25700).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var e=a.i(50910),f=a.i(76945),g=a.i(75635),h=a.i(81781),i=a.i(9359),j=a.i(3410),k=a.i(88064),l=a.i(60942),m=a.i(78301);function n(){let a=(0,m.useRouter)(),n=(0,c.useRef)(null),[q,r]=(0,c.useState)(1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)({name:"",email:"",phone:"",role:"WORKER",shopId:"",password:"nexus_password_2026",ghanaCard:"",dob:"",image:"",bankAccountName:"",bankName:"",bankAccountNumber:"",ssnitNumber:"",commencementDate:""});(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/shops/list"),b=await a.json();x(Array.isArray(b)?b:b.data||[])}catch(a){x([])}}()},[]);let A=async a=>{if(a.preventDefault(),!y.shopId){l.toast.error("Sector Assignment Required"),r(2);return}t(!0);try{let a=null;if(y.dob){let b=new Date(y.dob);isNaN(b.getTime())||(a=b.toISOString())}let b={...y,dob:a,email:y.email.toLowerCase().trim(),shopId:y.shopId||null},c=await fetch("/api/hr/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),d=await c.json();c.ok?(v(!0),l.toast.success("Personnel Uplink Established")):(console.error("ðŸ ENROLLMENT_TERMINAL_REJECTION:",d),l.toast.error(d.error||"Uplink Rejected by Terminal. Cross-check access credentials."))}catch(a){console.error("ðŸš¨ ENROLLMENT_NETWORK_CRITICAL:",a),l.toast.error(`Connection Error: ${a.message||"Shield Breach Detected"}`)}finally{t(!1)}},B=(0,c.useMemo)(()=>w.find(a=>a.id===y.shopId)?.name||"Unassigned",[y.shopId,w]);return u?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center animate-in fade-in zoom-in duration-500 p-12 bg-white rounded-xl border border-slate-200 shadow-sm m-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-900 rounded-full flex items-center justify-center mb-6",children:(0,b.jsx)(e.CheckCircle,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Registration Successful"}),(0,b.jsxs)("p",{className:"text-slate-500 mt-2 max-w-sm mx-auto",children:["Agent ",y.name," has been enrolled and synced with the ",B," hub."]}),(0,b.jsx)("button",{onClick:()=>a.push("/dashboard/hr"),className:"mt-8 px-8 py-3 bg-slate-900 text-white rounded-lg font-semibold text-sm hover:bg-slate-800 transition-all active:scale-95",children:"Return to Team Management"})]}):(0,b.jsxs)("div",{className:"max-w-5xl mx-auto py-12 px-6 animate-in fade-in duration-700",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-12 border-b border-slate-200 pb-8 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("button",{onClick:()=>a.back(),className:"group flex items-center gap-2 text-xs font-semibold text-slate-400 hover:text-slate-900 mb-3 transition-colors",children:[(0,b.jsx)(f.ArrowLeft,{className:"w-3 h-3"})," Back to Directory"]}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Enroll New Personnel"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Initialize secure agent credentials for hub deployment."})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold border transition-all ${q===a?"bg-slate-900 border-slate-900 text-white":q>a?"bg-slate-100 border-slate-200 text-slate-500":"bg-white border-slate-200 text-slate-300"}`,children:q>a?(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4"}):a}),a<4&&(0,b.jsx)("div",{className:`w-6 h-[2px] mx-1 ${q>a?"bg-slate-900":"bg-slate-100"}`})]},a))})]}),(0,b.jsxs)("form",{onSubmit:A,className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[(0,b.jsxs)("div",{className:"lg:col-span-8 space-y-10",children:[1===q&&(0,b.jsxs)("div",{className:"space-y-10 animate-in fade-in slide-in-from-right-4 duration-500",children:[(0,b.jsxs)("div",{className:"flex items-start gap-8",children:[(0,b.jsxs)("div",{className:"relative group shrink-0",children:[(0,b.jsx)("div",{className:"w-32 h-32 rounded-xl bg-slate-50 border border-slate-200 flex items-center justify-center cursor-pointer hover:bg-slate-100 transition-all overflow-hidden shadow-inner",onClick:()=>n.current?.click(),children:y.image?(0,b.jsx)("img",{src:y.image,alt:"Agent",className:"w-full h-full object-cover"}):(0,b.jsx)(d,{className:"w-6 h-6 text-slate-300"})}),(0,b.jsx)("input",{type:"file",ref:n,className:"hidden",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){if(b.size>2097152)return void l.toast.error("Security Scan Failed: File too large (Max 2MB)");let a=new FileReader;a.onloadend=()=>{z(b=>({...b,image:a.result})),l.toast.success("Biometric Scan Ready")},a.readAsDataURL(b)}}})]}),(0,b.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-wider",children:"Profile Identification"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 leading-relaxed max-w-xs",children:"Upload a professional headshot. This biometric data is used for secure terminal authentication."}),(0,b.jsx)("button",{type:"button",onClick:()=>n.current?.click(),className:"text-[10px] font-bold text-blue-600 hover:text-blue-700 uppercase tracking-widest mt-2 block",children:y.image?"Change Photo":"Upload Image"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4",children:[(0,b.jsx)(o,{label:"Full Name",value:y.name,onChange:a=>z({...y,name:a}),placeholder:"e.g. John Doe"}),(0,b.jsx)(o,{label:"Corporate Email",type:"email",value:y.email,onChange:a=>z({...y,email:a}),placeholder:"j.doe@nexus.com"}),(0,b.jsx)(o,{label:"Ghana Card PIN",value:y.ghanaCard,onChange:a=>z({...y,ghanaCard:a}),placeholder:"GHA-000000000-0"}),(0,b.jsx)(o,{label:"Date of Birth",type:"date",value:y.dob,onChange:a=>z({...y,dob:a})}),(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsx)(o,{label:"Contact Number",value:y.phone,onChange:a=>z({...y,phone:a}),placeholder:"+233..."})})]})]}),2===q&&(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Assigned Hub"}),(0,b.jsxs)("select",{required:!0,className:"w-full h-11 px-4 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-900 focus:ring-2 ring-slate-900/5 focus:border-slate-900 transition-all outline-none",value:y.shopId,onChange:a=>z({...y,shopId:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Select Operational Hub"}),w.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Deployment Role"}),(0,b.jsxs)("select",{required:!0,className:"w-full h-11 px-4 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-900 focus:ring-2 ring-slate-900/5 focus:border-slate-900 transition-all outline-none",value:y.role,onChange:a=>z({...y,role:a.target.value}),children:[(0,b.jsx)("option",{value:"WORKER",children:"Standard Agent (POS)"}),(0,b.jsx)("option",{value:"ADMIN",children:"System Administrator"}),(0,b.jsx)("option",{value:"SUPER_ADMIN",children:"Executive HQ"})]})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg flex gap-3 items-center",children:[(0,b.jsx)(g.ShieldCheck,{className:"text-slate-400 w-4 h-4"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500 font-medium",children:"Role assignment dictates geofencing restrictions and terminal permissions."})]})]}),3===q&&(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[(0,b.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-slate-900 border-b border-slate-200 pb-3 mb-4",children:"Banking Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(o,{label:"Bank Name",value:y.bankName,onChange:a=>z({...y,bankName:a}),placeholder:"e.g. EcoBank"}),(0,b.jsx)(o,{label:"Account Number",value:y.bankAccountNumber,onChange:a=>z({...y,bankAccountNumber:a}),placeholder:"0000000000"}),(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsx)(o,{label:"Account Name",value:y.bankAccountName,onChange:a=>z({...y,bankAccountName:a}),placeholder:"Name on Account"})})]})]}),(0,b.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-slate-900 border-b border-slate-200 pb-3 mb-4",children:"Statutory Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(o,{label:"SSNIT Number",value:y.ssnitNumber,onChange:a=>z({...y,ssnitNumber:a}),placeholder:"SSNIT #"}),(0,b.jsx)(o,{label:"Commencement Date",type:"date",value:y.commencementDate,onChange:a=>z({...y,commencementDate:a})})]})]})]}),4===q&&(0,b.jsx)("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:(0,b.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-slate-900",children:"Security Credentials"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"This key will be required for the agent's first terminal initialization."}),(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsx)(o,{label:"Access Password",value:y.password,onChange:a=>z({...y,password:a}),type:"text"})})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between border-t border-slate-100 pt-8",children:[(0,b.jsx)("button",{type:"button",onClick:()=>q>1&&r(q-1),className:`text-xs font-bold text-slate-400 hover:text-slate-900 uppercase tracking-widest transition-all ${1===q?"opacity-0":"opacity-100"}`,children:"Go Back"}),(0,b.jsxs)("button",{type:4===q?"submit":"button",onClick:()=>q<4&&r(q+1),disabled:s,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-lg font-bold text-xs uppercase tracking-widest hover:bg-slate-800 transition-all disabled:opacity-50",children:[s?(0,b.jsx)(k.Loader2,{className:"w-4 h-4 animate-spin"}):4===q?"Confirm Enrollment":"Continue",q<4&&(0,b.jsx)(j.ChevronRight,{className:"w-4 h-4"})]})]})]}),(0,b.jsx)("div",{className:"lg:col-span-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-8 shadow-sm sticky top-10",children:[(0,b.jsx)("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.15em] mb-8",children:"Enrollment Summary"}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-slate-50 rounded-lg border border-slate-100 flex items-center justify-center overflow-hidden",children:y.image?(0,b.jsx)("img",{src:y.image,className:"w-full h-full object-cover"}):(0,b.jsx)(h.User,{className:"text-slate-200 w-6 h-6"})}),(0,b.jsxs)("div",{className:"overflow-hidden",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-slate-900 truncate",children:y.name||"New Personnel"}),(0,b.jsx)("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-wide truncate",children:y.role})]})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[(0,b.jsx)(p,{label:"Sector",value:B}),(0,b.jsx)(p,{label:"Verification",value:y.ghanaCard?"Validated":"Pending"}),(0,b.jsx)(p,{label:"Signal Status",value:y.phone?"Link Ready":"Awaiting"})]}),(0,b.jsxs)("div",{className:"mt-8 pt-8 border-t border-slate-100 flex gap-2 items-start opacity-60",children:[(0,b.jsx)(i.ShieldAlert,{className:"w-3 h-3 text-slate-400 mt-0.5"}),(0,b.jsx)("p",{className:"text-[9px] font-medium text-slate-500 uppercase tracking-tighter leading-tight",children:"Data is encrypted and synced with the central Nexus operative database."})]})]})})]})]})}function o({label:a,value:c,onChange:d,placeholder:e="",type:f="text"}){return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:a}),(0,b.jsx)("input",{required:!0,type:f,placeholder:e,className:"w-full h-11 px-4 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-900 focus:ring-2 ring-slate-900/5 focus:border-slate-900 transition-all outline-none placeholder:text-slate-300 shadow-sm",value:c,onChange:a=>d(a.target.value)})]})}function p({label:a,value:c}){return(0,b.jsxs)("div",{className:"flex justify-between items-center text-[11px]",children:[(0,b.jsx)("span",{className:"font-semibold text-slate-400 uppercase tracking-tighter",children:a}),(0,b.jsx)("span",{className:"font-bold text-slate-900",children:c})]})}a.s(["default",()=>n],18059)}];

//# sourceMappingURL=_0a1da83e._.js.map