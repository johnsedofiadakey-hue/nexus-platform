module.exports=[25476,a=>{"use strict";var b=a.i(89477),c=a.i(89930),d=a.i(77241),e=a.i(67837),f=a.i(21084),g=a.i(34833),h=a.i(2807),i=a.i(88064),j=a.i(25700);let k=(0,j.default)("package-plus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);var l=a.i(16605),m=a.i(53857);let n=(0,j.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var o=a.i(75635),p=a.i(31378),q=a.i(32703);let r=(0,j.default)("folder-tree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);var s=a.i(3410),t=a.i(62147);let u=(0,j.default)("layout-list",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);var v=a.i(94837),w=a.i(60942),x=a.i(30439),y=a.i(9056),z=a.i(71929);let A=(0,x.default)(async()=>{},{loadableGenerated:{modules:[9887]},ssr:!1,loading:()=>(0,b.jsxs)("div",{className:"h-full w-full bg-slate-50 flex flex-col items-center justify-center rounded-xl border border-slate-200",children:[(0,b.jsx)(i.Loader2,{className:"w-8 h-8 text-blue-600 animate-spin mb-3"}),(0,b.jsx)("span",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:"Loading Satellite Network..."})]})});function B(){let[a,j]=(0,c.useState)([]),[x,B]=(0,c.useState)(!0),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)("NONE"),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)(""),[U,V]=(0,c.useState)(null),[W,X]=(0,c.useState)([]),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(null),[aa,ab]=(0,c.useState)({id:"",name:"",location:"",latitude:"",longitude:"",radius:"200",managerName:"",managerContact:""}),[ac,ad]=(0,c.useState)({productName:"",modelNumber:"",sku:"",price:"",quantity:"1",minStock:"5",category:"",subCategory:"",reason:"",notes:""});(0,c.useEffect)(()=>{ae()},[]);let ae=async()=>{B(!0);try{let a=await fetch(`/api/shops/list?t=${Date.now()}`),b=await a.json();j(Array.isArray(b)?b:b.data||[])}catch(a){console.error(a)}finally{B(!1)}},af=async a=>{try{let b=await fetch(`/api/shops/${a}/settings/categories`),c=await b.json();X(Array.isArray(c)?c:[])}catch(a){w.toast.error("Could not load taxonomy")}},ag=async a=>{N(!0),J(a),F("INVENTORY_VIEW"),T(""),af(a);try{let b=await fetch(`/api/shops/${a}?t=${Date.now()}`),c=await b.json();L(c.inventory||c.products||[])}catch(a){L([]),w.toast.error("Failed to load ledger")}finally{N(!1)}},ah=async()=>{if(!Y.trim())return;let a=w.toast.loading("Saving...");try{let b=$?{name:Y,parentId:$}:{name:Y};if(!(await fetch(`/api/shops/${I}/settings/categories`,{method:"POST",body:JSON.stringify(b)})).ok)throw Error();Z(""),_(null),af(I),w.toast.success("Saved",{id:a})}catch(b){w.toast.error("Failed to save",{id:a})}},ai=async(a,b)=>{if(confirm("Delete this category? Items using it will look unsorted."))try{await fetch(`/api/shops/${I}/settings/categories`,{method:"DELETE",body:JSON.stringify({id:a,isSub:b})}),af(I),w.toast.success("Deleted")}catch{w.toast.error("Delete failed")}},aj=async a=>{if(a.preventDefault(),!I)return;let b=w.toast.loading("Syncing Ledger..."),c={id:O?Q:void 0,productName:ac.productName,modelNumber:ac.modelNumber,sku:ac.sku,priceGHS:ac.price,quantity:ac.quantity,minStock:ac.minStock,category:ac.category,subCategory:ac.subCategory,reason:ac.reason,description:ac.notes};try{if((await fetch(`/api/shops/${I}`,{method:"POST",body:JSON.stringify(c)})).ok)w.toast.success("Success",{id:b}),ag(I),O||F("INVENTORY_VIEW"),ad({productName:"",modelNumber:"",sku:"",price:"",quantity:"1",minStock:"5",category:"",subCategory:"",reason:"",notes:""});else throw Error()}catch{w.toast.error("Transaction Failed",{id:b})}},ak=async a=>{if(confirm("Permanently delete this item?"))try{await fetch(`/api/shops/${I}`,{method:"DELETE",body:JSON.stringify({id:a,type:"INVENTORY"})}),L(b=>b.filter(b=>b.id!==a)),w.toast.success("Item Deleted")}catch{w.toast.error("Failed")}},al=async a=>{a.preventDefault();let b=w.toast.loading(G?"Updating Hub...":"Configuring Hub...");try{if(G&&aa.id){if(!(await fetch(`/api/shops/${aa.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...aa,radius:parseInt(aa.radius)})})).ok)throw Error("Update Failed");w.toast.success("Hub Updated",{id:b})}else{if(!(await fetch("/api/shops/list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...aa,radius:parseInt(aa.radius)})})).ok)throw Error("Creation Failed");w.toast.success("Hub Active",{id:b})}F("NONE"),ae()}catch{w.toast.error("Operation Failed",{id:b})}},am=async(a,b)=>{if(!confirm(`⚠️ WARNING: You are about to dismantle hub "${b}".

ALL INVENTORY & SALES HISTORY WILL BE ERASED.

Proceed?`))return;let c=w.toast.loading("Dismantling...");try{if((await fetch(`/api/shops/${a}`,{method:"DELETE"})).ok)w.toast.success("Hub Dismantled",{id:c}),ae();else throw Error()}catch{w.toast.error("Failed to delete",{id:c})}},an=a=>{R(a.id),P(!0),ad({productName:a.name||"",modelNumber:a.modelNumber||"",sku:a.barcode||"",price:(a.sellingPrice||0).toString(),quantity:(a.stockLevel||0).toString(),minStock:(a.minStock||5).toString(),category:a.category||"",subCategory:a.subCategory||"",reason:"",notes:a.description||""}),F("INVENTORY_FORM")},ao=a=>{a&&(J(a),af(a)),P(!1),ad({productName:"",modelNumber:"",sku:`SKU-${Math.floor(1e4*Math.random())}`,price:"",quantity:"1",minStock:"5",category:W.length>0?W[0].name:"",subCategory:W.length>0&&W[0].subCategories.length>0?W[0].subCategories[0].name:"",reason:"",notes:""}),F("INVENTORY_FORM")},ap=K.filter(a=>{let b=S.toLowerCase(),c=(a.name||"").toLowerCase(),d=(a.barcode||"").toLowerCase();return c.includes(b)||d.includes(b)});return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50/50 p-6 md:p-10 font-sans text-slate-900",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Hub Command Center"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Manage operations, dynamic inventory, and taxonomy settings."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>D(!C),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold border transition-all ${C?"bg-blue-50 text-blue-600 border-blue-200":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[(0,b.jsx)(v.Map,{size:18})," ",C?"Hide Map":"Show Map"]}),(0,b.jsxs)("button",{onClick:()=>{H(!1),F("SHOP_FORM"),ab({id:"",name:"",location:"",latitude:"",longitude:"",radius:"200",managerName:"",managerContact:""})},className:"flex items-center gap-2 bg-slate-900 text-white px-5 py-2.5 rounded-lg text-sm font-semibold hover:bg-slate-800 transition-all",children:[(0,b.jsx)(e.Plus,{size:18})," Register Hub"]})]})]}),C&&(0,b.jsxs)("div",{className:"h-[400px] w-full relative z-0 rounded-2xl overflow-hidden shadow-sm border border-slate-200 animate-in fade-in slide-in-from-top-4 duration-500",children:[(0,b.jsx)(A,{shops:a}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 z-[400] bg-white/90 backdrop-blur px-4 py-2 rounded-lg border border-slate-200 shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-600",children:"Satellite Live"})]})})]}),x?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 gap-3",children:[(0,b.jsx)(i.Loader2,{className:"animate-spin text-blue-600",size:32}),(0,b.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Loading Network..."})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-lg transition-all group relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center text-lg font-bold text-slate-700 uppercase",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mt-1 text-xs font-medium text-slate-500",children:[(0,b.jsx)(d.MapPin,{size:12})," ",a.location]})]})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>{ab({id:a.id,name:a.name||"",location:a.location||"",latitude:(a.latitude||0).toString(),longitude:(a.longitude||0).toString(),radius:(a.radius||200).toString(),managerName:a.managerName||"",managerContact:a.managerContact||""}),H(!0),F("SHOP_FORM")},className:"p-2 hover:bg-amber-50 text-slate-400 hover:text-amber-600 rounded-lg transition-colors",title:"Edit Details",children:(0,b.jsx)(g.Edit2,{size:16})}),(0,b.jsx)("button",{onClick:()=>{var b;J(b=a.id),af(b),F("SETTINGS")},className:"p-2 hover:bg-blue-50 text-slate-400 hover:text-blue-600 rounded-lg transition-colors",title:"Manage Categories",children:(0,b.jsx)(q.Settings,{size:16})}),(0,b.jsx)("button",{onClick:()=>am(a.id,a.name),className:"p-2 hover:bg-rose-50 text-slate-400 hover:text-rose-600 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(l.Trash2,{size:16})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-5",children:[(0,b.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-100",children:[(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Geofence"}),(0,b.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[a.radius,"m"]})]}),(0,b.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-100",children:[(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"SKUs"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:a._count?.inventory||a.inventoryCount||0})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>ao(a.id),className:"flex-1 py-2 px-3 border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 uppercase tracking-wide",children:"+ Add Stock"}),(0,b.jsxs)("button",{onClick:()=>ag(a.id),className:"flex-1 py-2 px-3 bg-slate-900 text-white rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-blue-600 flex items-center justify-center gap-2",children:["Inventory ",(0,b.jsx)(n,{size:12})]})]})]},a.id))})]}),"SETTINGS"===E&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-2xl p-8 shadow-2xl animate-in zoom-in-95 h-[75vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-slate-100 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-xl text-slate-900",children:"Taxonomy Settings"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Define your own product categories and sub-categories."})]}),(0,b.jsx)("button",{onClick:()=>F("NONE"),children:(0,b.jsx)(h.X,{className:"text-slate-400 hover:text-rose-600 transition-colors"})})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-6 p-1",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(r,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),(0,b.jsx)("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-lg pl-10 pr-4 py-2 text-sm outline-none focus:border-blue-500 focus:bg-white transition-all",placeholder:$?"Enter Sub-Category Name...":"Enter Main Category Name...",value:Y,onChange:a=>Z(a.target.value),onKeyDown:a=>"Enter"===a.key&&ah()})]}),$&&(0,b.jsx)("button",{onClick:()=>_(null),className:"px-4 py-2 text-xs font-bold text-slate-500 bg-white border border-slate-200 rounded-lg hover:bg-slate-50",children:"Cancel Sub"}),(0,b.jsx)("button",{onClick:ah,className:"px-6 py-2 bg-blue-600 text-white text-xs font-bold uppercase rounded-lg hover:bg-blue-700 shadow-md transition-all",children:$?"Add Sub":"Add Root"})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3",children:0===W.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400 border-2 border-dashed border-slate-100 rounded-xl",children:[(0,b.jsx)(u,{size:32,className:"mb-2 opacity-50"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"No Categories Defined"}),(0,b.jsx)("p",{className:"text-xs",children:"Add a root category to get started."})]}):W.map(a=>(0,b.jsxs)("div",{className:"border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:[(0,b.jsxs)("div",{className:"bg-white p-3 flex justify-between items-center group",children:[(0,b.jsxs)("span",{className:"font-bold text-sm text-slate-800 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-6 h-6 bg-blue-50 text-blue-600 rounded flex items-center justify-center text-xs font-bold",children:a.name.charAt(0)}),a.name]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>_(a.id),className:"text-[10px] font-bold uppercase bg-slate-50 text-slate-600 px-3 py-1.5 rounded hover:bg-blue-50 hover:text-blue-600 transition-colors border border-slate-200",children:"+ Sub"}),(0,b.jsx)("button",{onClick:()=>ai(a.id,!1),className:"p-1.5 text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded transition-colors",children:(0,b.jsx)(l.Trash2,{size:14})})]})]}),a.subCategories.length>0&&(0,b.jsx)("div",{className:"bg-slate-50 p-2 pl-4 space-y-1 border-t border-slate-100",children:a.subCategories.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center px-3 py-2 rounded-lg hover:bg-white transition-colors group/sub",children:[(0,b.jsxs)("span",{className:"flex items-center gap-2 text-xs font-medium text-slate-600",children:[(0,b.jsx)(s.ChevronRight,{size:12,className:"text-slate-300"})," ",a.name]}),(0,b.jsx)("button",{onClick:()=>ai(a.id,!0),className:"text-slate-300 hover:text-rose-600 opacity-0 group-hover/sub:opacity-100 transition-opacity",children:(0,b.jsx)(l.Trash2,{size:12})})]},a.id))})]},a.id))})]})}),"INVENTORY_FORM"===E&&(0,b.jsx)("div",{className:"fixed inset-0 z-[60] bg-slate-900/40 backdrop-blur-sm flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-2xl p-8 shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-slate-100 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-xl text-slate-900",children:O?"Edit Product":"Add Inventory"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Detailed product specification and tracking."})]}),(0,b.jsx)("button",{onClick:()=>F("INVENTORY_VIEW"),className:"text-slate-400 hover:text-rose-600",children:(0,b.jsx)(h.X,{})})]}),(0,b.jsxs)("form",{onSubmit:aj,className:"space-y-5",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Category"}),(0,b.jsxs)("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:bg-white focus:border-blue-500 outline-none transition-all",value:ac.category,onChange:a=>{let b=a.target.value,c=W.find(a=>a.name===b),d=c&&c.subCategories.length>0?c.subCategories[0].name:"";ad({...ac,category:b,subCategory:d})},children:[(0,b.jsx)("option",{value:"",children:"Select Category..."}),W.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Sub-Category"}),(0,b.jsxs)("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:bg-white focus:border-blue-500 outline-none transition-all",value:ac.subCategory,onChange:a=>ad({...ac,subCategory:a.target.value}),disabled:!ac.category,children:[(0,b.jsx)("option",{value:"",children:"Select Sub-Category..."}),W.find(a=>a.name===ac.category)?.subCategories.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Product Name"}),(0,b.jsx)("input",{className:"w-full p-3 border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"e.g. Samsung OLED TV",value:ac.productName,onChange:a=>ad({...ac,productName:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Model Number"}),(0,b.jsx)("input",{className:"w-full p-3 border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"e.g. QA65S90CAUXZN",value:ac.modelNumber,onChange:a=>ad({...ac,modelNumber:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Serial No. / Barcode"}),(0,b.jsx)("input",{className:"w-full p-3 border border-slate-200 rounded-lg text-sm font-mono focus:border-blue-500 outline-none",placeholder:"Scan...",value:ac.sku,onChange:a=>ad({...ac,sku:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Unit Price (GHS)"}),(0,b.jsx)("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-lg text-sm font-mono focus:border-blue-500 outline-none",placeholder:"0.00",value:ac.price,onChange:a=>ad({...ac,price:a.target.value}),required:!0})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Quantity"}),(0,b.jsx)("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"0",value:ac.quantity,onChange:a=>ad({...ac,quantity:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Low Stock Alert"}),(0,b.jsx)("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"5",value:ac.minStock,onChange:a=>ad({...ac,minStock:a.target.value})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block",children:"Specifications / Notes"}),(0,b.jsx)("textarea",{className:"w-full p-3 border border-slate-200 rounded-lg text-sm h-24 resize-none focus:border-blue-500 outline-none",placeholder:"Enter specs, dimensions, or internal notes...",value:ac.notes,onChange:a=>ad({...ac,notes:a.target.value})})]}),(0,b.jsx)("button",{type:"submit",className:"w-full py-3.5 bg-slate-900 text-white rounded-xl font-bold text-sm uppercase tracking-wide hover:bg-blue-600 shadow-md transition-all",children:O?"Update Product":"Add to Inventory"})]})]})}),"INVENTORY_VIEW"===E&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-5xl h-[85vh] rounded-2xl flex flex-col shadow-2xl animate-in zoom-in-95",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 rounded-t-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-white border border-slate-200 rounded-lg shadow-sm",children:(0,b.jsx)(f.Package,{className:"text-blue-600",size:20})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:"Inventory Ledger"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Click any row to view full details."})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.Search,{className:"absolute left-3 top-2.5 text-slate-400",size:14}),(0,b.jsx)("input",{type:"text",placeholder:"Search SKU, Name...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm outline-none focus:border-blue-500 w-64",value:S,onChange:a=>T(a.target.value)})]}),(0,b.jsxs)("button",{onClick:()=>(b=>{try{let c=new y.default;c.setFontSize(18),c.setFont("helvetica","bold"),c.text("INVENTORY LEDGER",14,20),c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`Generated: ${new Date().toLocaleString()}`,14,26);let d=a.find(a=>a.id===b)?.name||"Unknown Shop";c.text(`Shop: ${d} (${b.substring(0,8).toUpperCase()})`,14,31);let e=K.map(a=>[a.name||"N/A",a.modelNumber||"-",`${a.category||"General"} / ${a.subCategory||"Unsorted"}`,a.sellingPrice?.toLocaleString()||"0",a.stockLevel?.toString()||"0"]);(0,z.default)(c,{head:[["Product","Model","Category","Price (GHS)","Stock"]],body:e,startY:38,styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[15,23,42],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},theme:"grid"}),c.save(`Inventory_${b}_${new Date().toISOString().split("T")[0]}.pdf`),w.toast.success("PDF Downloaded Successfully")}catch(a){console.error(a),w.toast.error("Failed to generate PDF")}})(I),className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 text-xs font-bold uppercase rounded-lg hover:bg-slate-200",children:[(0,b.jsx)(t.FileText,{size:14})," PDF"]}),(0,b.jsx)("button",{onClick:()=>F("NONE"),children:(0,b.jsx)(h.X,{className:"text-slate-400 hover:text-rose-600"})})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto bg-slate-50/30 p-6",children:0===ap.length?(0,b.jsx)("div",{className:"text-center text-slate-400 py-20",children:"No items found."}):(0,b.jsx)("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-100 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3",children:"Item Details"}),(0,b.jsx)("th",{className:"px-6 py-3",children:"Model No."}),(0,b.jsx)("th",{className:"px-6 py-3",children:"Category"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right",children:"Price"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center",children:"Stock"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100 text-sm",children:ap.map(a=>{let c=(a.stockLevel||0)<=(a.minStock||5);return(0,b.jsxs)("tr",{onClick:()=>{V(a),F("DETAIL_VIEW")},className:"hover:bg-blue-50/50 cursor-pointer group transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("p",{className:"font-bold text-slate-900",children:a.name}),(0,b.jsx)("p",{className:"text-xs font-mono text-slate-400",children:a.barcode||"No SKU"})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-xs font-mono text-slate-500",children:a.modelNumber||"-"}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:"inline-flex flex-col",children:[(0,b.jsx)("span",{className:"font-bold text-slate-700 text-xs",children:a.subCategory}),(0,b.jsx)("span",{className:"text-[10px] text-slate-400 uppercase",children:a.category})]})}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right font-mono font-bold text-slate-700",children:["₵",a.sellingPrice?.toLocaleString()]}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 rounded text-xs font-bold ${c?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:a.stockLevel})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),an(a)},className:"p-2 hover:bg-white border border-transparent hover:border-slate-200 text-blue-600 rounded shadow-sm opacity-0 group-hover:opacity-100 transition-all",children:(0,b.jsx)(g.Edit2,{size:14})})})]},a.id)})})]})})}),(0,b.jsx)("div",{className:"p-5 border-t border-slate-100 flex justify-end bg-slate-50/50",children:(0,b.jsxs)("button",{onClick:()=>ao(I),className:"bg-slate-900 text-white px-6 py-3 rounded-xl text-xs font-bold uppercase hover:bg-blue-700 flex gap-2 shadow-lg transition-all",children:[(0,b.jsx)(k,{size:16})," Add Goods"]})})]})}),"DETAIL_VIEW"===E&&U&&(0,b.jsx)("div",{className:"fixed inset-0 z-[70] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl p-8 shadow-2xl animate-in zoom-in-95",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-6 border-b border-slate-100 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-black text-slate-900",children:U.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-[10px] font-mono text-slate-500 uppercase tracking-wide",children:U.barcode||"NO SKU"}),(0,b.jsxs)("span",{className:"text-xs text-slate-400 font-medium",children:["| ",U.modelNumber||"No Model #"]})]})]}),(0,b.jsx)("button",{onClick:()=>F("INVENTORY_VIEW"),children:(0,b.jsx)(h.X,{className:"text-slate-400 hover:text-slate-900"})})]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 text-center",children:[(0,b.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-1",children:"Selling Price"}),(0,b.jsxs)("p",{className:"text-xl font-mono font-black text-slate-900",children:["₵",U.sellingPrice?.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 text-center",children:[(0,b.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-1",children:"Available Stock"}),(0,b.jsx)("p",{className:"text-xl font-black text-slate-900",children:U.stockLevel})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase mb-2",children:"Category Taxonomy"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 bg-blue-50 px-3 py-2 rounded-lg border border-blue-100",children:[(0,b.jsx)(r,{size:14,className:"text-blue-500"}),U.category," ",(0,b.jsx)(s.ChevronRight,{size:12,className:"text-slate-400"})," ",U.subCategory]})]}),U.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase mb-2",children:"Specification / Notes"}),(0,b.jsx)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 text-sm text-slate-600 leading-relaxed whitespace-pre-wrap max-h-40 overflow-y-auto",children:U.description})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,b.jsx)("button",{onClick:()=>ak(U.id),className:"p-3 text-rose-500 hover:bg-rose-50 rounded-xl transition-colors border border-slate-100",children:(0,b.jsx)(l.Trash2,{size:18})}),(0,b.jsx)("button",{onClick:()=>{F("INVENTORY_VIEW"),an(U)},className:"flex-1 bg-slate-900 text-white rounded-xl font-bold text-sm hover:bg-blue-600 transition-all shadow-lg",children:"Edit Details"})]})]})}),"SHOP_FORM"===E&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-xl rounded-2xl p-8 shadow-2xl animate-in fade-in zoom-in-95",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-slate-900",children:G?"Edit Hub Details":"Register New Hub"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Define operational coordinates and identity."})]}),(0,b.jsx)("button",{onClick:()=>F("NONE"),className:"text-slate-400 hover:text-rose-600 transition-colors",children:(0,b.jsx)(h.X,{})})]}),(0,b.jsxs)("form",{onSubmit:al,className:"space-y-4",children:[(0,b.jsx)("input",{className:"w-full p-3 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"Hub Name",value:aa.name,onChange:a=>ab({...aa,name:a.target.value}),required:!0}),(0,b.jsx)("input",{className:"w-full p-3 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"Location Description",value:aa.location,onChange:a=>ab({...aa,location:a.target.value}),required:!0}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("input",{className:"w-full p-3 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"Manager Name",value:aa.managerName,onChange:a=>ab({...aa,managerName:a.target.value})}),(0,b.jsx)("input",{className:"w-full p-3 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"Manager Contact",value:aa.managerContact,onChange:a=>ab({...aa,managerContact:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Navigation,{size:14,className:"absolute left-3 top-3.5 text-slate-400"}),(0,b.jsx)("input",{className:"w-full p-3 pl-9 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none font-mono",placeholder:"Latitude",value:aa.latitude,onChange:a=>ab({...aa,latitude:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Navigation,{size:14,className:"absolute left-3 top-3.5 text-slate-400"}),(0,b.jsx)("input",{className:"w-full p-3 pl-9 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none font-mono",placeholder:"Longitude",value:aa.longitude,onChange:a=>ab({...aa,longitude:a.target.value}),required:!0})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-blue-50/50 rounded-lg border border-blue-100",children:[(0,b.jsx)(o.ShieldCheck,{className:"text-blue-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide block",children:"Geofence Radius (Meters)"}),(0,b.jsx)("input",{className:"w-full bg-transparent text-sm font-bold text-slate-900 border-none focus:ring-0 p-0 placeholder-slate-400",placeholder:"200",value:aa.radius,onChange:a=>ab({...aa,radius:a.target.value})})]})]}),(0,b.jsx)("button",{type:"submit",className:"w-full py-3.5 bg-slate-900 text-white rounded-xl font-bold text-sm uppercase tracking-wide hover:bg-blue-600 transition-all shadow-md mt-4",children:G?"Save Changes":"Create Hub"})]})]})})]})}a.s(["default",()=>B],25476)}];

//# sourceMappingURL=apps_admin_src_app_dashboard_shops_page_tsx_8bac3745._.js.map