{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\n/**\n * üõ°Ô∏è SECURE PRISMA CLIENT CONFIGURATION\n * \n * Database: Supabase PostgreSQL (Transaction Pooler)\n * Connection: Uses environment variables for security\n * Mode: Transaction pooling (pgbouncer=true required)\n */\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient | undefined };\n\nfunction getPrismaClient() {\n  if (globalForPrisma.prisma) {\n    return globalForPrisma.prisma;\n  }\n\n  // Build time: return a dummy client that will fail at runtime if used\n  if (!process.env.DATABASE_URL) {\n    // During build, create a minimal client that won't actually connect\n    const client = new PrismaClient({\n      log: [],\n    });\n    \n    if (process.env.NODE_ENV !== \"production\") {\n      globalForPrisma.prisma = client;\n    }\n    \n    return client;\n  }\n\n  // Runtime: create properly configured client\n  const baseUrl = process.env.DATABASE_URL;\n  const connectionUrl = baseUrl.includes(\"?\")\n    ? `${baseUrl}&pgbouncer=true&connection_limit=1`\n    : `${baseUrl}?pgbouncer=true&connection_limit=1`;\n\n  const client = new PrismaClient({\n    datasources: {\n      db: {\n        url: connectionUrl,\n      },\n    },\n    log: process.env.NODE_ENV === \"development\" ? [\"error\", \"warn\"] : [\"error\"],\n  });\n\n  if (process.env.NODE_ENV !== \"production\") {\n    globalForPrisma.prisma = client;\n  }\n\n  return client;\n}\n\nexport const prisma = getPrismaClient();"],"names":[],"mappings":";;;;AAAA;;AAEA;;;;;;CAMC,GAED,MAAM;AAEN,SAAS;IACP,IAAI,gBAAgB,MAAM,EAAE;QAC1B,OAAO,gBAAgB,MAAM;IAC/B;IAEA,sEAAsE;IACtE,IAAI,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;QAC7B,oEAAoE;QACpE,MAAM,SAAS,IAAI,sMAAY,CAAC;YAC9B,KAAK,EAAE;QACT;QAEA,wCAA2C;YACzC,gBAAgB,MAAM,GAAG;QAC3B;QAEA,OAAO;IACT;IAEA,6CAA6C;IAC7C,MAAM,UAAU,QAAQ,GAAG,CAAC,YAAY;IACxC,MAAM,gBAAgB,QAAQ,QAAQ,CAAC,OACnC,GAAG,QAAQ,kCAAkC,CAAC,GAC9C,GAAG,QAAQ,kCAAkC,CAAC;IAElD,MAAM,SAAS,IAAI,sMAAY,CAAC;QAC9B,aAAa;YACX,IAAI;gBACF,KAAK;YACP;QACF;QACA,KAAK,uCAAyC;YAAC;YAAS;SAAO,GAAG;IACpE;IAEA,wCAA2C;QACzC,gBAAgB,MAAM,GAAG;IAC3B;IAEA,OAAO;AACT;AAEO,MAAM,SAAS"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/lib/auth.ts"],"sourcesContent":["import { NextAuthOptions } from \"next-auth\";\nimport CredentialsProvider from \"next-auth/providers/credentials\";\nimport { prisma } from \"@/lib/prisma\";\nimport { compare } from \"bcryptjs\";\n\n// Check for required environment variables\nif (!process.env.NEXTAUTH_SECRET) {\n  console.error(\"‚ùå CRITICAL: NEXTAUTH_SECRET is not set!\");\n  console.error(\"Generate one with: openssl rand -base64 32\");\n}\n\nif (!process.env.DATABASE_URL) {\n  console.error(\"‚ùå CRITICAL: DATABASE_URL is not set!\");\n}\n\n// üö® CRITICAL: Check NEXTAUTH_URL for deployment\nif (!process.env.NEXTAUTH_URL) {\n  console.error(\"‚ö†Ô∏è  WARNING: NEXTAUTH_URL is not set!\");\n  console.error(\"This can cause refresh loops in production.\");\n  console.error(\"Set it to your deployment URL: https://your-app.vercel.app\");\n} else if (process.env.NEXTAUTH_URL.includes('localhost') && process.env.NODE_ENV === 'production') {\n  console.error(\"üî¥ CRITICAL ERROR: NEXTAUTH_URL is set to localhost in production!\");\n  console.error(\"Current value:\", process.env.NEXTAUTH_URL);\n  console.error(\"This WILL cause refresh loops. Update to your actual domain!\");\n}\n\nexport const authOptions: NextAuthOptions = {\n  debug: process.env.NODE_ENV === 'development',\n\n  // üîí TRUST HOST for Vercel/production deployments\n  // This prevents callback URL mismatches\n  trustHost: true,\n\n  // üç™ FORCE COOKIES TO STICK (Critical for localhost)\n  cookies: {\n    sessionToken: {\n      name: `next-auth.session-token`,\n      options: {\n        httpOnly: true,\n        sameSite: 'lax',\n        path: '/',\n        secure: process.env.NODE_ENV === 'production'\n      }\n    }\n  },\n\n  session: { \n    strategy: \"jwt\",\n    maxAge: 30 * 24 * 60 * 60, // 30 days\n  },\n\n  secret: process.env.NEXTAUTH_SECRET,\n\n  providers: [\n    CredentialsProvider({\n      name: \"Credentials\",\n      credentials: {\n        email: { label: \"Email\", type: \"email\" },\n        password: { label: \"Password\", type: \"password\" }\n      },\n      async authorize(credentials) {\n        if (!credentials?.email || !credentials?.password) return null;\n\n        try {\n          // 1. Find User\n          const user = await prisma.user.findUnique({\n            where: { email: credentials.email.toLowerCase() }\n          });\n\n          if (!user) {\n            console.log(\"User not found:\", credentials.email);\n            return null;\n          }\n\n          // 2. üõ°Ô∏è SECURE PASSWORD CHECK (Bcrypt)\n          const isValid = await compare(credentials.password, user.password);\n\n          if (!isValid) {\n            console.log(\"Invalid password for user:\", credentials.email);\n            return null;\n          }\n\n          console.log(\"‚úÖ User authenticated:\", user.email);\n          \n          return {\n            id: user.id,\n            email: user.email,\n            name: user.name,\n            role: user.role,\n            organizationId: user.organizationId,\n            bankName: user.bankName,\n            bankAccountNumber: user.bankAccountNumber,\n            bankAccountName: user.bankAccountName,\n            ssnitNumber: user.ssnitNumber,\n            commencementDate: user.commencementDate,\n            ghanaCard: user.ghanaCard,\n            dob: user.dob\n          };\n        } catch (error) {\n          console.error(\"‚ùå Auth error:\", error);\n          return null;\n        }\n      }\n    })\n  ],\n\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.role = (user as any).role;\n        token.id = user.id;\n        token.organizationId = (user as any).organizationId;\n        token.bankName = (user as any).bankName;\n        token.bankAccountNumber = (user as any).bankAccountNumber;\n        token.bankAccountName = (user as any).bankAccountName;\n        token.ssnitNumber = (user as any).ssnitNumber;\n        token.commencementDate = (user as any).commencementDate;\n        token.ghanaCard = (user as any).ghanaCard;\n        token.dob = (user as any).dob;\n      }\n      return token;\n    },\n    async session({ session, token }) {\n      if (session.user) {\n        (session.user as any).role = token.role;\n        (session.user as any).id = token.id;\n        (session.user as any).organizationId = token.organizationId;\n        (session.user as any).bankName = token.bankName;\n        (session.user as any).bankAccountNumber = token.bankAccountNumber;\n        (session.user as any).bankAccountName = token.bankAccountName;\n        (session.user as any).ssnitNumber = token.ssnitNumber;\n        (session.user as any).commencementDate = token.commencementDate;\n        (session.user as any).ghanaCard = token.ghanaCard;\n        (session.user as any).dob = token.dob;\n      }\n      return session;\n    }\n  },\n\n  // üö™ CUSTOM PAGES\n  pages: {\n    signIn: '/auth/signin',\n    error: '/auth/signin', // Redirect errors back to login\n  },\n\n  // Add useSecureCookies for production\n  useSecureCookies: process.env.NODE_ENV === 'production',\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/app/api/shops/list/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { prisma } from \"@/lib/prisma\";\nimport { getServerSession } from \"next-auth/next\";\nimport { authOptions } from \"@/lib/auth\";\n\n// ----------------------------------------------------------------------\n// 1. GET: FETCH ALL SHOPS (Registry Grid)\n// ----------------------------------------------------------------------\nexport async function GET() {\n  try {\n    const session = await getServerSession(authOptions);\n    if (!session || !session.user) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    // Relaxed Check: Allow Super Admin or return empty if no Org\n    const orgId = session.user.organizationId;\n    const userId = session.user.id;\n    const isSuperAdmin = session.user.role === 'SUPER_ADMIN';\n\n    // Query Strategy:\n    // 1. If Super Admin -> All shops (Show everything, even unlinked ones)\n    // 2. If Org ID exists -> Shops in Org\n    // 3. Fallback: Shops created by this user\n    const whereClause = isSuperAdmin\n      ? {} // SHOW ALL\n      : orgId\n        ? { organizationId: orgId }\n        : { users: { some: { id: userId } } };\n\n    const shops = await prisma.shop.findMany({\n      where: whereClause,\n      orderBy: { createdAt: \"desc\" },\n      select: {\n        id: true,\n        name: true,\n        location: true,\n        latitude: true,\n        longitude: true,\n        radius: true,\n        openingTime: true,\n        phone: true,\n\n        // Count relations\n        _count: {\n          select: {\n            products: true,\n            users: true\n          }\n        },\n\n        // Fetch one manager for display\n        users: {\n          where: { role: 'MANAGER' },\n          take: 1,\n          select: { name: true, phone: true }\n        }\n      }\n    });\n\n    // Format for frontend\n    const formattedShops = shops.map(shop => ({\n      id: shop.id,\n      name: shop.name,\n      location: shop.location || \"\",\n\n      // ‚ö†Ô∏è IMPORTANT: Expose these at the top level for the \"Edit Form\"\n      latitude: shop.latitude || 0,\n      longitude: shop.longitude || 0,\n      radius: shop.radius || 200,\n      managerName: shop.users[0]?.name || \"\",\n      managerPhone: shop.phone || shop.users[0]?.phone || \"\",\n      openingTime: shop.openingTime || \"08:00 AM\",\n\n      // UI Helper Data\n      contact: shop.phone || shop.users[0]?.phone || \"N/A\",\n      inventoryCount: shop._count.products,\n\n      // Legacy structure for Map components (if needed)\n      geo: {\n        lat: shop.latitude || 5.6037,\n        lng: shop.longitude || -0.1870,\n        radius: shop.radius || 50\n      },\n\n      // Pass the raw counts object for components using _count\n      _count: shop._count\n    }));\n\n    return NextResponse.json(formattedShops);\n\n  } catch (error) {\n    console.error(\"‚ùå Shop List Failure:\", error);\n    return NextResponse.json({ error: \"Failed to load registry\" }, { status: 500 });\n  }\n}\n\n// ----------------------------------------------------------------------\n// 2. POST: CREATE NEW SHOP (Register Hub)\n// ----------------------------------------------------------------------\nexport async function POST(req: Request) {\n  try {\n    const session = await getServerSession(authOptions);\n    if (!session || !session.user) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    // Handle Admin Logic\n    let orgId = session.user.organizationId;\n    if (!orgId && session.user.role === 'SUPER_ADMIN') {\n      const defaultOrg = await prisma.organization.findFirst();\n      orgId = defaultOrg?.id;\n    }\n\n    if (!orgId) {\n      return NextResponse.json({ error: \"Organization Context Required\" }, { status: 400 });\n    }\n\n    const body = await req.json();\n    console.log(\"üìù REGISTERING HUB:\", body);\n\n    // 1. Sanitize\n    const name = body.name?.trim();\n    const location = body.location?.trim();\n    const lat = parseFloat(body.latitude);\n    const lng = parseFloat(body.longitude);\n    const rad = parseFloat(body.radius) || 200;\n\n    // 2. Validate\n    if (!name || isNaN(lat) || isNaN(lng)) {\n      return NextResponse.json(\n        { error: \"Name and valid Coordinates are required\" },\n        { status: 400 }\n      );\n    }\n\n    // 3. Create\n    const newShop = await prisma.shop.create({\n      data: {\n        organizationId: orgId, // üîê Link to Organization\n        name,\n        location,\n        latitude: lat,\n        longitude: lng,\n        radius: rad,\n        openingTime: body.openingTime || \"08:00 AM\",\n        phone: body.managerPhone\n      }\n    });\n\n    return NextResponse.json(newShop);\n\n  } catch (error) {\n    console.error(\"‚ùå Create Shop Failure:\", error);\n    return NextResponse.json({ error: \"Failed to register hub\" }, { status: 500 });\n  }\n}"],"names":[],"mappings":"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"}}]
}