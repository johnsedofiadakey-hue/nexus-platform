{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/components/dashboard/LivePulseFeed.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport {\n    Activity,\n    ShoppingCart,\n    UserCheck,\n    FileText,\n    AlertCircle,\n    TrendingUp,\n    MapPin,\n    Clock\n} from 'lucide-react';\n\ninterface PulseItem {\n    id: string;\n    type: string;\n    user: string;\n    shop: string;\n    message: string;\n    severity: string;\n    timestamp: string;\n}\n\nexport default function LivePulseFeed({ data }: { data: PulseItem[] }) {\n    const getIcon = (type: string, severity: string) => {\n        switch (type) {\n            case 'SALE_EVENT':\n                return <ShoppingCart size={14} className={severity === 'POSITIVE' ? 'text-emerald-500' : 'text-blue-500'} />;\n            case 'CHECK_IN':\n                return <UserCheck size={14} className=\"text-indigo-500\" />;\n            case 'FIELD_REPORT':\n                return <FileText size={14} className=\"text-amber-500\" />;\n            case 'GHOST_ALERT':\n                return <AlertCircle size={14} className=\"text-rose-500\" />;\n            case 'STOCK_LOW':\n                return <AlertCircle size={14} className=\"text-orange-500\" />;\n            default:\n                return <Activity size={14} className=\"text-slate-400\" />;\n        }\n    };\n\n    const getTimeAgo = (timestamp: string) => {\n        const seconds = Math.floor((new Date().getTime() - new Date(timestamp).getTime()) / 1000);\n        if (seconds < 60) return 'Just now';\n        if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\n        return `${Math.floor(seconds / 3600)}h ago`;\n    };\n\n    return (\n        <div className=\"flex flex-col h-full overflow-hidden\">\n            <div className=\"px-5 py-3 border-b border-slate-200 bg-slate-50 sticky top-0 z-10\">\n                <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"relative\">\n                            <Activity size={14} className=\"text-blue-600\" />\n                            <div className=\"absolute -top-1 -right-1 w-1.5 h-1.5 bg-blue-500 rounded-full animate-ping\" />\n                        </div>\n                        <h3 className=\"text-xs font-semibold text-slate-900\">Activity Pulse</h3>\n                    </div>\n                    <span className=\"text-[10px] font-medium text-slate-500 uppercase tracking-wider\">Live</span>\n                </div>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-3\">\n                {data.length > 0 ? (\n                    data.map((item) => (\n                        <div\n                            key={item.id}\n                            className=\"flex gap-3 group\"\n                        >\n                            <div className=\"relative flex flex-col items-center\">\n                                <div className={`p-1.5 border transition-all ${item.severity === 'HIGH' ? 'bg-rose-50 border-rose-200' :\n                                        item.severity === 'POSITIVE' ? 'bg-emerald-50 border-emerald-200' :\n                                            'bg-slate-50 border-slate-200'\n                                    }`}>\n                                    {getIcon(item.type, item.severity)}\n                                </div>\n                                <div className=\"w-px flex-1 bg-slate-200 mt-2\" />\n                            </div>\n\n                            <div className=\"flex-1 pb-3\">\n                                <div className=\"flex justify-between items-start mb-1\">\n                                    <p className=\"text-[11px] font-semibold text-slate-900 leading-tight\">\n                                        {item.user}\n                                    </p>\n                                    <span className=\"text-[9px] font-medium text-slate-400 leading-tight flex items-center gap-1\">\n                                        <Clock size={9} /> {getTimeAgo(item.timestamp)}\n                                    </span>\n                                </div>\n                                <p className=\"text-xs text-slate-600 mb-2 pr-4\">{item.message}</p>\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"flex items-center gap-1 text-[9px] font-medium text-slate-500 uppercase tracking-wider\">\n                                        <MapPin size={9} /> {item.shop}\n                                    </div>\n                                    {item.type === 'SALE_EVENT' && item.severity === 'POSITIVE' && (\n                                        <div className=\"flex items-center gap-1 text-[9px] font-medium text-emerald-700 bg-emerald-50 border border-emerald-200 px-1.5 py-0.5\">\n                                            <TrendingUp size={9} /> High Value\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    ))\n                ) : (\n                    <div className=\"h-full flex flex-col items-center justify-center text-center p-8\">\n                        <div className=\"p-4 bg-slate-50 border border-slate-200 mb-4\">\n                            <Activity size={20} className=\"text-slate-300\" />\n                        </div>\n                        <p className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Scanning Network...</p>\n                        <p className=\"text-xs text-slate-400 mt-1\">Acquiring real-time activity stream</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/components/dashboard/ActivityLogWidget.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Activity, User, Clock, ChevronRight } from \"lucide-react\";\nimport Link from \"next/link\";\n\ninterface ActivityItem {\n  id: string;\n  userName: string;\n  action: string;\n  description: string;\n  createdAt: string;\n  entity: string;\n}\n\nexport default function ActivityLogWidget() {\n  const [activities, setActivities] = useState<ActivityItem[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchLogs = async () => {\n      try {\n        const response = await fetch(\"/api/activity-log?limit=10\");\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}`);\n        }\n        const text = await response.text();\n        if (!text) {\n          console.warn(\"Empty response from activity log API\");\n          setActivities([]);\n          return;\n        }\n        const data = JSON.parse(text);\n        if (data.success && Array.isArray(data.data)) {\n          setActivities(data.data);\n        } else {\n          setActivities([]);\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch activity log:\", error);\n        setActivities([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchLogs();\n    const interval = setInterval(fetchLogs, 30000); // Refresh every 30s\n    return () => clearInterval(interval);\n  }, []);\n\n  const getActionColor = (action: string) => {\n    if (action.includes(\"CREATED\")) return \"text-emerald-600 bg-emerald-50\";\n    if (action.includes(\"UPDATED\")) return \"text-blue-600 bg-blue-50\";\n    if (action.includes(\"DELETED\")) return \"text-red-600 bg-red-50\";\n    return \"text-slate-600 bg-slate-50\";\n  };\n\n  const formatTime = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diff = Math.floor((now.getTime() - date.getTime()) / 60000); // minutes\n\n    if (diff < 1) return \"Just now\";\n    if (diff < 60) return `${diff}m ago`;\n    if (diff < 1440) return `${Math.floor(diff / 60)}h ago`;\n    return date.toLocaleDateString();\n  };\n\n  return (\n    <div className=\"bg-white border border-slate-200 h-full flex flex-col\">\n      <div className=\"px-4 py-3 border-b border-slate-100 flex justify-between items-center bg-slate-50\">\n        <div className=\"flex items-center gap-2\">\n          <Activity size={14} className=\"text-slate-600\" />\n          <h3 className=\"text-xs font-bold text-slate-900 uppercase tracking-wide\">\n            Recent Activity\n          </h3>\n        </div>\n        <Link \n          href=\"/dashboard/activity-log\"\n          className=\"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1\"\n        >\n          View All <ChevronRight size={12} />\n        </Link>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto\">\n        {loading ? (\n          <div className=\"p-8 text-center\">\n            <div className=\"animate-spin w-6 h-6 border-2 border-slate-200 border-t-slate-600 rounded-full mx-auto mb-2\"></div>\n            <p className=\"text-xs text-slate-400\">Loading...</p>\n          </div>\n        ) : activities.length > 0 ? (\n          <div className=\"divide-y divide-slate-100\">\n            {activities.map((activity) => (\n              <div\n                key={activity.id}\n                className=\"px-4 py-3 hover:bg-slate-50 transition-colors\"\n              >\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"pt-0.5\">\n                    <div className=\"w-7 h-7 rounded bg-slate-100 flex items-center justify-center\">\n                      <User size={14} className=\"text-slate-500\" />\n                    </div>\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <p className=\"text-xs font-semibold text-slate-900 truncate\">\n                        {activity.userName}\n                      </p>\n                      <span\n                        className={`px-1.5 py-0.5 rounded text-[9px] font-bold uppercase ${getActionColor(\n                          activity.action\n                        )}`}\n                      >\n                        {activity.action.replace(/_/g, \" \")}\n                      </span>\n                    </div>\n                    <p className=\"text-xs text-slate-600 leading-snug line-clamp-2\">\n                      {activity.description}\n                    </p>\n                    <div className=\"flex items-center gap-1 mt-1 text-[10px] text-slate-400\">\n                      <Clock size={10} />\n                      {formatTime(activity.createdAt)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"p-8 text-center\">\n            <Activity size={32} className=\"text-slate-200 mx-auto mb-2\" />\n            <p className=\"text-xs text-slate-400\">No recent activity</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/components/dashboard/AdminTargetWidget.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { Target, TrendingUp, Users, DollarSign, Package, Plus, Edit2, X, RefreshCcw } from \"lucide-react\";\nimport { toast } from \"react-hot-toast\";\n\ninterface AdminTargetWidgetProps {\n  adminTarget: any;\n  teamPerformance: {\n    totalSales: number;\n    totalQuantity: number;\n    activeAgents: number;\n  };\n  onRefresh: () => void;\n}\n\nexport default function AdminTargetWidget({ adminTarget, teamPerformance, onRefresh }: AdminTargetWidgetProps) {\n  const [showModal, setShowModal] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    targetValue: adminTarget?.targetValue || 50000,\n    targetQuantity: adminTarget?.targetQuantity || 500,\n    period: \"MONTHLY\"\n  });\n\n  const valueProgress = adminTarget && teamPerformance?.totalSales != null && adminTarget.targetValue\n    ? Math.min((teamPerformance.totalSales / adminTarget.targetValue) * 100, 100)\n    : 0;\n  const quantityProgress = adminTarget && teamPerformance?.totalQuantity != null && adminTarget.targetQuantity\n    ? Math.min((teamPerformance.totalQuantity / adminTarget.targetQuantity) * 100, 100)\n    : 0;\n\n  const handleCreateOrUpdate = async () => {\n    setLoading(true);\n    const t = toast.loading(adminTarget ? \"Updating target...\" : \"Creating target...\");\n\n    try {\n      const now = new Date();\n      let end = new Date();\n      if (formData.period === 'WEEKLY') end.setDate(now.getDate() + 7);\n      else if (formData.period === 'MONTHLY') end.setMonth(now.getMonth() + 1);\n      else if (formData.period === 'QUARTERLY') end.setMonth(now.getMonth() + 3);\n\n      const method = adminTarget ? \"PATCH\" : \"POST\";\n      const body: any = {\n        targetValue: parseFloat(formData.targetValue.toString()),\n        targetQuantity: parseInt(formData.targetQuantity.toString()),\n        targetType: \"ADMIN\"\n      };\n\n      if (adminTarget) {\n        body.targetId = adminTarget.id;\n      } else {\n        body.startDate = now;\n        body.endDate = end;\n      }\n\n      const response = await fetch(\"/api/targets\", {\n        method,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body)\n      });\n\n      if (response.ok) {\n        toast.success(adminTarget ? \"Target updated successfully\" : \"Target created successfully\", { id: t });\n        setShowModal(false);\n        onRefresh();\n      } else {\n        throw new Error(\"Failed to save target\");\n      }\n    } catch (error) {\n      toast.error(\"Failed to save target\", { id: t });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"bg-white border border-slate-200 overflow-hidden\">\n        {/* Header */}\n        <div className=\"border-b border-slate-200 px-5 py-3 bg-slate-50 flex justify-between items-center\">\n          <h3 className=\"text-xs font-semibold text-slate-900 flex items-center gap-2\">\n            <Target size={14} className=\"text-indigo-600\" /> Team Performance Target\n          </h3>\n          <button\n            onClick={() => {\n              if (adminTarget) {\n                setFormData({\n                  targetValue: adminTarget.targetValue,\n                  targetQuantity: adminTarget.targetQuantity,\n                  period: \"MONTHLY\"\n                });\n              }\n              setShowModal(true);\n            }}\n            className=\"flex items-center gap-1.5 px-3 py-1.5 text-[9px] font-semibold uppercase tracking-wider bg-indigo-600 text-white hover:bg-indigo-700 transition-colors\"\n          >\n            {adminTarget ? <><Edit2 size={10} /> Edit</> : <><Plus size={10} /> Set Target</>}\n          </button>\n        </div>\n\n        {/* Content */}\n        {adminTarget ? (\n          <div className=\"p-5 space-y-5\">\n            {/* Target Period */}\n            <div className=\"flex justify-between items-center pb-3 border-b border-slate-100\">\n              <div>\n                <p className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Current Period</p>\n                <p className=\"text-xs font-semibold text-slate-900 mt-1\">\n                  {new Date(adminTarget.startDate).toLocaleDateString()} - {new Date(adminTarget.endDate).toLocaleDateString()}\n                </p>\n              </div>\n              <div className={`px-2.5 py-1 text-[9px] font-bold uppercase tracking-wider ${\n                adminTarget.status === 'ACTIVE' ? 'bg-emerald-50 border border-emerald-200 text-emerald-700' :\n                adminTarget.status === 'COMPLETED' ? 'bg-blue-50 border border-blue-200 text-blue-700' :\n                'bg-slate-50 border border-slate-200 text-slate-700'\n              }`}>\n                {adminTarget.status}\n              </div>\n            </div>\n\n            {/* Team Stats */}\n            <div className=\"grid grid-cols-3 gap-3\">\n              <div className=\"bg-slate-50 border border-slate-200 p-3\">\n                <div className=\"flex items-center gap-1.5 mb-1.5\">\n                  <Users size={10} className=\"text-slate-500\" />\n                  <p className=\"text-[9px] font-semibold text-slate-500 uppercase tracking-wider\">Active Agents</p>\n                </div>\n                <p className=\"text-xl font-bold text-slate-900\">{teamPerformance.activeAgents}</p>\n              </div>\n              <div className=\"bg-slate-50 border border-slate-200 p-3\">\n                <div className=\"flex items-center gap-1.5 mb-1.5\">\n                  <DollarSign size={10} className=\"text-emerald-600\" />\n                  <p className=\"text-[9px] font-semibold text-slate-500 uppercase tracking-wider\">Team Sales</p>\n                </div>\n                <p className=\"text-xl font-bold text-emerald-600\">â‚µ{teamPerformance.totalSales.toLocaleString()}</p>\n              </div>\n              <div className=\"bg-slate-50 border border-slate-200 p-3\">\n                <div className=\"flex items-center gap-1.5 mb-1.5\">\n                  <Package size={10} className=\"text-blue-600\" />\n                  <p className=\"text-[9px] font-semibold text-slate-500 uppercase tracking-wider\">Units Sold</p>\n                </div>\n                <p className=\"text-xl font-bold text-blue-600\">{teamPerformance.totalQuantity}</p>\n              </div>\n            </div>\n\n            {/* Revenue Progress */}\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between items-end\">\n                <div>\n                  <p className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Revenue Target</p>\n                  <p className=\"text-sm font-bold text-slate-900 mt-0.5\">\n                    â‚µ{teamPerformance.totalSales.toLocaleString()} <span className=\"text-slate-400\">/ â‚µ{adminTarget.targetValue.toLocaleString()}</span>\n                  </p>\n                </div>\n                <div className=\"flex items-center gap-1.5\">\n                  <TrendingUp size={12} className={valueProgress >= 100 ? 'text-emerald-600' : valueProgress >= 50 ? 'text-amber-600' : 'text-slate-400'} />\n                  <p className={`text-sm font-bold ${valueProgress >= 100 ? 'text-emerald-600' : valueProgress >= 50 ? 'text-amber-600' : 'text-slate-900'}`}>\n                    {(valueProgress || 0).toFixed(1)}%\n                  </p>\n                </div>\n              </div>\n              <div className=\"h-2 bg-slate-100 border border-slate-200 overflow-hidden\">\n                <div\n                  className={`h-full transition-all duration-500 ${\n                    valueProgress >= 100 ? 'bg-emerald-500' :\n                    valueProgress >= 75 ? 'bg-blue-500' :\n                    valueProgress >= 50 ? 'bg-amber-500' :\n                    'bg-slate-400'\n                  }`}\n                  style={{ width: `${valueProgress}%` }}\n                />\n              </div>\n            </div>\n\n            {/* Quantity Progress */}\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between items-end\">\n                <div>\n                  <p className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Volume Target</p>\n                  <p className=\"text-sm font-bold text-slate-900 mt-0.5\">\n                    {teamPerformance.totalQuantity} <span className=\"text-slate-400\">/ {adminTarget.targetQuantity} units</span>\n                  </p>\n                </div>\n                <p className={`text-sm font-bold ${quantityProgress >= 100 ? 'text-emerald-600' : quantityProgress >= 50 ? 'text-amber-600' : 'text-slate-900'}`}>\n                  {(quantityProgress || 0).toFixed(1)}%\n                </p>\n              </div>\n              <div className=\"h-2 bg-slate-100 border border-slate-200 overflow-hidden\">\n                <div\n                  className={`h-full transition-all duration-500 ${\n                    quantityProgress >= 100 ? 'bg-emerald-500' :\n                    quantityProgress >= 75 ? 'bg-blue-500' :\n                    quantityProgress >= 50 ? 'bg-amber-500' :\n                    'bg-slate-400'\n                  }`}\n                  style={{ width: `${quantityProgress}%` }}\n                />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"p-12 text-center\">\n            <div className=\"w-16 h-16 mx-auto bg-slate-50 border border-slate-200 flex items-center justify-center mb-4\">\n              <Target size={24} className=\"text-slate-300\" />\n            </div>\n            <p className=\"text-xs font-semibold text-slate-500 uppercase tracking-wider\">No Active Target</p>\n            <p className=\"text-[10px] text-slate-400 mt-1\">Set a team performance goal to track progress</p>\n          </div>\n        )}\n      </div>\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-md border border-slate-200\">\n            <div className=\"p-8 border-b border-slate-200 flex justify-between items-center bg-slate-50\">\n              <div>\n                <h3 className=\"text-lg font-bold text-slate-900\">{adminTarget ? 'Edit' : 'Set'} Team Target</h3>\n                <p className=\"text-[10px] font-medium text-slate-500 uppercase tracking-wider mt-1\">Admin Performance Goal</p>\n              </div>\n              <button onClick={() => setShowModal(false)} className=\"p-2 bg-white border border-slate-200 hover:bg-slate-50 transition-colors\">\n                <X size={18} />\n              </button>\n            </div>\n\n            <div className=\"p-8 space-y-5\">\n              {!adminTarget && (\n                <div className=\"space-y-2\">\n                  <label className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Period</label>\n                  <div className=\"grid grid-cols-3 gap-2\">\n                    {['WEEKLY', 'MONTHLY', 'QUARTERLY'].map((p) => (\n                      <button\n                        key={p}\n                        onClick={() => setFormData({ ...formData, period: p })}\n                        className={`py-2.5 text-[10px] font-bold uppercase tracking-wider border transition-colors ${\n                          formData.period === p\n                            ? 'bg-indigo-600 border-indigo-600 text-white'\n                            : 'bg-slate-50 border-slate-200 text-slate-500 hover:border-slate-300'\n                        }`}\n                      >\n                        {p}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              <div className=\"space-y-2\">\n                <label className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Revenue Target (â‚µ)</label>\n                <input\n                  type=\"number\"\n                  className=\"w-full h-12 px-4 bg-slate-50 border border-slate-200 text-sm font-semibold outline-none focus:border-indigo-500 focus:bg-white transition-colors\"\n                  placeholder=\"50000\"\n                  value={formData.targetValue}\n                  onChange={(e) => setFormData({ ...formData, targetValue: parseFloat(e.target.value) || 0 })}\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Volume Target (Units)</label>\n                <input\n                  type=\"number\"\n                  className=\"w-full h-12 px-4 bg-slate-50 border border-slate-200 text-sm font-semibold outline-none focus:border-indigo-500 focus:bg-white transition-colors\"\n                  placeholder=\"500\"\n                  value={formData.targetQuantity}\n                  onChange={(e) => setFormData({ ...formData, targetQuantity: parseInt(e.target.value) || 0 })}\n                />\n              </div>\n\n              <div className=\"pt-5 border-t border-slate-200\">\n                <button\n                  onClick={handleCreateOrUpdate}\n                  disabled={loading || !formData.targetValue || !formData.targetQuantity}\n                  className=\"w-full h-12 bg-slate-900 text-white font-bold uppercase tracking-wider hover:bg-slate-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                >\n                  {loading ? <RefreshCcw className=\"animate-spin\" size={16} /> : (adminTarget ? 'Update Target' : 'Activate Target')}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1408, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport {\n  LayoutDashboard, RefreshCcw, Users, Signal,\n  Activity, Package, ShieldAlert, Building2, Map as MapIcon, Table,\n  Lock, Loader2\n} from 'lucide-react';\nimport {\n  BarChart, Bar, XAxis, CartesianGrid, Tooltip, ResponsiveContainer, Cell\n} from 'recharts';\nimport dynamic from 'next/dynamic';\nimport { useSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\nimport LivePulseFeed from \"@/components/dashboard/LivePulseFeed\";\nimport ActivityLogWidget from \"@/components/dashboard/ActivityLogWidget\";\nimport AdminTargetWidget from \"@/components/dashboard/AdminTargetWidget\";\n\n// ðŸ›°ï¸ DYNAMIC MAP IMPORT (Fixed for Next.js 16 Turbopack stability)\nconst AdminHQMap = dynamic(() => import('@/components/maps/AdminHQMap'), {\n  ssr: false,\n  loading: () => (\n    <div className=\"h-full w-full bg-slate-100 animate-pulse rounded-sm flex flex-col items-center justify-center\">\n      <RefreshCcw className=\"animate-spin text-slate-300 mb-2\" size={20} />\n      <span className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Calibrating Satellite...</span>\n    </div>\n  )\n});\n\n// --- UI: METRIC CARD (Professional Enterprise Design) ---\nconst StatCard = ({ label, value, sub, icon: Icon, active, alert }: any) => (\n  <div className={`nexus-card p-6 flex flex-col justify-between h-32 ${active ? 'border-primary bg-primary/5' : ''} ${alert ? 'border-rose-200 bg-rose-50/10' : ''}`}>\n    <div className=\"flex justify-between items-start\">\n      <div className={`p-2.5 rounded-lg ${active ? 'bg-primary/10 text-primary' : alert ? 'bg-rose-100 text-rose-700' : 'bg-slate-100 text-slate-600'}`}>\n        <Icon size={18} strokeWidth={2} />\n      </div>\n      {active && <div className=\"h-2 w-2 rounded-full bg-primary animate-pulse shadow-[0_0_8px_var(--color-primary)]\" />}\n    </div>\n    <div>\n      <h3 className=\"text-2xl font-semibold text-slate-900 tracking-tight\">{value}</h3>\n      <div className=\"flex justify-between items-end mt-0.5\">\n        <p className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">{label}</p>\n        {sub && <p className=\"text-[9px] text-slate-400\">{sub}</p>}\n      </div>\n    </div>\n  </div>\n);\n\nexport default function OperationsHub() {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState({ shops: [], team: [], analytics: {}, pulse: [], adminTarget: null, teamPerformance: { totalSales: 0, totalQuantity: 0, activeAgents: 0 } });\n  const [viewMode, setViewMode] = useState<'DATA' | 'MAP'>('DATA');\n  const [showTargetModal, setShowTargetModal] = useState(false);\n\n  // --- ðŸš€ OPTIMIZED DATA FETCHER ---\n  const fetchData = useCallback(async () => {\n    if (status !== \"authenticated\") return;\n\n    try {\n      const t = Date.now();\n      // Added timeout signal to prevent \"forever loading\" if database is slow\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 15000); // 15s timeout\n\n      const [analyticsRes, pulseRes, shopsRes, teamRes, adminTargetRes, agentTargetsRes] = await Promise.all([\n        fetch(`/api/analytics/dashboard?t=${t}`, { signal: controller.signal }),\n        fetch(`/api/operations/pulse-feed?t=${t}`, { signal: controller.signal }),\n        fetch(`/api/shops/list?t=${t}`, { signal: controller.signal }),\n        fetch(`/api/hr/team/list?t=${t}`, { signal: controller.signal }),\n        fetch(`/api/targets?targetType=ADMIN&t=${t}`, { signal: controller.signal }),\n        fetch(`/api/targets?targetType=AGENT&t=${t}`, { signal: controller.signal })\n      ]);\n\n      clearTimeout(timeoutId);\n\n      const [analytics, pulse, shops, team, adminTargetData, agentTargetsData] = await Promise.all([\n        analyticsRes.json().catch(() => ({})),\n        pulseRes.json().catch(() => []),\n        shopsRes.json().catch(() => []),\n        teamRes.json().catch(() => ({ data: [] })),\n        adminTargetRes.json().catch(() => []),\n        agentTargetsRes.json().catch(() => [])\n      ]);\n\n      // Calculate team performance from agent targets\n      const teamArray = Array.isArray(team?.data) ? team.data : (Array.isArray(team) ? team : []);\n      const adminTarget = Array.isArray(adminTargetData) && adminTargetData.length > 0 ? adminTargetData[0] : null;\n      const agentTargets = Array.isArray(agentTargetsData) ? agentTargetsData : [];\n\n      // Aggregate all agent targets that are active\n      const activeAgentTargets = agentTargets.filter((t: any) => t.status === 'ACTIVE');\n      let teamPerformance = {\n        totalSales: activeAgentTargets.reduce((sum: number, t: any) => sum + (t.achievedValue || 0), 0),\n        totalQuantity: activeAgentTargets.reduce((sum: number, t: any) => sum + (t.achievedQuantity || 0), 0),\n        activeAgents: teamArray.filter((u: any) => u.status === 'ACTIVE').length\n      };\n\n      setData({\n        analytics: analytics || {},\n        pulse: Array.isArray(pulse) ? pulse : [],\n        shops: Array.isArray(shops) ? shops : (shops.data || []),\n        team: teamArray,\n        adminTarget,\n        teamPerformance\n      });\n    } catch (e: any) {\n      if (e.name !== 'AbortError') console.error(\"Sync Error:\", e);\n    } finally {\n      setLoading(false);\n    }\n  }, [status]);\n\n  // --- ðŸ›¡ï¸ ROLE PROTECTION & BOOT ---\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      router.push(\"/auth/signin\");\n    } else if (status === \"authenticated\") {\n      if (session?.user?.role !== \"ADMIN\" && session?.user?.role !== \"SUPER_ADMIN\") {\n        router.push(\"/mobilepos\"); // Bounce unauthorized users\n      } else {\n        fetchData();\n        // ðŸ”„ LIVE SYNC: Refresh every 30 seconds\n        const interval = setInterval(fetchData, 30000);\n        return () => clearInterval(interval);\n      }\n    }\n  }, [status, session, router, fetchData]);\n\n  // --- DERIVED METRICS (Memoized) ---\n  const stats = useMemo(() => {\n    const active = Array.isArray(data.team) ? data.team.filter((u: any) => u.status === 'ACTIVE' || u.isInsideZone).length : 0;\n    const total = Array.isArray(data.team) ? data.team.length : 0;\n    const inv = Array.isArray(data.shops) ? data.shops.reduce((acc: number, s: any) => acc + (s.stats?.inventory || 0), 0) : 0;\n    const alertCount = Array.isArray(data.pulse) ? data.pulse.filter((p: any) => p.type === 'GHOST_ALERT').length : 0;\n    const chart = (data.analytics as any).chartData || [];\n\n    return { active, total, inv, alertCount, chart };\n  }, [data]);\n\n  // --- LOADING STATE ---\n  if (status === \"loading\" || loading) return (\n    <div className=\"h-screen w-full flex flex-col items-center justify-center bg-slate-50\">\n      <div className=\"flex flex-col items-center gap-4\">\n        <Loader2 className=\"w-8 h-8 text-primary animate-spin\" />\n        <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Initializing Command...</p>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 p-8 text-slate-900 font-sans\">\n\n      {/* HEADER */}\n      <div className=\"max-w-7xl mx-auto mb-6 flex justify-between items-center bg-white border border-slate-200 p-5\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"bg-slate-900 text-white p-2.5\">\n            <LayoutDashboard size={18} />\n          </div>\n          <div>\n            <h1 className=\"text-lg font-bold text-slate-900 tracking-tight\">Operations Dashboard</h1>\n            <div className=\"flex items-center gap-2 mt-0.5\">\n              <div className=\"h-1 w-1 rounded-full bg-emerald-500\" />\n              <p className=\"text-[10px] font-medium text-slate-500\">Live â€¢ {session?.user?.name}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex bg-slate-100 border border-slate-200\">\n            <button\n              onClick={() => setViewMode('DATA')}\n              className={`px-3 py-2 text-[10px] font-semibold flex items-center gap-1.5 transition-colors ${viewMode === 'DATA' ? 'bg-white text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}\n            >\n              <Table size={12} /> List\n            </button>\n            <button\n              onClick={() => setViewMode('MAP')}\n              className={`px-3 py-2 text-[10px] font-semibold flex items-center gap-1.5 transition-colors ${viewMode === 'MAP' ? 'bg-white text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}\n            >\n              <MapIcon size={12} /> Map\n            </button>\n          </div>\n\n          <button\n            onClick={fetchData}\n            className=\"flex items-center gap-1.5 bg-slate-900 text-white hover:bg-slate-800 px-4 py-2 text-[10px] font-semibold transition-colors\"\n          >\n            <RefreshCcw size={12} className={loading ? 'animate-spin' : ''} /> Sync\n          </button>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto space-y-5\">\n\n        {/* KPI CARDS */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <StatCard label=\"Field Team\" value={stats.total} sub=\"Registered Agents\" icon={Users} />\n          <StatCard label=\"Active Now\" value={stats.active} sub=\"Online Signal\" icon={Signal} active={true} />\n          <StatCard label=\"Inventory Level\" value={stats.inv.toLocaleString()} sub=\"Total Units\" icon={Package} />\n          <StatCard label=\"Security Alerts\" value={stats.alertCount} sub=\"Req. Attention\" icon={ShieldAlert} alert={stats.alertCount > 0} />\n        </div>\n\n        {/* MAIN GRID: ADMIN TARGET + HUB PERFORMANCE + ACTIVITY LOG */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n\n          {/* ADMIN TARGET WIDGET (Full Width) */}\n          <div className=\"lg:col-span-3\">\n            <AdminTargetWidget\n              adminTarget={data.adminTarget}\n              teamPerformance={data.teamPerformance}\n              onRefresh={fetchData}\n            />\n          </div>\n\n          {/* LEFT: HUB PERFORMANCE OR MAP (2/3 width) */}\n          <div className=\"lg:col-span-2 bg-white border border-slate-200 flex flex-col relative overflow-hidden h-[580px]\">\n            {viewMode === 'MAP' ? (\n              <div className=\"h-full w-full relative z-0\">\n                <AdminHQMap shops={data.shops} />\n                <div className=\"absolute top-4 left-4 z-[400] bg-white border border-slate-200 px-4 py-3\">\n                  <p className=\"text-[10px] font-semibold uppercase text-slate-500 tracking-wider\">Network</p>\n                  <p className=\"text-sm font-bold text-slate-900\">{data.shops.length} Active Hubs</p>\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"border-b border-slate-200 px-5 py-3 bg-slate-50 flex justify-between items-center\">\n                  <h3 className=\"text-xs font-semibold text-slate-900 flex items-center gap-2\">\n                    <Building2 size={14} className=\"text-slate-500\" /> Hub Performance\n                  </h3>\n                </div>\n                <div className=\"flex-1 overflow-y-auto\">\n                  <table className=\"w-full text-left border-collapse\">\n                    <thead className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider sticky top-0 z-10 bg-slate-50 border-b border-slate-200\">\n                      <tr>\n                        <th className=\"px-5 py-3 border-b border-slate-100\">Hub Location</th>\n                        <th className=\"px-5 py-3 border-b border-slate-100\">Address</th>\n                        <th className=\"px-5 py-3 border-b border-slate-100 text-right\">Sales (Est)</th>\n                        <th className=\"px-5 py-3 border-b border-slate-100 text-right\">Status</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-slate-100 text-xs\">\n                      {data.shops.map((shop: any) => (\n                        <tr key={shop.id} className=\"hover:bg-slate-50 transition-colors group\">\n                          <td className=\"px-5 py-3.5 font-semibold text-slate-900\">{shop.name}</td>\n                          <td className=\"px-5 py-3.5 text-slate-500\">{shop.location || \"N/A\"}</td>\n                          <td className=\"px-5 py-3.5 text-right font-mono text-slate-700\">\n                            â‚µ{((shop.stats?.inventory || 0) * 150).toLocaleString()}\n                          </td>\n                          <td className=\"px-5 py-3.5 text-right\">\n                            <div className=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 border border-emerald-200 text-emerald-700 font-medium text-[9px]\">\n                              <div className=\"w-1 h-1 bg-emerald-500 rounded-full\" />\n                              ONLINE\n                            </div>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* RIGHT: ACTIVITY LOG WIDGET (1/3 width) */}\n          <div className=\"bg-white border border-slate-200\">\n            <ActivityLogWidget />\n          </div>\n        </div>\n\n        {/* ACTIVITY PULSE FEED */}\n        <div className=\"bg-white border border-slate-200\">\n          <LivePulseFeed data={data.pulse} />\n        </div>\n\n        {/* SALES VELOCITY CHART */}\n        <div className=\"bg-white border border-slate-200 h-[320px] flex flex-col overflow-hidden p-5\">\n          <div className=\"flex justify-between items-center mb-5\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-slate-900 text-white\">\n                <Activity size={14} />\n              </div>\n              <h3 className=\"text-xs font-semibold text-slate-900\">Sales Velocity</h3>\n            </div>\n            <p className=\"text-[10px] font-medium text-slate-500 uppercase tracking-wider bg-slate-50 border border-slate-200 px-3 py-1\">Last 24 Hours</p>\n          </div>\n          <div className=\"flex-1 w-full text-xs\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <BarChart data={stats.chart} barSize={40}>\n                <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#e2e8f0\" />\n                <XAxis dataKey=\"name\" axisLine={false} tickLine={false} tick={{ fontSize: 10, fontWeight: 500, fill: '#64748b' }} dy={10} />\n                <Tooltip\n                  cursor={{ fill: '#f8fafc' }}\n                  contentStyle={{ borderRadius: '2px', border: '1px solid #e2e8f0', boxShadow: '0 1px 3px rgba(0,0,0,0.05)', fontSize: '11px', fontWeight: 600 }}\n                />\n                <Bar dataKey=\"sales\" radius={[2, 2, 0, 0]}>\n                  {stats.chart.map((entry: any, index: number) => (\n                    <Cell key={`cell-${index}`} fill={index % 2 === 0 ? '#1e293b' : '#3b82f6'} />\n                  ))}\n                </Bar>\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n\n      </div>\n\n      {/* ðŸŽ¯ TARGET MODAL */}\n      {showTargetModal && (\n        <TargetModal onClose={() => setShowTargetModal(false)} onSuccess={() => { setShowTargetModal(false); fetchData(); }} userId={session?.user?.email} />\n      )}\n\n    </div>\n  );\n}\n\n// --- SUB-COMPONENT: TARGET MODAL ---\nfunction TargetModal({ onClose, onSuccess, userId }: any) {\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState({\n    targetValue: 50000,\n    targetQuantity: 500,\n    startDate: new Date().toISOString().split('T')[0],\n    endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n  });\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      // Create for SELF\n      const res = await fetch('/api/targets', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...form,\n          userId: userId\n        })\n      });\n\n      // If API requires userId, we need to pass it.\n      // Let's check api/targets/route.ts. It takes userId from body.\n      // If I don't pass userId, it fails?\n      // Let's update `handleSubmit` to use a generic 'SELF' flag or better yet, pass ID from parent.\n\n      if (res.ok) onSuccess();\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl p-8 max-w-md w-full animate-in zoom-in-95 relative overflow-hidden shadow-2xl\">\n        <div className=\"flex justify-between items-center mb-8 border-b border-slate-100 pb-4\">\n          <h3 className=\"text-lg font-black text-slate-900 uppercase tracking-tight\">Set Leader Target</h3>\n          <button onClick={onClose}><div className=\"p-2 bg-slate-50 text-slate-400 hover:text-rose-500 rounded-lg transition-colors\"><RefreshCcw className=\"rotate-45\" size={18} /></div></button>\n        </div>\n\n        <div className=\"space-y-6\">\n          <div>\n            <label className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1\">Sales Goal (GHS)</label>\n            <input\n              type=\"number\"\n              className=\"nexus-input w-full text-xl font-bold\"\n              value={form.targetValue}\n              onChange={e => setForm({ ...form, targetValue: parseFloat(e.target.value) })}\n            />\n          </div>\n          <div>\n            <label className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1\">Volume Goal (Units)</label>\n            <input\n              type=\"number\"\n              className=\"nexus-input w-full text-xl font-bold\"\n              value={form.targetQuantity}\n              onChange={e => setForm({ ...form, targetQuantity: parseInt(e.target.value) })}\n            />\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1\">Start Date</label>\n              <input type=\"date\" className=\"nexus-input w-full\" value={form.startDate} onChange={e => setForm({ ...form, startDate: e.target.value })} />\n            </div>\n            <div>\n              <label className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1\">End Date</label>\n              <input type=\"date\" className=\"nexus-input w-full\" value={form.endDate} onChange={e => setForm({ ...form, endDate: e.target.value })} />\n            </div>\n          </div>\n        </div>\n\n        <button\n          onClick={handleSubmit}\n          className=\"w-full mt-8 bg-slate-900 text-white h-12 rounded-xl font-bold uppercase tracking-widest hover:bg-black transition-all shadow-lg shadow-slate-900/10 active:scale-95 flex items-center justify-center gap-2\"\n          disabled={loading}\n        >\n          {loading ? <RefreshCcw className=\"animate-spin\" size={18} /> : 'Activate Target'}\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}