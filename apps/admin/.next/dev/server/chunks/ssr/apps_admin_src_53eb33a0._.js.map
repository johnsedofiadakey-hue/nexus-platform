{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/components/dashboard/hr/ChatConsole.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Send, MessageSquare, RefreshCw, CheckCheck, Loader2 } from \"lucide-react\";\n\ntype ChatMessage = {\n  id: string;\n  content: string;\n  senderId?: string;\n  receiverId?: string;\n  createdAt: string;\n  isOptimistic?: boolean;\n};\n\ninterface ChatConsoleProps {\n  messages?: ChatMessage[];\n  onSendMessage: (content: string) => void;\n  onRefresh?: () => void;\n  viewerId: string;\n  loading?: boolean;\n}\n\nexport default function ChatConsole({\n  messages = [],\n  onSendMessage,\n  onRefresh,\n  viewerId,\n  loading = false\n}: ChatConsoleProps) {\n  const [input, setInput] = useState(\"\");\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  // üîΩ Always scroll to latest message\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTo({\n        top: scrollRef.current.scrollHeight,\n        behavior: \"smooth\"\n      });\n    }\n  }, [messages]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    onSendMessage(input.trim());\n    setInput(\"\");\n  };\n\n  return (\n    <div className=\"flex flex-col h-full bg-white\">\n      {/* HEADER */}\n      <div className=\"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-white\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600\">\n            <MessageSquare size={16} />\n          </div>\n          <div className=\"flex flex-col\">\n            <span className=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">\n              Secure Link\n            </span>\n            <span className=\"text-xs font-bold text-slate-900\">\n              Direct Terminal\n            </span>\n          </div>\n        </div>\n\n        {onRefresh && (\n          <button\n            onClick={onRefresh}\n            className=\"p-2 hover:bg-slate-50 rounded-lg transition-colors\"\n          >\n            <RefreshCw\n              size={14}\n              className={`text-slate-300 ${loading ? \"animate-spin\" : \"\"}`}\n            />\n          </button>\n        )}\n      </div>\n\n      {/* MESSAGE STREAM */}\n      <div\n        ref={scrollRef}\n        className=\"flex-1 overflow-y-auto p-5 space-y-4 bg-[#fcfcfd]\"\n      >\n        {messages.length === 0 ? (\n          <div className=\"h-full flex flex-col items-center justify-center opacity-20\">\n            <MessageSquare size={40} className=\"text-slate-400 mb-2\" />\n            <span className=\"text-[10px] font-black uppercase tracking-widest\">\n              No active traffic\n            </span>\n          </div>\n        ) : (\n          messages.map((m) => {\n            // ‚úÖ FINAL, CORRECT MESSAGE DIRECTION LOGIC\n            const isMe =\n              m.senderId === viewerId ||\n              m.isOptimistic === true;\n\n            return (\n              <div\n                key={m.id}\n                className={`flex w-full ${\n                  isMe ? \"justify-end\" : \"justify-start\"\n                }`}\n              >\n                <div\n                  className={`max-w-[85%] flex flex-col ${\n                    isMe ? \"items-end\" : \"items-start\"\n                  }`}\n                >\n                  <div\n                    className={`px-4 py-2.5 rounded-2xl text-[13px] font-medium leading-snug shadow-sm ${\n                      isMe\n                        ? \"bg-blue-600 text-white rounded-tr-none\"\n                        : \"bg-white text-slate-700 border border-slate-200 rounded-tl-none\"\n                    }`}\n                  >\n                    {m.content}\n                  </div>\n\n                  <div className=\"mt-1.5 flex items-center gap-1.5 px-1 opacity-40\">\n                    <span className=\"text-[9px] font-bold uppercase tracking-tighter\">\n                      {new Date(m.createdAt).toLocaleTimeString([], {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\"\n                      })}\n                    </span>\n                    {isMe && (\n                      <CheckCheck size={12} className=\"text-blue-500\" />\n                    )}\n                  </div>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      {/* INPUT */}\n      <form\n        onSubmit={handleSubmit}\n        className=\"p-4 bg-white border-t border-slate-100 flex items-center gap-3\"\n      >\n        <input\n          className=\"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-medium outline-none focus:border-blue-400 focus:bg-white transition-all placeholder:text-slate-300\"\n          placeholder=\"Instruction...\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n        />\n\n        <button\n          type=\"submit\"\n          disabled={!input.trim() || loading}\n          className=\"bg-slate-900 text-white p-3 rounded-xl hover:bg-blue-600 transition-all disabled:opacity-30 flex items-center justify-center shadow-md shadow-slate-100\"\n        >\n          {loading ? (\n            <Loader2 size={18} className=\"animate-spin\" />\n          ) : (\n            <Send size={18} />\n          )}\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AAsBe,SAAS,YAAY,EAClC,WAAW,EAAE,EACb,aAAa,EACb,SAAS,EACT,QAAQ,EACR,UAAU,KAAK,EACE;IACjB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gVAAQ,EAAC;IACnC,MAAM,YAAY,IAAA,8UAAM,EAAiB;IAEzC,qCAAqC;IACrC,IAAA,iVAAS,EAAC;QACR,IAAI,UAAU,OAAO,EAAE;YACrB,UAAU,OAAO,CAAC,QAAQ,CAAC;gBACzB,KAAK,UAAU,OAAO,CAAC,YAAY;gBACnC,UAAU;YACZ;QACF;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,IAAI;QACnB,cAAc,MAAM,IAAI;QACxB,SAAS;IACX;IAEA,qBACE,6WAAC;QAAI,WAAU;;0BAEb,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAI,WAAU;;0CACb,6WAAC;gCAAI,WAAU;0CACb,cAAA,6WAAC,6TAAa;oCAAC,MAAM;;;;;;;;;;;0CAEvB,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;wCAAK,WAAU;kDAAkE;;;;;;kDAGlF,6WAAC;wCAAK,WAAU;kDAAmC;;;;;;;;;;;;;;;;;;oBAMtD,2BACC,6WAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,6WAAC,iTAAS;4BACR,MAAM;4BACN,WAAW,CAAC,eAAe,EAAE,UAAU,iBAAiB,IAAI;;;;;;;;;;;;;;;;;0BAOpE,6WAAC;gBACC,KAAK;gBACL,WAAU;0BAET,SAAS,MAAM,KAAK,kBACnB,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,6TAAa;4BAAC,MAAM;4BAAI,WAAU;;;;;;sCACnC,6WAAC;4BAAK,WAAU;sCAAmD;;;;;;;;;;;2BAKrE,SAAS,GAAG,CAAC,CAAC;oBACZ,2CAA2C;oBAC3C,MAAM,OACJ,EAAE,QAAQ,KAAK,YACf,EAAE,YAAY,KAAK;oBAErB,qBACE,6WAAC;wBAEC,WAAW,CAAC,YAAY,EACtB,OAAO,gBAAgB,iBACvB;kCAEF,cAAA,6WAAC;4BACC,WAAW,CAAC,0BAA0B,EACpC,OAAO,cAAc,eACrB;;8CAEF,6WAAC;oCACC,WAAW,CAAC,uEAAuE,EACjF,OACI,2CACA,mEACJ;8CAED,EAAE,OAAO;;;;;;8CAGZ,6WAAC;oCAAI,WAAU;;sDACb,6WAAC;4CAAK,WAAU;sDACb,IAAI,KAAK,EAAE,SAAS,EAAE,kBAAkB,CAAC,EAAE,EAAE;gDAC5C,MAAM;gDACN,QAAQ;4CACV;;;;;;wCAED,sBACC,6WAAC,oTAAU;4CAAC,MAAM;4CAAI,WAAU;;;;;;;;;;;;;;;;;;uBA5BjC,EAAE,EAAE;;;;;gBAkCf;;;;;;0BAKJ,6WAAC;gBACC,UAAU;gBACV,WAAU;;kCAEV,6WAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;kCAG1C,6WAAC;wBACC,MAAK;wBACL,UAAU,CAAC,MAAM,IAAI,MAAM;wBAC3B,WAAU;kCAET,wBACC,6WAAC,gTAAO;4BAAC,MAAM;4BAAI,WAAU;;;;;iDAE7B,6WAAC,8RAAI;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAMxB"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/components/dashboard/hr/PerformanceBoard.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport {\n  TrendingUp, Users, Target, BarChart3,\n  MapPin, Navigation, ArrowUpRight, Zap,\n  Activity, DollarSign, Tag, ShieldAlert,\n  Clock, CreditCard\n} from 'lucide-react';\nimport {\n  BarChart, Bar, XAxis, Tooltip, ResponsiveContainer, Cell,\n  CartesianGrid, YAxis\n} from \"recharts\";\n\nexport default function PerformanceBoard({\n  sales = [],\n  dailyReports = [],\n  geofenceStats = []\n}: any) {\n\n  // --- üìä ANALYTICS ENGINE ---\n  const footTraffic = dailyReports.reduce((acc: number, r: any) => acc + (r.walkIns || 0), 0);\n  const inquiries = dailyReports.reduce((acc: number, r: any) => acc + (r.inquiries || 0), 0);\n  const actualSales = dailyReports.reduce((acc: number, r: any) => acc + (r.buyers || 0), 0);\n\n  const conversionRate = footTraffic > 0 && actualSales != null ? ((actualSales / footTraffic) * 100) : 0;\n  const breachesCount = geofenceStats.reduce((acc: number, g: any) => acc + (g.breaches || 0), 0);\n\n  return (\n    <div className=\"flex flex-col h-full bg-white font-sans selection:bg-blue-100 pb-10\">\n\n      {/* üèõÔ∏è HEADER SECTION */}\n      <div className=\"px-8 py-8 border-b border-slate-100 flex justify-between items-center bg-slate-50/30\">\n        <div>\n          <h3 className=\"text-xl font-black text-slate-900 tracking-tight\">Executive Performance Analytics</h3>\n          <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mt-1 flex items-center gap-2\">\n            <span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\" />\n            Live Deployment Intelligence\n          </p>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          <div className=\"hidden md:flex flex-col text-right\">\n            <span className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest\">Network Status</span>\n            <span className=\"text-xs font-bold text-slate-900 uppercase\">Synchronized</span>\n          </div>\n          <div className=\"p-3 bg-white rounded-2xl shadow-sm border border-slate-200 text-blue-600\">\n            <BarChart3 size={20} />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-8 space-y-10\">\n\n        {/* üìä CORE KPI GRID */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div className=\"bg-slate-50/50 p-6 rounded-[2.5rem] border border-slate-100 hover:border-blue-200 transition-all duration-300 group\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"p-2 bg-white rounded-xl shadow-sm border border-slate-100 text-blue-500 group-hover:scale-110 transition-transform\"><Activity size={16} /></div>\n              <span className=\"text-[10px] font-black uppercase tracking-widest text-slate-500\">Foot Traffic</span>\n            </div>\n            <p className=\"text-3xl font-black text-slate-900 tracking-tighter\">{footTraffic.toLocaleString()}</p>\n            <p className=\"text-[10px] font-bold text-slate-400 mt-2 uppercase tracking-tight\">Walk-ins Captured</p>\n          </div>\n\n          <div className=\"bg-slate-50/50 p-6 rounded-[2.5rem] border border-slate-100 hover:border-amber-200 transition-all duration-300 group\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"p-2 bg-white rounded-xl shadow-sm border border-slate-100 text-amber-500 group-hover:scale-110 transition-transform\"><Tag size={16} /></div>\n              <span className=\"text-[10px] font-black uppercase tracking-widest text-slate-500\">Inquiries</span>\n            </div>\n            <p className=\"text-3xl font-black text-slate-900 tracking-tighter\">{inquiries.toLocaleString()}</p>\n            <p className=\"text-[10px] font-bold text-slate-400 mt-2 uppercase tracking-tight\">Active Inquiries</p>\n          </div>\n\n          <div className=\"bg-slate-50/50 p-6 rounded-[2.5rem] border border-slate-100 hover:border-emerald-200 transition-all duration-300 group\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"p-2 bg-white rounded-xl shadow-sm border border-slate-100 text-emerald-500 group-hover:scale-110 transition-transform\"><DollarSign size={16} /></div>\n              <span className=\"text-[10px] font-black uppercase tracking-widest text-slate-500\">Actual Sales</span>\n            </div>\n            <p className=\"text-3xl font-black text-slate-900 tracking-tighter\">{actualSales.toLocaleString()}</p>\n            <p className=\"text-[10px] font-bold text-slate-400 mt-2 uppercase tracking-tight\">Volume Closed</p>\n          </div>\n\n          <div className=\"bg-slate-900 p-6 rounded-[2.5rem] shadow-2xl relative overflow-hidden group hover:-translate-y-1 transition-all duration-500\">\n            <div className=\"absolute top-0 right-0 p-8 text-blue-500/10 pointer-events-none group-hover:scale-125 transition-transform duration-700\">\n              <TrendingUp size={120} />\n            </div>\n            <div className=\"relative z-10\">\n              <div className=\"flex items-center gap-3 mb-4\">\n                <div className=\"p-2 bg-blue-500 rounded-xl text-white shadow-lg shadow-blue-500/20\"><Zap size={16} className=\"animate-pulse\" /></div>\n                <span className=\"text-[10px] font-black uppercase tracking-widest text-blue-400/80\">Success Rate</span>\n              </div>\n              <p className=\"text-3xl font-black text-white tracking-tighter\">{(conversionRate || 0).toFixed(1)}%</p>\n              <div className=\"mt-4 h-1.5 w-full bg-white/10 rounded-full overflow-hidden\">\n                <div className=\"h-full bg-blue-500 transition-all duration-1000\" style={{ width: `${conversionRate || 0}%` }} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8\">\n\n          {/* üõ°Ô∏è SITE COMPLIANCE CHART */}\n          <div className=\"lg:col-span-12 xl:col-span-8 bg-slate-50/50 rounded-[2.5rem] border border-slate-100 p-8 group\">\n            <div className=\"flex items-center justify-between mb-8 px-2\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2.5 bg-rose-50 text-rose-500 rounded-2xl border border-rose-100\"><Clock size={16} /></div>\n                <div>\n                  <h4 className=\"text-sm font-black text-slate-900 uppercase tracking-tight\">Presence Compliance</h4>\n                  <p className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest\">7-Day Signal Continuity Analysis</p>\n                </div>\n              </div>\n              {breachesCount > 0 && (\n                <div className=\"flex items-center gap-2 px-4 py-1.5 bg-rose-100/50 border border-rose-200 rounded-full animate-bounce\">\n                  <ShieldAlert size={12} className=\"text-rose-600\" />\n                  <span className=\"text-[10px] font-black text-rose-600 uppercase tracking-widest\">{breachesCount} Breaches Detected</span>\n                </div>\n              )}\n            </div>\n\n            <div className=\"h-[300px] w-full mt-4\">\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <BarChart data={geofenceStats}>\n                  <defs>\n                    <linearGradient id=\"barGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                      <stop offset=\"0%\" stopColor=\"#ef4444\" stopOpacity={0.8} />\n                      <stop offset=\"100%\" stopColor=\"#f87171\" stopOpacity={0.4} />\n                    </linearGradient>\n                  </defs>\n                  <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#e2e8f0\" />\n                  <XAxis\n                    dataKey=\"name\"\n                    axisLine={false}\n                    tickLine={false}\n                    tick={{ fontSize: 10, fontWeight: 900, fill: '#64748b' }}\n                    dy={10}\n                  />\n                  <YAxis\n                    axisLine={false}\n                    tickLine={false}\n                    tick={{ fontSize: 10, fontWeight: 900, fill: '#94a3b8' }}\n                  />\n                  <Tooltip\n                    cursor={{ fill: '#ffffff', radius: 12 }}\n                    content={({ active, payload }) => {\n                      if (active && payload && payload.length) {\n                        return (\n                          <div className=\"bg-slate-900 p-4 rounded-2xl shadow-2xl border border-slate-800 animate-in fade-in zoom-in duration-200\">\n                            <p className=\"text-[9px] font-black text-blue-400 uppercase tracking-[0.2em] mb-1\">Breach Report</p>\n                            <p className=\"text-lg font-black text-white\">{payload[0].value} <span className=\"text-[10px] text-slate-400 uppercase ml-1\">Exits</span></p>\n                          </div>\n                        );\n                      }\n                      return null;\n                    }}\n                  />\n                  <Bar dataKey=\"breaches\" radius={[12, 12, 12, 12]} barSize={40}>\n                    {geofenceStats.map((entry: any, index: number) => (\n                      <Cell\n                        key={`cell-${index}`}\n                        fill={entry.breaches > 2 ? 'url(#barGradient)' : '#334155'}\n                        className=\"transition-all duration-300 hover:opacity-80\"\n                      />\n                    ))}\n                  </Bar>\n                </BarChart>\n              </ResponsiveContainer>\n            </div>\n          </div>\n\n          {/* üí∞ RECENT TERMINAL ACTIVITY */}\n          <div className=\"lg:col-span-12 xl:col-span-4 bg-white rounded-[2.5rem] border border-slate-100 p-8 shadow-xl shadow-slate-100/50 overflow-hidden flex flex-col\">\n            <div className=\"flex items-center justify-between mb-8\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2.5 bg-blue-50 text-blue-600 rounded-2xl border border-blue-100\"><CreditCard size={16} /></div>\n                <h4 className=\"text-sm font-black text-slate-900 uppercase tracking-tight\">Digital Ledger</h4>\n              </div>\n            </div>\n\n            <div className=\"space-y-4 overflow-y-auto max-h-[400px] pr-2 custom-scrollbar\">\n              {sales.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center py-20 opacity-20 text-center\">\n                  <Navigation size={48} className=\"text-slate-400 mb-4 animate-pulse\" />\n                  <p className=\"text-[11px] font-black uppercase tracking-widest\">Scanning Network For Traffic...</p>\n                </div>\n              ) : sales.slice(0, 15).map((sale: any) => (\n                <div key={sale.id} className=\"group p-5 bg-slate-50 border border-slate-100 rounded-[2rem] hover:bg-white hover:border-blue-200 hover:shadow-lg hover:shadow-blue-50 transition-all duration-300 flex items-center justify-between\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"w-12 h-12 bg-white rounded-2xl flex items-center justify-center border border-slate-100 shadow-sm group-hover:border-blue-100 transition-colors\">\n                      <Activity size={18} className=\"text-slate-400 group-hover:text-blue-500 transition-colors\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-black text-slate-900 leading-none mb-1.5\">‚Çµ{sale.totalAmount.toLocaleString()}</p>\n                      <p className=\"text-[9px] font-bold text-slate-400 uppercase tracking-widest\">\n                        {new Date(sale.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} ‚Ä¢ {sale.paymentMethod}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"w-8 h-8 rounded-full bg-white border border-slate-100 flex items-center justify-center text-slate-300 group-hover:bg-blue-600 group-hover:text-white group-hover:border-blue-600 transition-all\">\n                    <ArrowUpRight size={14} />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1106, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/components/dashboard/hr/ComplianceBoard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport {\n   Clock, AlertTriangle, FileText, CheckCircle, XCircle,\n   Gavel, Plus, Lock, Unlock, X, Loader2, MapPin, Navigation\n} from \"lucide-react\";\n\nexport default function ComplianceBoard({\n   attendance = [],\n   leaveRequests = [],\n   disciplinaryLog = [], // Now passed from the updated portal state\n   onUpdateLeave,\n   onRecallLeave,\n   staffId\n}: any) {\n   const [activeSubTab, setActiveSubTab] = useState<'ATTENDANCE' | 'LEAVE' | 'DISCIPLINARY'>('ATTENDANCE');\n   const [showCitationModal, setShowCitationModal] = useState(false);\n   const [isSubmitting, setIsSubmitting] = useState(false);\n\n   const [citationForm, setCitationForm] = useState({\n      type: \"LATENESS\", severity: \"LOW\", description: \"\"\n   });\n\n   // System Lock Logic: Checks if current date falls within an approved leave window\n   const activeLeave = leaveRequests.find((r: any) => {\n      const now = new Date();\n      const start = new Date(r.startDate);\n      const end = new Date(r.endDate);\n      return r.status === 'APPROVED' && now >= start && now <= end;\n   });\n\n   const handleIssueCitation = async (e: React.FormEvent) => {\n      e.preventDefault();\n      setIsSubmitting(true);\n      try {\n         const res = await fetch(\"/api/hr/disciplinary\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ ...citationForm, userId: staffId })\n         });\n\n         if (res.ok) {\n            setShowCitationModal(false);\n            setCitationForm({ type: \"LATENESS\", severity: \"LOW\", description: \"\" });\n            alert(\"Citation logged in Nexus authority.\");\n         }\n      } catch (err) {\n         alert(\"System Sync Failed.\");\n      } finally {\n         setIsSubmitting(false);\n      }\n   };\n\n   return (\n      <div className=\"flex flex-col h-full bg-white\">\n\n         {/* --- HUB ACCESS LOCK --- */}\n         {activeLeave && (\n            <div className=\"bg-rose-50 p-4 border-b border-rose-100 flex items-center justify-between animate-in slide-in-from-top-2\">\n               <div className=\"flex items-center gap-3 text-rose-700\">\n                  <Lock className=\"w-4 h-4\" />\n                  <div className=\"flex flex-col\">\n                     <span className=\"text-[10px] font-black uppercase tracking-widest\">Mobile Lock: Active</span>\n                     <span className=\"text-[9px] font-bold opacity-70\">On leave until {new Date(activeLeave.endDate).toDateString()}</span>\n                  </div>\n               </div>\n               <button\n                  onClick={() => onRecallLeave(activeLeave.id)}\n                  className=\"px-3 py-1.5 bg-white border border-rose-200 text-rose-600 rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-rose-600 hover:text-white transition-all\"\n               >\n                  Force Unlock\n               </button>\n            </div>\n         )}\n\n         {/* --- NAVIGATION --- */}\n         <div className=\"flex border-b border-slate-50 bg-slate-50/20\">\n            {[\n               { id: 'ATTENDANCE', icon: Clock, label: 'Duty' },\n               { id: 'LEAVE', icon: FileText, label: 'Leaves' },\n               { id: 'DISCIPLINARY', icon: Gavel, label: 'Security Incidents' }\n            ].map(tab => (\n               <button\n                  key={tab.id}\n                  onClick={() => setActiveSubTab(tab.id as any)}\n                  className={`flex-1 py-4 flex items-center justify-center gap-2 text-[10px] font-black uppercase tracking-widest transition-all border-b-2 ${activeSubTab === tab.id\n                     ? 'text-blue-600 border-blue-600 bg-white'\n                     : 'text-slate-400 border-transparent hover:text-slate-600'\n                     }`}\n               >\n                  <tab.icon size={14} /> {tab.label}\n               </button>\n            ))}\n         </div>\n\n         {/* --- DATA STREAM --- */}\n         <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\n\n            {/* 1. DUTY LOG (Attendance) */}\n            {/* 1. DUTY LOG (Attendance) */}\n            {activeSubTab === 'ATTENDANCE' && (\n               <>\n                  {/* üìä ANALYTICS SUMMARY */}\n                  <div className=\"grid grid-cols-2 gap-4 mb-6\">\n                     <div className=\"p-4 bg-emerald-50 rounded-2xl border border-emerald-100\">\n                        <span className=\"text-[9px] font-black text-emerald-400 uppercase tracking-widest block mb-1\">On-Site Hours</span>\n                        <div className=\"text-2xl font-black text-emerald-700\">\n                           {(attendance.reduce((acc: number, log: any) => {\n                              if (log.status !== 'OFF_SITE' && log.checkOut) {\n                                 return acc + (new Date(log.checkOut).getTime() - new Date(log.checkIn).getTime()) / (1000 * 60 * 60);\n                              }\n                              return acc;\n                           }, 0) || 0).toFixed(1)}\n                           <span className=\"text-[10px] text-emerald-400 ml-1 font-bold\">HRS</span>\n                        </div>\n                     </div>\n                     <div className=\"p-4 bg-blue-50 rounded-2xl border border-blue-100\">\n                        <span className=\"text-[9px] font-black text-blue-400 uppercase tracking-widest block mb-1\">Roaming / Field</span>\n                        <div className=\"text-2xl font-black text-blue-700\">\n                           {(attendance.reduce((acc: number, log: any) => {\n                              if (log.status === 'OFF_SITE' && log.checkOut) {\n                                 return acc + (new Date(log.checkOut).getTime() - new Date(log.checkIn).getTime()) / (1000 * 60 * 60);\n                              }\n                              return acc;\n                           }, 0) || 0).toFixed(1)}\n                           <span className=\"text-[10px] text-blue-400 ml-1 font-bold\">HRS</span>\n                        </div>\n                     </div>\n                  </div>\n\n                  {attendance.length === 0 ? (\n                     <div className=\"h-full flex flex-col items-center justify-center py-20 opacity-20\">\n                        <Clock size={40} className=\"text-slate-400 mb-2\" />\n                        <span className=\"text-[10px] font-black uppercase tracking-widest\">No Duty Cycles Found</span>\n                     </div>\n                  ) : attendance.map((log: any) => (\n                     <div key={log.id} className=\"flex items-center justify-between p-4 bg-white border border-slate-100 rounded-2xl shadow-sm mb-3\">\n\n                        <div className=\"flex items-center gap-4\">\n                           <div className=\"w-10 h-10 bg-slate-50 rounded-xl flex items-center justify-center text-slate-400 font-black text-[11px]\">\n                              {log.createdAt ? new Date(log.createdAt).getDate() : '-'}\n                           </div>\n                           <div>\n                              <p className=\"text-xs font-bold text-slate-900\">\n                                 {log.createdAt ? new Date(log.createdAt).toDateString() : 'Unknown Date'}\n                              </p>\n                              <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-tight\">\n                                 Start: {log.createdAt ? new Date(log.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : '--:--'}\n                              </p>\n                           </div>\n                        </div>\n                        <div className=\"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-lg text-[9px] font-black uppercase tracking-widest\">\n                           Verified\n                        </div>\n                     </div>\n                  ))}\n               </>\n            )}\n\n            {/* 2. LEAVE PROTOCOLS */}\n            {activeSubTab === 'LEAVE' && (\n               leaveRequests.length === 0 ? (\n                  <div className=\"h-full flex flex-col items-center justify-center py-20 opacity-20\">\n                     <FileText size={40} className=\"text-slate-400 mb-2\" />\n                     <span className=\"text-[10px] font-black uppercase tracking-widest\">No Active Requests</span>\n                  </div>\n               ) : leaveRequests.map((req: any) => (\n                  <div key={req.id} className=\"p-5 bg-white border border-slate-100 rounded-2xl shadow-sm\">\n                     <div className=\"flex justify-between items-start mb-3\">\n                        <div>\n                           <span className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 block\">\n                              {req.type?.replace('_', ' ')}\n                           </span>\n                           <h4 className=\"text-xs font-bold text-slate-900\">\n                              {new Date(req.startDate).toLocaleDateString()} ‚Äî {new Date(req.endDate).toLocaleDateString()}\n                           </h4>\n                        </div>\n                        {req.status === 'PENDING' ? (\n                           <div className=\"flex gap-2\">\n                              <button onClick={() => onUpdateLeave(req.id, 'APPROVED')} className=\"p-2 bg-emerald-50 text-emerald-500 rounded-lg hover:bg-emerald-100 transition-colors\"><CheckCircle size={16} /></button>\n                              <button onClick={() => onUpdateLeave(req.id, 'REJECTED')} className=\"p-2 bg-rose-50 text-rose-500 rounded-lg hover:bg-rose-100 transition-colors\"><XCircle size={16} /></button>\n                           </div>\n                        ) : (\n                           <span className={`text-[9px] font-black uppercase px-2.5 py-1 rounded-md ${req.status === 'APPROVED' ? 'bg-emerald-50 text-emerald-600' : 'bg-rose-50 text-rose-600'}`}>\n                              {req.status}\n                           </span>\n                        )}\n                     </div>\n                     <div className=\"text-[11px] text-slate-500 italic px-3 py-2 bg-slate-50 rounded-lg border-l-2 border-slate-200\">\n                        \"{req.reason}\"\n                     </div>\n                  </div>\n               ))\n            )}\n\n            {/* 3. SECURITY INCIDENTS (GEOFENCE BREACHES) */}\n            {activeSubTab === 'DISCIPLINARY' && (\n               <div className=\"space-y-4\">\n                  <button\n                     onClick={() => setShowCitationModal(true)}\n                     className=\"w-full py-3 bg-rose-50 text-rose-600 border border-rose-100 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-rose-100 transition-all flex items-center justify-center gap-2 mb-2\"\n                  >\n                     <Plus size={14} /> Manual Citation\n                  </button>\n\n                  {disciplinaryLog.length === 0 ? (\n                     <div className=\"py-20 text-center opacity-20\">\n                        <Gavel size={40} className=\"text-slate-400 mx-auto mb-2\" />\n                        <span className=\"text-[10px] font-black uppercase tracking-widest\">Conduct Verified: Clear</span>\n                     </div>\n                  ) : (\n                     disciplinaryLog.map((rec: any, i: number) => {\n                        const isBreach = rec.type === 'GEOFENCE_BREACH';\n                        return (\n                           <div key={i} className={`p-4 rounded-2xl border transition-all ${isBreach ? 'bg-rose-50/50 border-rose-100' : 'bg-white border-slate-100'}`}>\n                              <div className=\"flex items-start gap-4\">\n                                 <div className={`mt-1 w-10 h-10 rounded-xl flex items-center justify-center ${rec.severity === 'CRITICAL' || isBreach ? 'bg-rose-600 text-white' : 'bg-amber-500 text-white'}`}>\n                                    {isBreach ? <Navigation size={18} /> : <AlertTriangle size={18} />}\n                                 </div>\n                                 <div className=\"flex-1\">\n                                    <div className=\"flex items-center justify-between mb-1\">\n                                       <h4 className=\"font-black text-xs text-slate-900 uppercase tracking-tight\">\n                                          {rec.type?.replace('_', ' ')}\n                                       </h4>\n                                       <span className=\"text-[8px] font-black bg-white px-2 py-0.5 rounded border border-slate-100 text-slate-400 uppercase tracking-widest\">\n                                          {rec.severity}\n                                       </span>\n                                    </div>\n                                    <p className=\"text-[11px] font-bold text-slate-600 leading-relaxed\">\n                                       {rec.details || rec.description}\n                                    </p>\n                                    <div className=\"mt-2 flex items-center gap-3 text-[9px] font-black text-slate-400 uppercase tracking-tighter\">\n                                       <span className=\"flex items-center gap-1\"><Clock size={10} /> {new Date(rec.createdAt).toLocaleTimeString()}</span>\n                                       {isBreach && <span className=\"flex items-center gap-1 text-rose-500\"><MapPin size={10} /> Satellite Confirmed</span>}\n                                    </div>\n                                 </div>\n                              </div>\n                           </div>\n                        );\n                     })\n                  )}\n               </div>\n            )}\n         </div>\n\n         {/* --- CITATION MODAL --- */}\n         {showCitationModal && (\n            <div className=\"absolute inset-0 z-[60] bg-slate-900/10 backdrop-blur-sm flex items-center justify-center p-6\">\n               <div className=\"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl p-8 animate-in zoom-in duration-300 border border-slate-200\">\n                  <div className=\"flex justify-between items-center mb-8\">\n                     <div className=\"flex flex-col\">\n                        <span className=\"text-[10px] font-black text-rose-500 uppercase tracking-widest\">Nexus Protocol</span>\n                        <h3 className=\"text-sm font-black uppercase text-slate-900\">Issue Conduct Warning</h3>\n                     </div>\n                     <button onClick={() => setShowCitationModal(false)} className=\"p-2 hover:bg-slate-50 rounded-xl transition-colors\"><X size={20} className=\"text-slate-400\" /></button>\n                  </div>\n\n                  <form onSubmit={handleIssueCitation} className=\"space-y-5\">\n                     <div>\n                        <label className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-2\">Infraction Class</label>\n                        <select\n                           className=\"w-full h-12 px-4 bg-slate-50 rounded-xl border border-slate-200 font-bold text-xs outline-none focus:bg-white focus:border-blue-400 transition-all\"\n                           value={citationForm.type}\n                           onChange={e => setCitationForm({ ...citationForm, type: e.target.value })}\n                        >\n                           <option value=\"LATENESS\">Habitual Lateness</option>\n                           <option value=\"GEOFENCE_BREACH\">Manual Geofence Flag</option>\n                           <option value=\"MISCONDUCT\">General Misconduct</option>\n                           <option value=\"NEGLIGENCE\">Negligence of Duty</option>\n                           <option value=\"THEFT\">Theft / Fraud (Critical)</option>\n                        </select>\n                     </div>\n\n                     <div>\n                        <label className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-2\">Severity Logic</label>\n                        <div className=\"grid grid-cols-3 gap-2\">\n                           {['LOW', 'MEDIUM', 'CRITICAL'].map(sev => (\n                              <button\n                                 key={sev} type=\"button\"\n                                 onClick={() => setCitationForm({ ...citationForm, severity: sev })}\n                                 className={`py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${citationForm.severity === sev\n                                    ? (sev === 'CRITICAL' ? 'bg-rose-600 text-white border-rose-600 shadow-lg shadow-rose-100' : 'bg-slate-900 text-white border-slate-900')\n                                    : 'bg-white text-slate-300 border-slate-100'\n                                    }`}\n                              >\n                                 {sev}\n                              </button>\n                           ))}\n                        </div>\n                     </div>\n\n                     <div>\n                        <label className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-2\">Incident Narrative</label>\n                        <textarea\n                           required\n                           className=\"w-full h-24 p-4 bg-slate-50 rounded-2xl border border-slate-200 font-bold text-xs outline-none resize-none focus:bg-white focus:border-blue-400 transition-all\"\n                           placeholder=\"Enter detailed narrative...\"\n                           value={citationForm.description}\n                           onChange={e => setCitationForm({ ...citationForm, description: e.target.value })}\n                        />\n                     </div>\n\n                     <button\n                        type=\"submit\"\n                        disabled={isSubmitting}\n                        className=\"w-full h-14 bg-rose-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl shadow-rose-100 hover:bg-rose-700 transition-all flex items-center justify-center gap-3\"\n                     >\n                        {isSubmitting ? <Loader2 size={16} className=\"animate-spin\" /> : \"Authorize Citation\"}\n                     </button>\n                  </form>\n               </div>\n            </div>\n         )}\n      </div>\n   );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AAQe,SAAS,gBAAgB,EACrC,aAAa,EAAE,EACf,gBAAgB,EAAE,EAClB,kBAAkB,EAAE,EACpB,aAAa,EACb,aAAa,EACb,OAAO,EACJ;IACH,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gVAAQ,EAA0C;IAC1F,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,gVAAQ,EAAC;IAC3D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gVAAQ,EAAC;IAEjD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gVAAQ,EAAC;QAC9C,MAAM;QAAY,UAAU;QAAO,aAAa;IACnD;IAEA,kFAAkF;IAClF,MAAM,cAAc,cAAc,IAAI,CAAC,CAAC;QACrC,MAAM,MAAM,IAAI;QAChB,MAAM,QAAQ,IAAI,KAAK,EAAE,SAAS;QAClC,MAAM,MAAM,IAAI,KAAK,EAAE,OAAO;QAC9B,OAAO,EAAE,MAAM,KAAK,cAAc,OAAO,SAAS,OAAO;IAC5D;IAEA,MAAM,sBAAsB,OAAO;QAChC,EAAE,cAAc;QAChB,gBAAgB;QAChB,IAAI;YACD,MAAM,MAAM,MAAM,MAAM,wBAAwB;gBAC7C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,GAAG,YAAY;oBAAE,QAAQ;gBAAQ;YAC3D;YAEA,IAAI,IAAI,EAAE,EAAE;gBACT,qBAAqB;gBACrB,gBAAgB;oBAAE,MAAM;oBAAY,UAAU;oBAAO,aAAa;gBAAG;gBACrE,MAAM;YACT;QACH,EAAE,OAAO,KAAK;YACX,MAAM;QACT,SAAU;YACP,gBAAgB;QACnB;IACH;IAEA,qBACG,6WAAC;QAAI,WAAU;;YAGX,6BACE,6WAAC;gBAAI,WAAU;;kCACZ,6WAAC;wBAAI,WAAU;;0CACZ,6WAAC,8RAAI;gCAAC,WAAU;;;;;;0CAChB,6WAAC;gCAAI,WAAU;;kDACZ,6WAAC;wCAAK,WAAU;kDAAmD;;;;;;kDACnE,6WAAC;wCAAK,WAAU;;4CAAkC;4CAAgB,IAAI,KAAK,YAAY,OAAO,EAAE,YAAY;;;;;;;;;;;;;;;;;;;kCAGlH,6WAAC;wBACE,SAAS,IAAM,cAAc,YAAY,EAAE;wBAC3C,WAAU;kCACZ;;;;;;;;;;;;0BAOP,6WAAC;gBAAI,WAAU;0BACX;oBACE;wBAAE,IAAI;wBAAc,MAAM,iSAAK;wBAAE,OAAO;oBAAO;oBAC/C;wBAAE,IAAI;wBAAS,MAAM,8SAAQ;wBAAE,OAAO;oBAAS;oBAC/C;wBAAE,IAAI;wBAAgB,MAAM,iSAAK;wBAAE,OAAO;oBAAqB;iBACjE,CAAC,GAAG,CAAC,CAAA,oBACH,6WAAC;wBAEE,SAAS,IAAM,gBAAgB,IAAI,EAAE;wBACrC,WAAW,CAAC,8HAA8H,EAAE,iBAAiB,IAAI,EAAE,GAC9J,2CACA,0DACA;;0CAEL,6WAAC,IAAI,IAAI;gCAAC,MAAM;;;;;;4BAAM;4BAAE,IAAI,KAAK;;uBAP5B,IAAI,EAAE;;;;;;;;;;0BAapB,6WAAC;gBAAI,WAAU;;oBAIX,iBAAiB,8BACf;;0CAEG,6WAAC;gCAAI,WAAU;;kDACZ,6WAAC;wCAAI,WAAU;;0DACZ,6WAAC;gDAAK,WAAU;0DAA8E;;;;;;0DAC9F,6WAAC;gDAAI,WAAU;;oDACX,CAAC,WAAW,MAAM,CAAC,CAAC,KAAa;wDAC/B,IAAI,IAAI,MAAM,KAAK,cAAc,IAAI,QAAQ,EAAE;4DAC5C,OAAO,MAAM,CAAC,IAAI,KAAK,IAAI,QAAQ,EAAE,OAAO,KAAK,IAAI,KAAK,IAAI,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,EAAE;wDACtG;wDACA,OAAO;oDACV,GAAG,MAAM,CAAC,EAAE,OAAO,CAAC;kEACpB,6WAAC;wDAAK,WAAU;kEAA8C;;;;;;;;;;;;;;;;;;kDAGpE,6WAAC;wCAAI,WAAU;;0DACZ,6WAAC;gDAAK,WAAU;0DAA2E;;;;;;0DAC3F,6WAAC;gDAAI,WAAU;;oDACX,CAAC,WAAW,MAAM,CAAC,CAAC,KAAa;wDAC/B,IAAI,IAAI,MAAM,KAAK,cAAc,IAAI,QAAQ,EAAE;4DAC5C,OAAO,MAAM,CAAC,IAAI,KAAK,IAAI,QAAQ,EAAE,OAAO,KAAK,IAAI,KAAK,IAAI,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,EAAE;wDACtG;wDACA,OAAO;oDACV,GAAG,MAAM,CAAC,EAAE,OAAO,CAAC;kEACpB,6WAAC;wDAAK,WAAU;kEAA2C;;;;;;;;;;;;;;;;;;;;;;;;4BAKnE,WAAW,MAAM,KAAK,kBACpB,6WAAC;gCAAI,WAAU;;kDACZ,6WAAC,iSAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC3B,6WAAC;wCAAK,WAAU;kDAAmD;;;;;;;;;;;uCAErE,WAAW,GAAG,CAAC,CAAC,oBACjB,6WAAC;oCAAiB,WAAU;;sDAEzB,6WAAC;4CAAI,WAAU;;8DACZ,6WAAC;oDAAI,WAAU;8DACX,IAAI,SAAS,GAAG,IAAI,KAAK,IAAI,SAAS,EAAE,OAAO,KAAK;;;;;;8DAExD,6WAAC;;sEACE,6WAAC;4DAAE,WAAU;sEACT,IAAI,SAAS,GAAG,IAAI,KAAK,IAAI,SAAS,EAAE,YAAY,KAAK;;;;;;sEAE7D,6WAAC;4DAAE,WAAU;;gEAAgE;gEAClE,IAAI,SAAS,GAAG,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB,CAAC,EAAE,EAAE;oEAAE,MAAM;oEAAW,QAAQ;gEAAU,KAAK;;;;;;;;;;;;;;;;;;;sDAI1H,6WAAC;4CAAI,WAAU;sDAAsG;;;;;;;mCAf9G,IAAI,EAAE;;;;;;;oBAwBxB,iBAAiB,WAAW,CAC1B,cAAc,MAAM,KAAK,kBACtB,6WAAC;wBAAI,WAAU;;0CACZ,6WAAC,8SAAQ;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC9B,6WAAC;gCAAK,WAAU;0CAAmD;;;;;;;;;;;+BAErE,cAAc,GAAG,CAAC,CAAC,oBACpB,6WAAC;4BAAiB,WAAU;;8CACzB,6WAAC;oCAAI,WAAU;;sDACZ,6WAAC;;8DACE,6WAAC;oDAAK,WAAU;8DACZ,IAAI,IAAI,EAAE,QAAQ,KAAK;;;;;;8DAE3B,6WAAC;oDAAG,WAAU;;wDACV,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB;wDAAG;wDAAI,IAAI,KAAK,IAAI,OAAO,EAAE,kBAAkB;;;;;;;;;;;;;wCAG/F,IAAI,MAAM,KAAK,0BACb,6WAAC;4CAAI,WAAU;;8DACZ,6WAAC;oDAAO,SAAS,IAAM,cAAc,IAAI,EAAE,EAAE;oDAAa,WAAU;8DAAuF,cAAA,6WAAC,8TAAW;wDAAC,MAAM;;;;;;;;;;;8DAC9K,6WAAC;oDAAO,SAAS,IAAM,cAAc,IAAI,EAAE,EAAE;oDAAa,WAAU;8DAA8E,cAAA,6WAAC,2SAAO;wDAAC,MAAM;;;;;;;;;;;;;;;;iEAGpK,6WAAC;4CAAK,WAAW,CAAC,uDAAuD,EAAE,IAAI,MAAM,KAAK,aAAa,mCAAmC,4BAA4B;sDAClK,IAAI,MAAM;;;;;;;;;;;;8CAIpB,6WAAC;oCAAI,WAAU;;wCAAiG;wCAC3G,IAAI,MAAM;wCAAC;;;;;;;;2BAtBT,IAAI,EAAE;;;;iCA0BtB;oBAGC,iBAAiB,gCACf,6WAAC;wBAAI,WAAU;;0CACZ,6WAAC;gCACE,SAAS,IAAM,qBAAqB;gCACpC,WAAU;;kDAEV,6WAAC,8RAAI;wCAAC,MAAM;;;;;;oCAAM;;;;;;;4BAGpB,gBAAgB,MAAM,KAAK,kBACzB,6WAAC;gCAAI,WAAU;;kDACZ,6WAAC,iSAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC3B,6WAAC;wCAAK,WAAU;kDAAmD;;;;;;;;;;;uCAGtE,gBAAgB,GAAG,CAAC,CAAC,KAAU;gCAC5B,MAAM,WAAW,IAAI,IAAI,KAAK;gCAC9B,qBACG,6WAAC;oCAAY,WAAW,CAAC,sCAAsC,EAAE,WAAW,kCAAkC,6BAA6B;8CACxI,cAAA,6WAAC;wCAAI,WAAU;;0DACZ,6WAAC;gDAAI,WAAW,CAAC,2DAA2D,EAAE,IAAI,QAAQ,KAAK,cAAc,WAAW,2BAA2B,2BAA2B;0DAC1K,yBAAW,6WAAC,gTAAU;oDAAC,MAAM;;;;;yEAAS,6WAAC,6TAAa;oDAAC,MAAM;;;;;;;;;;;0DAE/D,6WAAC;gDAAI,WAAU;;kEACZ,6WAAC;wDAAI,WAAU;;0EACZ,6WAAC;gEAAG,WAAU;0EACV,IAAI,IAAI,EAAE,QAAQ,KAAK;;;;;;0EAE3B,6WAAC;gEAAK,WAAU;0EACZ,IAAI,QAAQ;;;;;;;;;;;;kEAGnB,6WAAC;wDAAE,WAAU;kEACT,IAAI,OAAO,IAAI,IAAI,WAAW;;;;;;kEAElC,6WAAC;wDAAI,WAAU;;0EACZ,6WAAC;gEAAK,WAAU;;kFAA0B,6WAAC,iSAAK;wEAAC,MAAM;;;;;;oEAAM;oEAAE,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB;;;;;;;4DACxG,0BAAY,6WAAC;gEAAK,WAAU;;kFAAwC,6WAAC,wSAAM;wEAAC,MAAM;;;;;;oEAAM;;;;;;;;;;;;;;;;;;;;;;;;;mCAnB3F;;;;;4BAyBhB;;;;;;;;;;;;;YAOX,mCACE,6WAAC;gBAAI,WAAU;0BACZ,cAAA,6WAAC;oBAAI,WAAU;;sCACZ,6WAAC;4BAAI,WAAU;;8CACZ,6WAAC;oCAAI,WAAU;;sDACZ,6WAAC;4CAAK,WAAU;sDAAiE;;;;;;sDACjF,6WAAC;4CAAG,WAAU;sDAA8C;;;;;;;;;;;;8CAE/D,6WAAC;oCAAO,SAAS,IAAM,qBAAqB;oCAAQ,WAAU;8CAAqD,cAAA,6WAAC,qRAAC;wCAAC,MAAM;wCAAI,WAAU;;;;;;;;;;;;;;;;;sCAG7I,6WAAC;4BAAK,UAAU;4BAAqB,WAAU;;8CAC5C,6WAAC;;sDACE,6WAAC;4CAAM,WAAU;sDAA4E;;;;;;sDAC7F,6WAAC;4CACE,WAAU;4CACV,OAAO,aAAa,IAAI;4CACxB,UAAU,CAAA,IAAK,gBAAgB;oDAAE,GAAG,YAAY;oDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gDAAC;;8DAEvE,6WAAC;oDAAO,OAAM;8DAAW;;;;;;8DACzB,6WAAC;oDAAO,OAAM;8DAAkB;;;;;;8DAChC,6WAAC;oDAAO,OAAM;8DAAa;;;;;;8DAC3B,6WAAC;oDAAO,OAAM;8DAAa;;;;;;8DAC3B,6WAAC;oDAAO,OAAM;8DAAQ;;;;;;;;;;;;;;;;;;8CAI5B,6WAAC;;sDACE,6WAAC;4CAAM,WAAU;sDAA4E;;;;;;sDAC7F,6WAAC;4CAAI,WAAU;sDACX;gDAAC;gDAAO;gDAAU;6CAAW,CAAC,GAAG,CAAC,CAAA,oBAChC,6WAAC;oDACY,MAAK;oDACf,SAAS,IAAM,gBAAgB;4DAAE,GAAG,YAAY;4DAAE,UAAU;wDAAI;oDAChE,WAAW,CAAC,sFAAsF,EAAE,aAAa,QAAQ,KAAK,MACxH,QAAQ,aAAa,qEAAqE,6CAC3F,4CACA;8DAEJ;mDAPI;;;;;;;;;;;;;;;;8CAajB,6WAAC;;sDACE,6WAAC;4CAAM,WAAU;sDAA4E;;;;;;sDAC7F,6WAAC;4CACE,QAAQ;4CACR,WAAU;4CACV,aAAY;4CACZ,OAAO,aAAa,WAAW;4CAC/B,UAAU,CAAA,IAAK,gBAAgB;oDAAE,GAAG,YAAY;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gDAAC;;;;;;;;;;;;8CAIpF,6WAAC;oCACE,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,6BAAe,6WAAC,gTAAO;wCAAC,MAAM;wCAAI,WAAU;;;;;+CAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzF"}},
    {"offset": {"line": 2018, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/components/dashboard/hr/IntelBoard.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n    BarChart2, Zap, PackageSearch, MessageSquare,\n    Calendar, ArrowRight, TrendingUp, AlertCircle,\n    User, Store, Tag, DollarSign, Activity\n} from \"lucide-react\";\n\ninterface DailyReport {\n    id: string;\n    createdAt: string;\n    walkIns: number;\n    inquiries: number;\n    buyers: number;\n    marketIntel?: string;\n    stockGaps?: string;\n    notes?: string;\n}\n\ninterface IntelBoardProps {\n    reports: DailyReport[];\n}\n\nexport default function IntelBoard({ reports }: IntelBoardProps) {\n    if (!reports || reports.length === 0) {\n        return (\n            <div className=\"flex flex-col items-center justify-center p-16 bg-slate-50 border border-slate-200\">\n                <div className=\"w-16 h-16 bg-white border border-slate-200 flex items-center justify-center mb-4\">\n                    <BarChart2 className=\"text-slate-300 w-8 h-8\" />\n                </div>\n                <h3 className=\"text-sm font-semibold text-slate-500 uppercase tracking-wider\">No Field Reports</h3>\n                <p className=\"text-[10px] text-slate-400 font-medium uppercase mt-2\">Awaiting Intelligence Data</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {reports.map((report) => {\n                const date = new Date(report.createdAt).toLocaleDateString(undefined, {\n                    weekday: 'long', month: 'long', day: 'numeric'\n                });\n                const time = new Date(report.createdAt).toLocaleTimeString(undefined, {\n                    hour: '2-digit', minute: '2-digit'\n                });\n\n                const conversionRate = report.walkIns > 0\n                    ? Math.round((report.buyers / report.walkIns) * 100)\n                    : 0;\n\n                return (\n                    <div key={report.id} className=\"relative group\">\n                        {/* Timeline Connector */}\n                        <div className=\"absolute -left-[45px] top-0 bottom-[-24px] w-px bg-slate-200 last:hidden\" />\n\n                        <div className=\"flex items-center gap-3 mb-4\">\n                            <div className=\"w-8 h-8 bg-white border border-slate-200 flex items-center justify-center z-10 group-hover:border-blue-500 transition-colors\">\n                                <Activity className=\"w-4 h-4 text-slate-400 group-hover:text-blue-600 transition-colors\" />\n                            </div>\n                            <div>\n                                <h4 className=\"text-sm font-semibold text-slate-900\">{date}</h4>\n                                <p className=\"text-[10px] font-medium text-slate-500 uppercase tracking-wider\">{time} ‚Ä¢ Logged</p>\n                            </div>\n                        </div>\n\n                        <div className=\"bg-white border border-slate-200 p-6 hover:border-slate-300 transition-colors\">\n\n                            {/* KPI GRID */}\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6\">\n                                <div className=\"bg-slate-50 border border-slate-200 p-4\">\n                                    <div className=\"flex items-center gap-2 mb-2\">\n                                        <Activity size={11} className=\"text-blue-600\" />\n                                        <span className=\"text-[9px] font-semibold text-slate-500 uppercase tracking-wider\">Foot Traffic</span>\n                                    </div>\n                                    <p className=\"text-2xl font-bold text-slate-900\">{report.walkIns}</p>\n                                </div>\n                                <div className=\"bg-slate-50 border border-slate-200 p-4\">\n                                    <div className=\"flex items-center gap-2 mb-2\">\n                                        <Tag size={11} className=\"text-amber-600\" />\n                                        <span className=\"text-[9px] font-semibold text-slate-500 uppercase tracking-wider\">Inquiries</span>\n                                    </div>\n                                    <p className=\"text-2xl font-bold text-slate-900\">{report.inquiries}</p>\n                                </div>\n                                <div className=\"bg-slate-50 border border-slate-200 p-4\">\n                                    <div className=\"flex items-center gap-2 mb-2\">\n                                        <DollarSign size={11} className=\"text-emerald-600\" />\n                                        <span className=\"text-[9px] font-semibold text-slate-500 uppercase tracking-wider\">Sales</span>\n                                    </div>\n                                    <p className=\"text-2xl font-bold text-slate-900\">{report.buyers}</p>\n                                </div>\n                                <div className=\"bg-slate-900 p-4\">\n                                    <div className=\"flex items-center gap-2 mb-2\">\n                                        <TrendingUp size={11} className=\"text-blue-400\" />\n                                        <span className=\"text-[9px] font-semibold text-blue-300 uppercase tracking-wider\">Conversion</span>\n                                    </div>\n                                    <p className=\"text-2xl font-bold text-white\">{conversionRate}%</p>\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-5\">\n                                {/* COMPETITOR INTELLIGENCE */}\n                                {report.marketIntel && (\n                                    <div className=\"space-y-3\">\n                                        <div className=\"flex items-center justify-between pb-2 border-b border-slate-200\">\n                                            <div className=\"flex items-center gap-2\">\n                                                <div className=\"p-1.5 bg-amber-100 border border-amber-200\"><Zap className=\"w-3 h-3 text-amber-700\" /></div>\n                                                <h5 className=\"text-[10px] font-semibold text-slate-700 uppercase tracking-wider\">Competitor Pricing</h5>\n                                            </div>\n                                            <span className=\"text-[9px] font-medium text-amber-700 bg-amber-50 border border-amber-200 px-2.5 py-1\">Market Intel</span>\n                                        </div>\n\n                                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                                            {(() => {\n                                                try {\n                                                    const parsed = JSON.parse(report.marketIntel);\n                                                    if (Array.isArray(parsed)) {\n                                                        return parsed.map((item: any, idx: number) => (\n                                                            <div key={idx} className=\"bg-slate-50 border border-slate-200 p-4 flex flex-col justify-between hover:border-amber-400 hover:bg-amber-50/50 transition-colors cursor-default\">\n                                                                <div>\n                                                                    <div className=\"flex flex-col mb-3\">\n                                                                        <span className=\"text-[9px] font-semibold text-amber-700 uppercase tracking-wider mb-1\">{item.brand}</span>\n                                                                        <span className=\"text-sm font-bold text-slate-900\">{item.model}</span>\n                                                                    </div>\n                                                                    <div className=\"flex items-center justify-between pt-3 border-t border-slate-200\">\n                                                                        <span className=\"text-[10px] font-medium text-slate-500 uppercase tracking-wider\">Price</span>\n                                                                        <span className=\"text-base font-bold text-slate-900\">‚Çµ{item.price.toLocaleString()}</span>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        ));\n                                                    }\n                                                } catch (e) { }\n                                                return (\n                                                    <div className=\"col-span-full bg-amber-50 p-4 border border-amber-200 italic text-[11px] font-medium text-slate-700 leading-relaxed\">\n                                                        \"{report.marketIntel}\"\n                                                    </div>\n                                                );\n                                            })()}\n                                        </div>\n                                    </div>\n                                )}\n\n                                {/* INVENTORY INSIGHTS */}\n                                {report.stockGaps && (\n                                    <div className=\"bg-blue-50 p-4 border border-blue-200\">\n                                        <div className=\"flex items-center gap-2 mb-3\">\n                                            <div className=\"p-1.5 bg-blue-100 border border-blue-200\"><PackageSearch className=\"w-3 h-3 text-blue-700\" /></div>\n                                            <h5 className=\"text-[10px] font-semibold text-blue-700 uppercase tracking-wider\">Stock Analysis</h5>\n                                        </div>\n                                        <p className=\"text-xs font-medium text-slate-700 leading-relaxed bg-white p-3 border border-blue-100\">\n                                            {report.stockGaps}\n                                        </p>\n                                    </div>\n                                )}\n\n                                {/* FIELD NOTES */}\n                                {report.notes && (\n                                    <div className=\"p-4 border border-slate-200 bg-slate-50 relative\">\n                                        <div className=\"flex items-center gap-2 mb-3\">\n                                            <div className=\"w-6 h-6 bg-slate-100 border border-slate-200 flex items-center justify-center text-slate-500\"><MessageSquare size={12} /></div>\n                                            <h5 className=\"text-[10px] font-semibold text-slate-700 uppercase tracking-wider\">Agent Commentary</h5>\n                                        </div>\n                                        <p className=\"text-xs font-medium text-slate-700 italic pl-3 border-l-2 border-slate-300\">\n                                            \"{report.notes}\"\n                                        </p>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                );\n            })}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2614, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/components/dashboard/hr/TargetBoard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport {\n  Target as TargetIcon, Edit2, Trash2, X, Calendar,\n  TrendingUp, Save, History, ChevronDown, ChevronUp,\n  BarChart3, Award, Clock\n} from \"lucide-react\";\nimport { toast } from \"react-hot-toast\";\n\ninterface Target {\n  id: string;\n  targetQuantity: number;\n  targetValue: number;\n  startDate: string;\n  endDate: string;\n  status: string;\n  history?: TargetHistoryItem[];\n}\n\ninterface TargetHistoryItem {\n  id: string;\n  action: string;\n  previousValue: any;\n  newValue: any;\n  progress: number;\n  achievedValue: number;\n  achievedQuantity: number;\n  notes: string;\n  createdAt: string;\n}\n\ninterface TargetBoardProps {\n  targets: Target[];\n  userId: string;\n  onRefresh: () => void;\n}\n\nexport default function TargetBoard({ targets, userId, onRefresh }: TargetBoardProps) {\n  const [editingTarget, setEditingTarget] = useState<Target | null>(null);\n  const [showHistory, setShowHistory] = useState<string | null>(null);\n  const [showNewModal, setShowNewModal] = useState(false);\n\n  const [formData, setFormData] = useState({\n    targetQuantity: \"\",\n    targetValue: \"\",\n    period: \"MONTHLY\"\n  });\n\n  const handleEdit = (target: Target) => {\n    setEditingTarget(target);\n    setFormData({\n      targetQuantity: target.targetQuantity.toString(),\n      targetValue: target.targetValue.toString(),\n      period: \"MONTHLY\"\n    });\n  };\n\n  const handleSaveEdit = async () => {\n    if (!editingTarget) return;\n\n    const t = toast.loading(\"Updating target...\");\n    try {\n      const response = await fetch(\"/api/targets\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          targetId: editingTarget.id,\n          targetQuantity: parseInt(formData.targetQuantity),\n          targetValue: parseFloat(formData.targetValue),\n        }),\n      });\n\n      if (response.ok) {\n        toast.success(\"Target updated successfully\", { id: t });\n        setEditingTarget(null);\n        onRefresh();\n      } else {\n        throw new Error(\"Failed to update target\");\n      }\n    } catch (error) {\n      toast.error(\"Failed to update target\", { id: t });\n    }\n  };\n\n  const handleDelete = async (targetId: string) => {\n    if (!confirm(\"Are you sure you want to delete this target? This action cannot be undone.\")) {\n      return;\n    }\n\n    const t = toast.loading(\"Deleting target...\");\n    try {\n      const response = await fetch(`/api/targets?targetId=${targetId}`, {\n        method: \"DELETE\",\n      });\n\n      if (response.ok) {\n        toast.success(\"Target deleted successfully\", { id: t });\n        onRefresh();\n      } else {\n        throw new Error(\"Failed to delete target\");\n      }\n    } catch (error) {\n      toast.error(\"Failed to delete target\", { id: t });\n    }\n  };\n\n  const handleCreateNew = async () => {\n    const t = toast.loading(\"Creating target...\");\n    try {\n      const now = new Date();\n      let end = new Date();\n      if (formData.period === \"WEEKLY\") end.setDate(now.getDate() + 7);\n      else if (formData.period === \"MONTHLY\") end.setMonth(now.getMonth() + 1);\n      else if (formData.period === \"QUARTERLY\") end.setMonth(now.getMonth() + 3);\n\n      const response = await fetch(\"/api/targets\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          userId,\n          targetQuantity: parseInt(formData.targetQuantity),\n          targetValue: parseFloat(formData.targetValue),\n          startDate: now,\n          endDate: end,\n        }),\n      });\n\n      if (response.ok) {\n        toast.success(\"Target created successfully\", { id: t });\n        setShowNewModal(false);\n        setFormData({ targetQuantity: \"\", targetValue: \"\", period: \"MONTHLY\" });\n        onRefresh();\n      } else {\n        throw new Error(\"Failed to create target\");\n      }\n    } catch (error) {\n      toast.error(\"Failed to create target\", { id: t });\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-xl font-black text-slate-900\">Performance Targets</h3>\n        <button\n          onClick={() => setShowNewModal(true)}\n          className=\"bg-blue-600 text-white px-5 py-2.5 text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 transition-colors border border-blue-700\"\n        >\n          + Set New Target\n        </button>\n      </div>\n\n      {targets && targets.length > 0 ? (\n        <div className=\"space-y-4\">\n          {targets.map((target) => (\n            <div\n              key={target.id}\n              className=\"bg-white border border-slate-200 p-6 relative overflow-hidden group hover:border-blue-300 transition-colors\"\n            >\n              <div className={`absolute top-0 left-0 w-1 h-full ${target.status === 'ACTIVE' ? 'bg-blue-500' : 'bg-slate-300'}`} />\n              \n              <div className=\"flex justify-between items-start mb-4\">\n                <div className=\"flex-1\">\n                  <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Period</p>\n                  <p className=\"text-xs font-bold text-slate-700 mt-1\">\n                    {new Date(target.startDate).toLocaleDateString()} - {new Date(target.endDate).toLocaleDateString()}\n                  </p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span\n                    className={`px-2 py-1 border text-[9px] font-black uppercase ${target.status === 'ACTIVE' ? 'bg-emerald-50 border-emerald-200 text-emerald-700' : 'bg-slate-100 border-slate-200 text-slate-600'}`}\n                  >\n                    {target.status}\n                  </span>\n                  <button\n                    onClick={() => handleEdit(target)}\n                    className=\"p-2 hover:bg-blue-50 border border-transparent hover:border-blue-200 text-blue-600 transition-colors\"\n                    title=\"Edit Target\"\n                  >\n                    <Edit2 size={14} />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(target.id)}\n                    className=\"p-2 hover:bg-red-50 border border-transparent hover:border-red-200 text-red-600 transition-colors\"\n                    title=\"Delete Target\"\n                  >\n                    <Trash2 size={14} />\n                  </button>\n                  <button\n                    onClick={() => setShowHistory(showHistory === target.id ? null : target.id)}\n                    className=\"p-2 hover:bg-slate-100 border border-transparent hover:border-slate-200 text-slate-600 transition-colors\"\n                    title=\"View History\"\n                  >\n                    {showHistory === target.id ? <ChevronUp size={14} /> : <ChevronDown size={14} />}\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Sales Target</p>\n                  <p className=\"text-xl font-black text-slate-900\">‚Çµ {target.targetValue.toLocaleString()}</p>\n                </div>\n                <div>\n                  <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Quantity Target</p>\n                  <p className=\"text-xl font-black text-slate-900\">{target.targetQuantity} Units</p>\n                </div>\n              </div>\n\n              {/* History Section */}\n              {showHistory === target.id && target.history && target.history.length > 0 && (\n                <div className=\"mt-6 pt-6 border-t border-slate-200\">\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <History size={14} className=\"text-slate-400\" />\n                    <h4 className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Target History</h4>\n                  </div>\n                  <div className=\"space-y-3 max-h-60 overflow-y-auto\">\n                    {target.history.map((item) => (\n                      <div key={item.id} className=\"bg-slate-50 p-3 border border-slate-200 text-xs\">\n                        <div className=\"flex justify-between items-start mb-1\">\n                          <span className={`px-2 py-0.5 border text-[9px] font-black uppercase ${\n                            item.action === 'CREATED' ? 'bg-blue-50 border-blue-200 text-blue-700' :\n                            item.action === 'UPDATED' ? 'bg-amber-50 border-amber-200 text-amber-700' :\n                            item.action === 'DELETED' ? 'bg-red-50 border-red-200 text-red-700' :\n                            'bg-slate-100 border-slate-200 text-slate-600'\n                          }`}>\n                            {item.action}\n                          </span>\n                          <span className=\"text-[9px] text-slate-400\">\n                            {new Date(item.createdAt).toLocaleString()}\n                          </span>\n                        </div>\n                        {item.notes && (\n                          <p className=\"text-[10px] text-slate-600 mt-2\">{item.notes}</p>\n                        )}\n                        {item.progress > 0 && (\n                          <div className=\"mt-2 flex items-center gap-2 text-[10px]\">\n                            <BarChart3 size={12} className=\"text-blue-600\" />\n                            <span className=\"font-bold text-slate-700\">{(item.progress || 0).toFixed(1)}% Complete</span>\n                            <span className=\"text-slate-400\">‚Ä¢</span>\n                            <span className=\"text-slate-600\">‚Çµ{(item.achievedValue || 0).toLocaleString()} / {item.achievedQuantity || 0} units</span>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"text-center py-12 bg-slate-50 border border-dashed border-slate-200\">\n          <p className=\"text-slate-400 text-xs font-bold uppercase tracking-widest\">No active targets set</p>\n        </div>\n      )}\n\n      {/* Edit Modal */}\n      {editingTarget && (\n        <div className=\"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-md border border-slate-200 overflow-hidden\">\n            <div className=\"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50\">\n              <div>\n                <h3 className=\"font-black text-xl text-slate-900\">Edit Target</h3>\n                <p className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider mt-1\">Update Performance Goals</p>\n              </div>\n              <button onClick={() => setEditingTarget(null)} className=\"p-2 hover:bg-slate-100 border border-slate-200 transition-colors\">\n                <X size={18} />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-5\">\n              <div className=\"space-y-2\">\n                <label className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Sales Target (‚Çµ)</label>\n                <input\n                  type=\"number\"\n                  className=\"w-full h-12 px-4 bg-slate-50 border border-slate-200 text-sm font-semibold outline-none focus:border-blue-500 focus:bg-white transition-colors\"\n                  value={formData.targetValue}\n                  onChange={(e) => setFormData({ ...formData, targetValue: e.target.value })}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <label className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Quantity Target</label>\n                <input\n                  type=\"number\"\n                  className=\"w-full h-12 px-4 bg-slate-50 border border-slate-200 text-sm font-semibold outline-none focus:border-blue-500 focus:bg-white transition-colors\"\n                  value={formData.targetQuantity}\n                  onChange={(e) => setFormData({ ...formData, targetQuantity: e.target.value })}\n                />\n              </div>\n              <div className=\"pt-4 border-t border-slate-200 flex gap-3\">\n                <button\n                  onClick={handleSaveEdit}\n                  className=\"flex-1 h-12 bg-blue-600 text-white font-bold uppercase tracking-wider hover:bg-blue-700 transition-colors border border-blue-700\"\n                >\n                  Save Changes\n                </button>\n                <button\n                  onClick={() => setEditingTarget(null)}\n                  className=\"h-12 px-5 bg-slate-100 text-slate-700 font-semibold hover:bg-slate-200 transition-colors border border-slate-200\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* New Target Modal */}\n      {showNewModal && (\n        <div className=\"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-md border border-slate-200 overflow-hidden\">\n            <div className=\"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50\">\n              <div>\n                <h3 className=\"font-black text-xl text-slate-900\">New Target</h3>\n                <p className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider mt-1\">Set Performance Goals</p>\n              </div>\n              <button onClick={() => setShowNewModal(false)} className=\"p-2 hover:bg-slate-100 border border-slate-200 transition-colors\">\n                <X size={18} />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-5\">\n              <div className=\"space-y-3\">\n                <label className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Period</label>\n                <div className=\"grid grid-cols-3 gap-2\">\n                  {['WEEKLY', 'MONTHLY', 'QUARTERLY'].map((p) => (\n                    <button\n                      key={p}\n                      onClick={() => setFormData({ ...formData, period: p })}\n                      className={`py-2.5 text-[10px] font-bold uppercase tracking-wider border transition-colors ${formData.period === p ? 'bg-blue-600 border-blue-700 text-white' : 'bg-slate-50 border-slate-200 text-slate-600 hover:bg-slate-100'}`}\n                    >\n                      {p}\n                    </button>\n                  ))}\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <label className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Sales Target (‚Çµ)</label>\n                <input\n                  type=\"number\"\n                  className=\"w-full h-12 px-4 bg-slate-50 border border-slate-200 text-sm font-semibold outline-none focus:border-blue-500 focus:bg-white transition-colors\"\n                  placeholder=\"0.00\"\n                  value={formData.targetValue}\n                  onChange={(e) => setFormData({ ...formData, targetValue: e.target.value })}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <label className=\"text-[10px] font-semibold text-slate-500 uppercase tracking-wider\">Quantity Target</label>\n                <input\n                  type=\"number\"\n                  className=\"w-full h-12 px-4 bg-slate-50 border border-slate-200 text-sm font-semibold outline-none focus:border-blue-500 focus:bg-white transition-colors\"\n                  placeholder=\"0\"\n                  value={formData.targetQuantity}\n                  onChange={(e) => setFormData({ ...formData, targetQuantity: e.target.value })}\n                />\n              </div>\n              <div className=\"pt-4 border-t border-slate-200\">\n                <button\n                  onClick={handleCreateNew}\n                  disabled={!formData.targetQuantity || !formData.targetValue}\n                  className=\"w-full h-12 bg-slate-900 text-white font-bold uppercase tracking-wider hover:bg-slate-800 transition-colors disabled:opacity-50 border border-slate-900 disabled:border-slate-400\"\n                >\n                  Create Target\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3478, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/app/dashboard/hr/member/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport {\n  ArrowLeft, Loader2, MessageSquare, MapPin,\n  Settings, Power, Trash2, X, Eye, EyeOff,\n  Activity, Download, Shield, Mail, Briefcase,\n  Store, Key, UserCircle, Save, AlertTriangle,\n  Smartphone, Fingerprint, ShieldCheck, Info,\n  ChevronRight, Calendar, BarChart3, Clock,\n  Map as MapIcon, Globe, Lock, FileText, Layout,\n  Brain, Sparkles, TrendingUp, Search, Target, RefreshCw\n} from \"lucide-react\";\nimport { toast } from \"react-hot-toast\";\nimport { useSession } from \"next-auth/react\";\nimport dynamic from 'next/dynamic';\n\n// UI Components\nimport ChatConsole from \"@/components/dashboard/hr/ChatConsole\";\nimport PerformanceBoard from \"@/components/dashboard/hr/PerformanceBoard\";\nimport ComplianceBoard from \"@/components/dashboard/hr/ComplianceBoard\";\nimport IntelBoard from \"@/components/dashboard/hr/IntelBoard\";\nimport TargetBoard from \"@/components/dashboard/hr/TargetBoard\";\n\n// üõ∞Ô∏è DYNAMIC MAP IMPORT (Client-side only)\nconst GeofenceMap = dynamic(() => import('@/components/maps/GeofenceMap'), {\n  ssr: false,\n  loading: () => (\n    <div className=\"h-full w-full bg-slate-50 flex flex-col items-center justify-center border border-slate-200 rounded-2xl\">\n      <Loader2 className=\"w-5 h-5 text-slate-400 animate-spin mb-2\" />\n      <span className=\"text-[10px] font-bold uppercase text-slate-400 tracking-widest\">Acquiring Satellite Link...</span>\n    </div>\n  )\n});\n\nexport default function MemberPortal() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session } = useSession();\n  const staffId = params?.id as string;\n\n  // --- CORE STATE ---\n  const [mounted, setMounted] = useState(false);\n  const [data, setData] = useState<any>(null);\n  const [aiInsight, setAiInsight] = useState<any>(null);\n  const [shops, setShops] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showMap, setShowMap] = useState(true); // Default to visible\n  const [showSettings, setShowSettings] = useState(false);\n  const [activeTab, setActiveTab] = useState('OVERVIEW');\n\n  // Hardened Form State for Edit Modal\n  const [formState, setFormState] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    shopId: \"\",\n    status: \"\",\n    password: \"\",\n    bypassGeofence: false,\n    bankName: \"\",\n    bankAccountNumber: \"\",\n    bankAccountName: \"\",\n    ssnitNumber: \"\",\n    commencementDate: \"\"\n  });\n\n  useEffect(() => { setMounted(true); }, []);\n\n  // --- DATA SYNCHRONIZATION ---\n  const sync = useCallback(async (full = false) => {\n    if (!staffId || !mounted) return;\n    if (full) setLoading(true);\n\n    try {\n      const timestamp = Date.now();\n\n      if (full) {\n        const [uRes, sRes, mRes, aRes, tRes] = await Promise.all([\n          fetch(`/api/hr/member/${staffId}?t=${timestamp}`),\n          fetch(`/api/shops/list?t=${timestamp}`),\n          fetch(`/api/mobile/messages?userId=${staffId}&countOnly=true&t=${timestamp}`),\n          fetch(`/api/ai/performance-insight?userId=${staffId}&t=${timestamp}`),\n          fetch(`/api/targets?userId=${staffId}&includeHistory=true&t=${timestamp}`)\n        ]);\n\n        const userData = await uRes.json();\n        const shopData = await sRes.json();\n        const aiData = await aRes.json();\n        const targetsData = await tRes.json();\n\n        if (userData.error) {\n          // Include additional error details if available\n          const errorDetails = userData.details || userData.hint || '';\n          const fullError = errorDetails ? `${userData.error}: ${errorDetails}` : userData.error;\n          throw new Error(fullError);\n        }\n\n        setData({\n          ...userData,\n          targets: Array.isArray(targetsData) ? targetsData : []\n        });\n        setAiInsight(aiData);\n        setShops(Array.isArray(shopData) ? shopData : (shopData.data || []));\n\n        setFormState({\n          name: userData?.name || \"\",\n          email: userData?.email || \"\",\n          phone: userData?.phone || \"\",\n          shopId: userData?.shopId || \"\",\n          status: userData?.status || \"ACTIVE\",\n          password: \"\",\n          bypassGeofence: userData?.bypassGeofence || false,\n          bankName: userData?.bankName || \"\",\n          bankAccountNumber: userData?.bankAccountNumber || \"\",\n          bankAccountName: userData?.bankAccountName || \"\",\n          ssnitNumber: userData?.ssnitNumber || \"\",\n          commencementDate: userData?.commencementDate ? new Date(userData.commencementDate).toISOString().split('T')[0] : \"\"\n        });\n      } else {\n        // LIGHT UPDATE: Quietly refresh position and targets without blocking UI\n        fetch(`/api/hr/member/${staffId}?light=true&t=${timestamp}`).then(r => r.json()).then(userData => {\n          if (userData && !userData.error) {\n            setData((prev: any) => ({\n              ...prev,\n              ...userData,\n              // Keep existing heavy data if not provided in light mode\n              sales: prev?.sales || [],\n              dailyReports: prev?.dailyReports || [],\n              attendance: prev?.attendance || [],\n              leaves: prev?.leaves || [],\n              disciplinary: prev?.disciplinary || [],\n              disciplinaryLog: prev?.disciplinaryLog || [],\n              messages: prev?.messages || []\n            }));\n          }\n        });\n        fetch(`/api/ai/performance-insight?userId=${staffId}&t=${timestamp}`).then(r => r.json()).then(aiData => {\n          if (aiData && !aiData.error) {\n            setAiInsight(aiData);\n          }\n        });\n      }\n\n    } catch (e: any) {\n      console.error(\"Nexus Sync Failure\", e);\n      if (full) {\n        const errorMsg = e.message || \"Data Link Failure\";\n        setError(errorMsg);\n        \n        // Show more helpful error messages based on error type\n        if (errorMsg.includes(\"Database connection\") || errorMsg.includes(\"Cannot reach database\") || errorMsg.includes(\"DATABASE_URL\")) {\n          toast.error(\"Database connection error. Check your .env configuration.\");\n        } else if (errorMsg.includes(\"schema\") || errorMsg.includes(\"Migration required\")) {\n          toast.error(\"Database schema needs update. Run: npx prisma db push\");\n        } else if (errorMsg.includes(\"not configured\") || errorMsg.includes(\"ENV_MISSING\")) {\n          toast.error(\"Database not configured. Run: ./setup-nexus.sh\");\n        } else if (errorMsg.includes(\"timeout\") || errorMsg.includes(\"ECONNREFUSED\")) {\n          toast.error(\"Database connection timeout. Check network.\");\n        } else {\n          toast.error(errorMsg.substring(0, 100));\n        }\n      }\n    } finally {\n      if (full) setLoading(false);\n    }\n  }, [staffId, mounted]);\n\n  useEffect(() => {\n    sync(true); // Full Sync on Mount\n    const timer = setInterval(() => sync(false), 15000); // Quiet Heartbeat\n    return () => clearInterval(timer);\n  }, [sync]);\n\n  const handleDownloadReport = () => {\n    window.open(`/api/hr/member/${staffId}/export`, '_blank');\n  };\n\n  // --- SYSTEM ACTIONS ---\n  const exec = async (action: string, payload: any) => {\n    const t = toast.loading(`Processing Protocol...`);\n    try {\n      const endpoint = action === 'SEND_MESSAGE' ? '/api/mobile/messages' : (action === 'CREATE_TARGET' ? '/api/targets' : `/api/hr/member/${staffId}`);\n      const method = (action === 'SEND_MESSAGE' || action === 'CREATE_TARGET') ? 'POST' : (action === 'DELETE' ? 'DELETE' : 'PATCH');\n\n      // üîß FIX: Ensure receiverId is attached for messages\n      const bodyPayload = action === 'SEND_MESSAGE'\n        ? { content: payload.content, receiverId: staffId }\n        : (action === 'CREATE_TARGET' ? { ...payload, userId: staffId } : { action, ...payload });\n\n      const res = await fetch(endpoint, {\n        method,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: action !== 'DELETE' ? JSON.stringify(bodyPayload) : undefined\n      });\n\n      if (res.ok) {\n        toast.success(\"Protocol Success\", { id: t });\n        if (action === 'DELETE') router.push('/dashboard/hr');\n        else {\n          await sync(true);\n          setShowSettings(false);\n          // Clear password field after save\n          setFormState(prev => ({ ...prev, password: \"\" }));\n        }\n      } else {\n        const err = await res.json();\n        throw new Error(err.error || \"Request Rejected\");\n      }\n    } catch (e: any) { toast.error(e.message || \"Action Failed\", { id: t }); }\n  };\n\n  const handleSaveChanges = () => {\n    exec('UPDATE_PROFILE', {\n      name: formState.name,\n      email: formState.email,\n      phone: formState.phone,\n      shopId: formState.shopId,\n      status: formState.status,\n      password: formState.password,\n      bypassGeofence: formState.bypassGeofence,\n      bankName: formState.bankName,\n      bankAccountNumber: formState.bankAccountNumber,\n      bankAccountName: formState.bankAccountName,\n      ssnitNumber: formState.ssnitNumber,\n      commencementDate: formState.commencementDate\n    });\n  };\n\n  if (!mounted || loading) return (\n    <div className=\"h-screen w-full bg-[#FAFAFA] flex flex-col items-center justify-center\">\n      <Loader2 className=\"w-8 h-8 text-blue-600 animate-spin mb-4\" />\n      <span className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Acquiring Personnel Intel...</span>\n    </div>\n  );\n\n  if (error || !data) return (\n    <div className=\"h-screen w-full bg-[#FAFAFA] flex flex-col items-center justify-center p-8 text-center\">\n      <div className=\"w-20 h-20 bg-rose-50 rounded-[2.5rem] flex items-center justify-center text-rose-500 mb-6 border border-rose-100 shadow-sm\">\n        <AlertTriangle size={32} />\n      </div>\n      <h2 className=\"text-xl font-black text-slate-900 mb-2 uppercase tracking-tight\">Intelligence Link Severed</h2>\n      <p className=\"text-sm font-bold text-slate-400 uppercase tracking-widest mb-8 max-w-xs leading-relaxed\">\n        {error || \"Personnel record is currently unreachable or does not exist.\"}\n      </p>\n      <div className=\"flex gap-4\">\n        <button\n          onClick={() => { setError(null); sync(true); }}\n          className=\"px-8 py-4 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-slate-800 transition-all shadow-lg active:scale-95 flex items-center gap-2\"\n        >\n          <RefreshCw size={14} className={loading ? \"animate-spin\" : \"\"} /> Retry Uplink\n        </button>\n        <button\n          onClick={() => router.push('/dashboard/hr')}\n          className=\"px-8 py-4 bg-white text-slate-500 border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-slate-50 transition-all active:scale-95\"\n        >\n          Return to Registry\n        </button>\n      </div>\n    </div>\n  );\n\n  const assignedShop = data?.shop || shops.find(s => s.id === data?.shopId);\n  const isOnline = data?.lastLat && data?.lastLng;\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 font-sans text-slate-900 pb-20 selection:bg-blue-100\">\n\n      {/* üèõÔ∏è HEADER & NAV (Fixed: Removed Sticky to prevent obstruction) */}\n      {/* üèõÔ∏è PREMIUM HEADER (Non-Sticky for better visibility) */}\n      <div className=\"bg-white/80 backdrop-blur-xl border-b border-slate-200/60 relative z-40 px-8 py-5 flex justify-between items-center\">\n        <div className=\"flex items-center gap-6\">\n          <button onClick={() => router.back()} className=\"p-2.5 -ml-2 rounded-xl hover:bg-slate-100/80 text-slate-400 hover:text-slate-900 transition-all active:scale-95 border border-transparent hover:border-slate-200\">\n            <ArrowLeft size={18} />\n          </button>\n          <div>\n            <div className=\"flex items-center gap-3\">\n              <h1 className=\"text-2xl font-black tracking-tight text-slate-900\">\n                {data?.name}\n              </h1>\n              {isOnline && (\n                <div className=\"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 border border-emerald-100 rounded-full\">\n                  <span className=\"relative flex h-2 w-2\">\n                    <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"></span>\n                    <span className=\"relative inline-flex rounded-full h-2 w-2 bg-emerald-500\"></span>\n                  </span>\n                  <span className=\"text-[10px] font-black text-emerald-600 uppercase tracking-widest\">Live</span>\n                </div>\n              )}\n            </div>\n            <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mt-0.5\">\n              {data?.role === 'PROMOTER' ? 'Field Agent' : data?.role} ‚Ä¢ {assignedShop?.name || \"Pending Assignment\"}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          {activeTab === 'OVERVIEW' && (\n            <button\n              onClick={() => setShowMap(!showMap)}\n              className={`px-4 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all flex items-center gap-2 shadow-sm ${showMap ? 'bg-blue-50 text-blue-600 border-blue-100' : 'bg-white text-slate-500 border-slate-200 hover:bg-slate-50'}`}\n            >\n              <MapIcon size={14} /> {showMap ? 'Hide Map' : 'Show Map'}\n            </button>\n          )}\n          <button onClick={handleDownloadReport} className=\"px-4 py-2.5 bg-white text-slate-600 border border-slate-200 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2\">\n            <Download size={14} /> Download\n          </button>\n          <button onClick={() => setShowSettings(true)} className=\"px-4 py-2.5 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg hover:shadow-blue-900/20 hover:-translate-y-0.5 flex items-center gap-2\">\n            <Settings size={14} /> Settings\n          </button>\n        </div>\n      </div>\n\n      <div className=\"max-w-[1600px] mx-auto p-8 grid grid-cols-12 gap-8\">\n\n        {/* ---------------- LEFT COL: IDENTITY & STATUS ---------------- */}\n        <div className=\"col-span-12 xl:col-span-3 space-y-6\">\n          <div className=\"bg-white/70 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-xl shadow-slate-200/50 border border-white/40 ring-1 ring-slate-200/50\">\n            <div className=\"flex flex-col items-center text-center\">\n              <div className=\"relative group\">\n                <div className=\"w-32 h-32 bg-slate-100 rounded-[2.5rem] border-[6px] border-white shadow-2xl overflow-hidden mb-6 transition-transform group-hover:scale-105 duration-500\">\n                  {data?.image ? <img src={data.image} className=\"w-full h-full object-cover\" /> : <UserCircle size={80} className=\"text-slate-300 m-auto mt-6\" />}\n                </div>\n                <div className=\"absolute -bottom-2 -right-2 w-10 h-10 bg-white rounded-2xl shadow-lg border border-slate-100 flex items-center justify-center text-blue-600\">\n                  <Fingerprint size={18} />\n                </div>\n              </div>\n\n              <h2 className=\"text-2xl font-black text-slate-900 tracking-tight\">{data?.name}</h2>\n              <p className=\"text-xs font-bold text-slate-400 mb-8 lowercase tracking-wide\">{data?.email}</p>\n\n              {/* üß≠ NAVIGATION MOVED ABOVE */}\n              <div className=\"w-full space-y-2 mb-8\">\n                {/* (I already updated this block in the previous turn, keeping structure consistent) */}\n                <button onClick={() => setActiveTab('OVERVIEW')} className={`w-full flex items-center justify-between px-5 py-3.5 rounded-xl transition-all border ${activeTab === 'OVERVIEW' ? 'bg-slate-900 border-slate-900 text-white shadow-lg shadow-slate-200' : 'bg-transparent border-transparent hover:bg-slate-50 text-slate-500'}`}>\n                  <div className=\"flex items-center gap-3\">\n                    <Layout size={18} /> <span className=\"text-[11px] font-black uppercase tracking-widest\">Performance</span>\n                  </div>\n                </button>\n\n                <button onClick={() => setActiveTab('INTEL')} className={`w-full flex items-center justify-between px-5 py-3.5 rounded-xl transition-all border ${activeTab === 'INTEL' ? 'bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-100' : 'bg-transparent border-transparent hover:bg-blue-50 hover:text-blue-600 text-slate-500'}`}>\n                  <div className=\"flex items-center gap-3\">\n                    <FileText size={18} /> <span className=\"text-[11px] font-black uppercase tracking-widest\">Field Reports</span>\n                  </div>\n                  {data?.dailyReports?.length > 0 && <span className=\"bg-white/20 px-2 py-0.5 rounded text-[10px] font-bold\">{data.dailyReports.length}</span>}\n                </button>\n\n                <button onClick={() => setActiveTab('COMPLIANCE')} className={`w-full flex items-center justify-between px-5 py-3.5 rounded-xl transition-all border ${activeTab === 'COMPLIANCE' ? 'bg-rose-600 border-rose-600 text-white shadow-lg shadow-rose-100' : 'bg-transparent border-transparent hover:bg-rose-50 hover:text-rose-600 text-slate-500'}`}>\n                  <div className=\"flex items-center gap-3\">\n                    <ShieldCheck size={18} /> <span className=\"text-[11px] font-black uppercase tracking-widest\">Leave & Records</span>\n                  </div>\n                  {data?.leaves?.filter((l: any) => l.status === 'PENDING').length > 0 && (\n                    <span className=\"bg-white/20 px-2 py-0.5 rounded text-[10px] font-bold animate-pulse\">!</span>\n                  )}\n                </button>\n\n                <button onClick={() => setActiveTab('CHAT')} className={`w-full flex items-center justify-between px-5 py-3.5 rounded-xl transition-all border ${activeTab === 'CHAT' ? 'bg-emerald-600 border-emerald-600 text-white shadow-lg shadow-emerald-100' : 'bg-transparent border-transparent hover:bg-emerald-50 hover:text-emerald-600 text-slate-500'}`}>\n                  <div className=\"flex items-center gap-3\">\n                    <MessageSquare size={18} /> <span className=\"text-[11px] font-black uppercase tracking-widest\">Messaging</span>\n                  </div>\n                </button>\n\n                <button onClick={() => setActiveTab('PROMOTER')} className={`w-full flex items-center justify-between px-5 py-3.5 rounded-xl transition-all border ${activeTab === 'PROMOTER' ? 'bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-100' : 'bg-transparent border-transparent hover:bg-amber-50 hover:text-amber-500 text-slate-500'}`}>\n                  <div className=\"flex items-center gap-3\">\n                    <Briefcase size={18} /> <span className=\"text-[11px] font-black uppercase tracking-widest\">Employment</span>\n                  </div>\n                </button>\n\n                <button onClick={() => setActiveTab('TARGETS')} className={`w-full flex items-center justify-between px-5 py-3.5 rounded-xl transition-all border ${activeTab === 'TARGETS' ? 'bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-100' : 'bg-transparent border-transparent hover:bg-indigo-50 hover:text-indigo-600 text-slate-500'}`}>\n                  <div className=\"flex items-center gap-3\">\n                    <Target size={18} /> <span className=\"text-[11px] font-black uppercase tracking-widest\">Targets</span>\n                  </div>\n                  {data?.targets?.filter((t: any) => t.status === 'ACTIVE').length > 0 && (\n                    <span className=\"bg-white/20 px-2 py-0.5 rounded text-[10px] font-bold\">{data.targets.filter((t: any) => t.status === 'ACTIVE').length}</span>\n                  )}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"pt-6 border-t border-slate-100 flex justify-between items-center px-2\">\n              <div className=\"flex flex-col\">\n                <span className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest\">Job Status</span>\n                <span className={`text-xs font-black uppercase ${data?.status === 'ACTIVE' ? 'text-emerald-600' : 'text-slate-500'}`}>{data?.status}</span>\n              </div>\n              <div className=\"flex flex-col text-right\">\n                <span className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest\">Active Link</span>\n                <span className=\"text-xs font-bold text-slate-900\">{data.lastSeen ? new Date(data.lastSeen).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : 'Offline'}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ---------------- CENTER/RIGHT: WORKSPACE ---------------- */}\n        <div className=\"col-span-12 xl:col-span-9 space-y-8\">\n\n          {/* VIEW: OVERVIEW */}\n          {activeTab === 'OVERVIEW' && (\n            <div className=\"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500\">\n              {/* üåç LIVE POSITION MAP */}\n              {showMap && assignedShop && (\n                <div className=\"bg-white/50 backdrop-blur-sm rounded-[2.5rem] shadow-xl shadow-slate-200/40 border border-slate-200/60 overflow-hidden\">\n                  <div className=\"px-8 py-6 border-b border-slate-100 flex justify-between items-center\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-2.5 bg-blue-600 text-white rounded-2xl shadow-lg shadow-blue-200\"><Globe size={18} /></div>\n                      <div>\n                        <h3 className=\"text-sm font-black uppercase tracking-widest text-slate-900\">Live Position</h3>\n                        <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Last Known Signal Location</p>\n                      </div>\n                    </div>\n                    {data?.isInsideZone ? (\n                      <span className=\"bg-emerald-500 text-white px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-emerald-100\">\n                        <ShieldCheck size={14} /> At Work (On-Site)\n                      </span>\n                    ) : (\n                      <span className=\"bg-amber-500 text-white px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-amber-100\">\n                        <AlertTriangle size={14} /> Out of Bounds\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"h-[400px] relative bg-slate-100\">\n                    <GeofenceMap\n                      shopLat={assignedShop.latitude || 5.6037}\n                      shopLng={assignedShop.longitude || -0.1870}\n                      shopRadius={assignedShop.radius || 50}\n                      userLat={data?.lastLat}\n                      userLng={data?.lastLng}\n                    />\n                  </div>\n                </div>\n              )}\n\n              {/* üß† NEXUS INTELLIGENCE (AI ASSISTANT) */}\n              {aiInsight && (\n                <div className=\"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-[2.5rem] p-1 shadow-xl shadow-blue-200/50 group\">\n                  <div className=\"bg-white/95 backdrop-blur-xl rounded-[2.3rem] p-8 overflow-hidden relative\">\n                    {/* Decorative Elements */}\n                    <div className=\"absolute top-0 right-0 p-8 text-blue-100 opacity-20 pointer-events-none group-hover:scale-110 transition-transform duration-700\">\n                      <Brain size={120} />\n                    </div>\n                    <div className=\"absolute top-5 right-5\">\n                      <div className=\"flex items-center gap-1.5 px-3 py-1 bg-blue-50 border border-blue-100 rounded-full\">\n                        <Sparkles size={12} className=\"text-blue-600 animate-pulse\" />\n                        <span className=\"text-[9px] font-black text-blue-600 uppercase tracking-widest\">AI Briefing</span>\n                      </div>\n                    </div>\n\n                    <div className=\"relative z-10\">\n                      <div className=\"flex items-center gap-3 mb-6\">\n                        <div className=\"p-3 bg-blue-600 text-white rounded-2xl shadow-lg shadow-blue-200\">\n                          <Brain size={20} />\n                        </div>\n                        <div>\n                          <h3 className=\"text-sm font-black uppercase tracking-widest text-slate-900 leading-none\">Nexus Intelligence</h3>\n                          <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1\">Automated Management Insight</p>\n                        </div>\n                      </div>\n\n                      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                        <div className=\"lg:col-span-2 space-y-4\">\n                          <p className=\"text-sm font-medium text-slate-700 leading-relaxed italic\">\n                            \"{aiInsight.briefing}\"\n                          </p>\n\n                          <div className=\"pt-4 border-t border-slate-100\">\n                            <h4 className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2\">\n                              <TrendingUp size={12} className=\"text-blue-600\" /> Key Recommendations\n                            </h4>\n                            <div className=\"flex flex-wrap gap-2\">\n                              {aiInsight.recommendations.map((rec: string, i: number) => (\n                                <div key={i} className=\"px-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-[10px] font-bold text-slate-600 hover:bg-white hover:border-blue-200 transition-all cursor-default flex items-center gap-2\">\n                                  <div className=\"w-1 h-1 bg-blue-400 rounded-full\" />\n                                  {rec}\n                                </div>\n                              ))}\n                            </div>\n                          </div>\n                        </div>\n\n                        <div className=\"space-y-4 bg-slate-50/50 p-6 rounded-3xl border border-slate-100\">\n                          <div className=\"flex justify-between items-end\">\n                            <div>\n                              <p className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest\">Consistency</p>\n                              <p className=\"text-2xl font-black text-slate-900\">{aiInsight.metrics.consistencyScore}%</p>\n                            </div>\n                            <div className=\"flex flex-col items-end\">\n                              <p className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest text-right\">Target Progress</p>\n                              <p className=\"text-2xl font-black text-blue-600\">{(aiInsight.metrics.revenueProgress || 0).toFixed(1)}%</p>\n                            </div>\n                          </div>\n\n                          <div className=\"h-2 w-full bg-slate-200 rounded-full overflow-hidden\">\n                            <div\n                              className=\"h-full bg-blue-600 transition-all duration-1000\"\n                              style={{ width: `${aiInsight.metrics.revenueProgress || 0}%` }}\n                            />\n                          </div>\n\n                          <div className=\"flex justify-between mt-2\">\n                            <p className=\"text-[9px] font-bold text-slate-400\">AVG Ticket Value</p>\n                            <p className=\"text-[10px] font-black text-slate-900\">‚Çµ{aiInsight.metrics.avgOrderValue.toLocaleString()}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* PERFORMANCE BOARD */}\n              <div className=\"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden\">\n                <PerformanceBoard\n                  sales={data?.sales || []}\n                  dailyReports={data?.dailyReports || []}\n                  geofenceStats={data?.geofenceStats || []}\n                />\n              </div>\n            </div>\n          )}\n\n          {/* VIEW: DAILY INTEL */}\n          {activeTab === 'INTEL' && (\n            <div className=\"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm p-10 animate-in fade-in slide-in-from-right-4 duration-500 min-h-[600px]\">\n              <div className=\"flex items-center gap-4 mb-10 border-b border-slate-100 pb-8\">\n                <div className=\"w-16 h-16 bg-blue-50 rounded-[1.5rem] flex items-center justify-center text-blue-600 border border-blue-100 shadow-sm\">\n                  <FileText size={32} />\n                </div>\n                <div>\n                  <h2 className=\"text-3xl font-black text-slate-900 tracking-tight\">Daily Intelligence</h2>\n                  <p className=\"text-sm font-bold text-slate-400 uppercase tracking-widest mt-1\">Field Reports & Market Data</p>\n                </div>\n              </div>\n              <IntelBoard reports={data?.dailyReports || []} />\n            </div>\n          )}\n\n          {/* VIEW: COMPLIANCE */}\n          {activeTab === 'COMPLIANCE' && (\n            <div className=\"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm p-2 animate-in fade-in slide-in-from-right-4 duration-500 min-h-[600px]\">\n              <ComplianceBoard\n                attendance={data?.attendance || []}\n                leaveRequests={data?.leaves || []}\n                disciplinaryLog={data?.disciplinaryLog || []}\n                staffId={staffId}\n                onUpdateLeave={(id: string, s: string) => exec('MANAGE_LEAVE', { leaveId: id, status: s })}\n                onRecallLeave={(id: string) => exec('MANAGE_LEAVE', { leaveId: id, status: 'REJECTED' })}\n              />\n            </div>\n          )}\n\n          {/* VIEW: CHAT */}\n          {activeTab === 'CHAT' && (\n            <div className=\"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm h-[800px] flex flex-col overflow-hidden animate-in fade-in slide-in-from-right-4 duration-500\">\n              <div className=\"px-8 py-6 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 bg-emerald-50 text-emerald-600 rounded-lg\"><MessageSquare size={20} /></div>\n                  <span className=\"text-xs font-black uppercase tracking-[0.2em] text-slate-500\">Encrypted Communication Line</span>\n                </div>\n                <span className=\"flex items-center gap-2 text-[10px] font-black text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full border border-emerald-100\"><span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\" /> Live Uplink</span>\n              </div>\n              <div className=\"flex-1 min-h-0 bg-slate-50\">\n                <ChatConsole\n                  messages={data?.messages || []}\n                  viewerId={(session?.user as any)?.id}\n                  onSendMessage={(c: string) => exec('SEND_MESSAGE', { content: c })}\n                />\n              </div>\n            </div>\n          )}\n\n          {/* VIEW: PROMOTER DETAILS */}\n          {activeTab === 'PROMOTER' && (\n            <div className=\"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm p-10 animate-in fade-in slide-in-from-right-4 duration-500 min-h-[600px]\">\n              <div className=\"flex items-center gap-4 mb-10 border-b border-slate-100 pb-8\">\n                <div className=\"w-16 h-16 bg-amber-50 rounded-[1.5rem] flex items-center justify-center text-amber-600 border border-amber-100 shadow-sm\">\n                  <Briefcase size={32} />\n                </div>\n                <div>\n                  <h2 className=\"text-3xl font-black text-slate-900 tracking-tight\">Field Reports</h2>\n                  <p className=\"text-sm font-bold text-slate-400 uppercase tracking-widest mt-1\">Activity Logs & Market News</p>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                <div className=\"space-y-6\">\n                  <h4 className=\"text-xs font-black text-slate-400 uppercase tracking-[0.2em] border-b border-slate-100 pb-2\">Payroll Details</h4>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Bank Name</p>\n                      <p className=\"text-lg font-bold text-slate-900\">{data?.bankName || \"N/A\"}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Account Number</p>\n                      <p className=\"text-lg font-bold text-slate-900 font-mono\">{data?.bankAccountNumber || \"N/A\"}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Account Name</p>\n                      <p className=\"text-lg font-bold text-slate-900\">{data?.bankAccountName || \"N/A\"}</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"space-y-6\">\n                  <h4 className=\"text-xs font-black text-slate-400 uppercase tracking-[0.2em] border-b border-slate-100 pb-2\">Office Records</h4>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">SSNIT Number</p>\n                      <p className=\"text-lg font-bold text-slate-900 font-mono\">{data?.ssnitNumber || \"N/A\"}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Commencement Date</p>\n                      <p className=\"text-lg font-bold text-slate-900\">\n                        {data?.commencementDate ? new Date(data.commencementDate).toLocaleDateString(undefined, { dateStyle: 'long' }) : 'N/A'}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          )}\n\n          {/* VIEW: TARGETS */}\n          {activeTab === 'TARGETS' && (\n            <div className=\"bg-white border border-slate-200 p-10 animate-in fade-in slide-in-from-right-4 duration-500 min-h-[600px]\">\n              <div className=\"flex items-center gap-4 mb-10 border-b border-slate-200 pb-8\">\n                <div className=\"w-16 h-16 bg-indigo-50 border border-indigo-200 flex items-center justify-center text-indigo-600\">\n                  <Target size={32} />\n                </div>\n                <div>\n                  <h2 className=\"text-3xl font-bold text-slate-900\">Performance Targets</h2>\n                  <p className=\"text-sm font-medium text-slate-500 uppercase tracking-wider mt-1\">Sales Goals & Achievement Tracking</p>\n                </div>\n              </div>\n              <TargetBoard\n                targets={data?.targets || []}\n                userId={staffId}\n                onRefresh={() => sync(true)}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* ‚öôÔ∏è SETTINGS MODAL */}\n      {showSettings && (\n        <div className=\"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300\">\n          <div className=\"bg-white/95 backdrop-blur-xl w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 border border-white ring-1 ring-slate-200/50\">\n            <div className=\"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50/30\">\n              <div>\n                <h3 className=\"font-black text-2xl text-slate-900 tracking-tight\">Settings</h3>\n                <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1\">Profile & Access Control</p>\n              </div>\n              <button onClick={() => setShowSettings(false)} className=\"p-3 bg-white hover:bg-slate-50 border border-slate-100 rounded-2xl transition-all shadow-sm active:scale-95 text-slate-400 hover:text-slate-900\"><X size={20} /></button>\n            </div>\n            <div className=\"p-10 space-y-8 overflow-y-auto max-h-[80vh] custom-scrollbar\">\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <UserCircle size={16} className=\"text-slate-400\" />\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Personal Identity</label>\n                </div>\n                <input className=\"w-full h-14 px-6 bg-slate-50 rounded-2xl border border-slate-200 text-sm font-bold outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/5 transition-all shadow-sm\" placeholder=\"Full Name\" value={formState.name} onChange={e => setFormState({ ...formState, name: e.target.value })} />\n                <input className=\"w-full h-14 px-6 bg-slate-50 rounded-2xl border border-slate-200 text-sm font-bold outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/5 transition-all shadow-sm\" placeholder=\"Email Address\" value={formState.email} onChange={e => setFormState({ ...formState, email: e.target.value })} />\n              </div>\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Store size={16} className=\"text-slate-400\" />\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Shop Assignment</label>\n                </div>\n                <div className=\"relative\">\n                  <select className=\"w-full h-14 px-6 bg-slate-50 rounded-2xl border border-slate-200 text-sm font-bold outline-none focus:border-blue-500 focus:bg-white transition-all shadow-sm appearance-none cursor-pointer\" value={formState.shopId} onChange={e => setFormState({ ...formState, shopId: e.target.value })}>\n                    <option value=\"\">No Assignment</option>\n                    {shops.map((s: any) => <option key={s.id} value={s.id}>{s.name}</option>)}\n                  </select>\n                  <ChevronRight className=\"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 rotate-90 pointer-events-none\" size={18} />\n                </div>\n              </div>\n\n              <div className=\"space-y-4 bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Briefcase size={16} className=\"text-slate-400\" />\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Payroll & Records</label>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <input className=\"w-full h-14 px-5 bg-white rounded-2xl border border-slate-200 text-xs font-bold outline-none focus:border-blue-500 transition-all shadow-sm\" placeholder=\"Bank Name\" value={formState.bankName} onChange={e => setFormState({ ...formState, bankName: e.target.value })} />\n                  <input className=\"w-full h-14 px-5 bg-white rounded-2xl border border-slate-200 text-xs font-bold outline-none focus:border-blue-500 transition-all shadow-sm\" placeholder=\"Account #\" value={formState.bankAccountNumber} onChange={e => setFormState({ ...formState, bankAccountNumber: e.target.value })} />\n                  <div className=\"col-span-2\">\n                    <input className=\"w-full h-14 px-5 bg-white rounded-2xl border border-slate-200 text-xs font-bold outline-none focus:border-blue-500 transition-all shadow-sm\" placeholder=\"Account Name\" value={formState.bankAccountName} onChange={e => setFormState({ ...formState, bankAccountName: e.target.value })} />\n                  </div>\n                  <input className=\"w-full h-14 px-5 bg-white rounded-2xl border border-slate-200 text-xs font-bold outline-none focus:border-blue-500 transition-all shadow-sm\" placeholder=\"SSNIT #\" value={formState.ssnitNumber} onChange={e => setFormState({ ...formState, ssnitNumber: e.target.value })} />\n                  <div className=\"relative\">\n                    <input type=\"date\" className=\"w-full h-14 px-5 bg-white rounded-2xl border border-slate-200 text-xs font-bold outline-none focus:border-blue-500 transition-all shadow-sm\" value={formState.commencementDate} onChange={e => setFormState({ ...formState, commencementDate: e.target.value })} />\n                  </div>\n                </div>\n              </div>\n\n              {/* üõ°Ô∏è SECURITY SECTION */}\n              <div className=\"p-6 bg-slate-50 rounded-3xl border border-slate-200 space-y-4 mt-2\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <ShieldCheck size={16} className=\"text-blue-600\" />\n                  <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-blue-600\">Security & Access</span>\n                </div>\n\n                {/* Password Reset */}\n                <div className=\"space-y-2\">\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Reset Password</label>\n                  <div className=\"relative\">\n                    <Key className=\"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400\" size={18} />\n                    <input\n                      type=\"password\"\n                      className=\"w-full h-12 pl-12 pr-5 bg-white rounded-xl border border-slate-200 text-xs font-bold outline-none focus:border-blue-500 transition-all placeholder:text-slate-300\"\n                      placeholder=\"Set new password (leave empty to keep current)\"\n                      value={formState.password}\n                      onChange={e => setFormState({ ...formState, password: e.target.value })}\n                    />\n                  </div>\n                </div>\n\n                {/* Bypass Toggle */}\n                <div className=\"flex items-center justify-between bg-white p-4 rounded-2xl border border-slate-200 shadow-sm\">\n                  <div>\n                    <p className=\"text-xs font-black text-slate-900 uppercase\">Remote GPS Access</p>\n                    <p className=\"text-[10px] font-medium text-slate-400 mt-0.5\">Allow agent to work from anywhere (Bypass Geofence)</p>\n                  </div>\n                  <button\n                    onClick={() => setFormState({ ...formState, bypassGeofence: !formState.bypassGeofence })}\n                    className={`w-12 h-7 rounded-full relative transition-colors ${formState.bypassGeofence ? 'bg-blue-600' : 'bg-slate-200'}`}\n                  >\n                    <div className={`absolute top-1 w-5 h-5 rounded-full bg-white transition-all shadow-sm ${formState.bypassGeofence ? 'left-6' : 'left-1'}`} />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"pt-4 border-t border-slate-100 flex gap-4\">\n                <button onClick={handleSaveChanges} className=\"flex-1 h-14 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 active:scale-95\">Save Changes</button>\n                <button onClick={() => { if (confirm('Terminate?')) exec('DELETE', {}) }} className=\"w-14 h-14 bg-red-50 text-red-600 rounded-2xl font-bold hover:bg-red-100 transition-all flex items-center justify-center border border-red-100\"><Trash2 size={24} /></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}