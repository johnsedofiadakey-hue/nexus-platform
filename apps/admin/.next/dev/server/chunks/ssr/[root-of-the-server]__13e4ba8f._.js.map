{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/admin/src/app/dashboard/shops/page.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * --------------------------------------------------------------------------\n * NEXUS PLATFORM - SHOP COMMAND CENTER\n * DESIGN SYSTEM: TIER-1 SAAS (Clean, High Contrast, Data-Dense)\n * FEATURES: God Mode Map, Dynamic Taxonomy, Inventory Ledger\n * --------------------------------------------------------------------------\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport {\n  MapPin, Plus, Package, Edit2, X,\n  Loader2, PackagePlus, AlertTriangle, Trash2,\n  Navigation, ArrowRight, ShieldCheck, RefreshCw, Building2, Search,\n  Settings, FolderTree, ChevronRight, FileText, LayoutList, Map as MapIcon\n} from \"lucide-react\";\nimport { toast } from \"react-hot-toast\";\nimport dynamic from \"next/dynamic\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\n\n// üõ∞Ô∏è GOD MODE MAP ENGINE (Dynamic Import)\nconst AdminHQMap = dynamic(\n  () => import(\"@/components/maps/AdminHQMap\"),\n  {\n    ssr: false,\n    loading: () => (\n      <div className=\"h-full w-full bg-slate-50 flex flex-col items-center justify-center rounded-xl border border-slate-200\">\n        <Loader2 className=\"w-8 h-8 text-blue-600 animate-spin mb-3\" />\n        <span className=\"text-xs font-bold uppercase text-slate-400 tracking-wider\">Loading Satellite Network...</span>\n      </div>\n    )\n  }\n);\n\nexport default function AdminShopsPage() {\n  const [shops, setShops] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showMap, setShowMap] = useState(true); // üó∫Ô∏è Map Toggle State\n\n  // --- MODAL STATES ---\n  const [activeModal, setActiveModal] = useState<'NONE' | 'SHOP_FORM' | 'INVENTORY_FORM' | 'INVENTORY_VIEW' | 'SETTINGS' | 'DETAIL_VIEW'>('NONE');\n  const [isEditing, setIsEditing] = useState(false);\n  const [selectedShopId, setSelectedShopId] = useState<string | null>(null);\n\n  // --- INVENTORY STATES ---\n  const [shopInventory, setShopInventory] = useState<any[]>([]);\n  const [loadingInv, setLoadingInv] = useState(false);\n  const [isEditingStock, setIsEditingStock] = useState(false);\n  const [editingStockId, setEditingStockId] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedItem, setSelectedItem] = useState<any>(null);\n\n  // --- DYNAMIC TAXONOMY STATE ---\n  const [categories, setCategories] = useState<any[]>([]);\n  const [newCatName, setNewCatName] = useState(\"\");\n  const [activeCatId, setActiveCatId] = useState<string | null>(null);\n\n  // --- FORMS ---\n  const [shopForm, setShopForm] = useState({\n    id: \"\", // Added ID for editing\n    name: \"\", location: \"\", latitude: \"\", longitude: \"\", radius: \"200\",\n    managerName: \"\", managerContact: \"\"\n  });\n\n  const [stockForm, setStockForm] = useState({\n    productName: \"\", modelNumber: \"\", sku: \"\", price: \"\", quantity: \"1\",\n    minStock: \"5\", category: \"\", subCategory: \"\", reason: \"\", notes: \"\"\n  });\n\n  // ==================================================================================\n  // 1. DATA SYNCHRONIZATION\n  // ==================================================================================\n\n  useEffect(() => { fetchShops(); }, []);\n\n  const fetchShops = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`/api/shops/list?t=${Date.now()}`);\n      const json = await res.json();\n      setShops(Array.isArray(json) ? json : (json.data || []));\n    } catch (error) { console.error(error); }\n    finally { setLoading(false); }\n  };\n\n  const fetchCategories = async (shopId: string) => {\n    try {\n      const res = await fetch(`/api/shops/${shopId}/settings/categories`);\n      const data = await res.json();\n      setCategories(Array.isArray(data) ? data : []);\n    } catch (e) { toast.error(\"Could not load taxonomy\"); }\n  };\n\n  const fetchShopInventory = async (shopId: string) => {\n    setLoadingInv(true);\n    setSelectedShopId(shopId);\n    setActiveModal('INVENTORY_VIEW');\n    setSearchTerm(\"\");\n    fetchCategories(shopId);\n\n    try {\n      const res = await fetch(`/api/shops/${shopId}?t=${Date.now()}`);\n      const json = await res.json();\n      setShopInventory(json.inventory || json.products || []);\n    } catch (e) {\n      setShopInventory([]);\n      toast.error(\"Failed to load ledger\");\n    } finally {\n      setLoadingInv(false);\n    }\n  };\n\n  // ==================================================================================\n  // 2. ACTIONS: DYNAMIC CATEGORIES\n  // ==================================================================================\n\n  const handleAddCategory = async () => {\n    if (!newCatName.trim()) return;\n    const toastId = toast.loading(\"Saving...\");\n    try {\n      const payload = activeCatId ? { name: newCatName, parentId: activeCatId } : { name: newCatName };\n      const res = await fetch(`/api/shops/${selectedShopId}/settings/categories`, {\n        method: 'POST', body: JSON.stringify(payload)\n      });\n      if (!res.ok) throw new Error();\n      setNewCatName(\"\");\n      setActiveCatId(null);\n      fetchCategories(selectedShopId!);\n      toast.success(\"Saved\", { id: toastId });\n    } catch (e) { toast.error(\"Failed to save\", { id: toastId }); }\n  };\n\n  const handleDeleteCategory = async (id: string, isSub: boolean) => {\n    if (!confirm(\"Delete this category? Items using it will look unsorted.\")) return;\n    try {\n      await fetch(`/api/shops/${selectedShopId}/settings/categories`, {\n        method: 'DELETE', body: JSON.stringify({ id, isSub })\n      });\n      fetchCategories(selectedShopId!);\n      toast.success(\"Deleted\");\n    } catch { toast.error(\"Delete failed\"); }\n  };\n\n  // ==================================================================================\n  // 3. ACTIONS: INVENTORY CRUD\n  // ==================================================================================\n\n  const handleStockSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!selectedShopId) return;\n    const t = toast.loading(\"Syncing Ledger...\");\n\n    const payload = {\n      id: isEditingStock ? editingStockId : undefined,\n      productName: stockForm.productName,\n      modelNumber: stockForm.modelNumber,\n      sku: stockForm.sku,\n      priceGHS: stockForm.price,\n      quantity: stockForm.quantity,\n      minStock: stockForm.minStock,\n      category: stockForm.category,\n      subCategory: stockForm.subCategory,\n      reason: stockForm.reason, // üëà Added Reason\n      description: stockForm.notes\n    };\n\n    try {\n      const res = await fetch(`/api/shops/${selectedShopId}`, {\n        method: \"POST\", body: JSON.stringify(payload)\n      });\n\n      if (res.ok) {\n        toast.success(\"Success\", { id: t });\n        fetchShopInventory(selectedShopId);\n        if (!isEditingStock) setActiveModal('INVENTORY_VIEW');\n        setStockForm({ productName: \"\", modelNumber: \"\", sku: \"\", price: \"\", quantity: \"1\", minStock: \"5\", category: \"\", subCategory: \"\", reason: \"\", notes: \"\" });\n      } else { throw new Error(); }\n    } catch { toast.error(\"Transaction Failed\", { id: t }); }\n  };\n\n  const handleDeleteStock = async (itemId: string) => {\n    if (!confirm(\"Permanently delete this item?\")) return;\n    try {\n      await fetch(`/api/shops/${selectedShopId}`, {\n        method: 'DELETE', body: JSON.stringify({ id: itemId, type: 'INVENTORY' })\n      });\n      setShopInventory(prev => prev.filter(i => i.id !== itemId));\n      toast.success(\"Item Deleted\");\n    } catch { toast.error(\"Failed\"); }\n  };\n\n  // ==================================================================================\n  // 4. ACTIONS: SHOPS\n  // ==================================================================================\n\n  const handleShopSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const t = toast.loading(isEditing ? \"Updating Hub...\" : \"Configuring Hub...\");\n\n    try {\n      if (isEditing && shopForm.id) {\n        // UPDATE MODE\n        const res = await fetch(`/api/shops/${shopForm.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ ...shopForm, radius: parseInt(shopForm.radius) })\n        });\n        if (!res.ok) throw new Error(\"Update Failed\");\n        toast.success(\"Hub Updated\", { id: t });\n      } else {\n        // CREATE MODE\n        const res = await fetch(\"/api/shops/list\", {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ ...shopForm, radius: parseInt(shopForm.radius) })\n        });\n        if (!res.ok) throw new Error(\"Creation Failed\");\n        toast.success(\"Hub Active\", { id: t });\n      }\n      setActiveModal('NONE');\n      fetchShops();\n    } catch { toast.error(\"Operation Failed\", { id: t }); }\n  };\n\n  const handleDeleteShop = async (shopId: string, shopName: string) => {\n    if (!confirm(`‚ö†Ô∏è WARNING: You are about to dismantle hub \"${shopName}\".\\n\\nALL INVENTORY & SALES HISTORY WILL BE ERASED.\\n\\nProceed?`)) return;\n    const t = toast.loading(\"Dismantling...\");\n    try {\n      const res = await fetch(`/api/shops/${shopId}`, { method: 'DELETE' });\n      if (res.ok) {\n        toast.success(\"Hub Dismantled\", { id: t });\n        fetchShops();\n      } else { throw new Error(); }\n    } catch { toast.error(\"Failed to delete\", { id: t }); }\n  };\n\n  // ==================================================================================\n  // 5. HELPER FUNCTIONS\n  // ==================================================================================\n\n  const openEditShop = (shop: any) => {\n    setShopForm({\n      id: shop.id,\n      name: shop.name || \"\",\n      location: shop.location || \"\",\n      latitude: (shop.latitude || 0).toString(),\n      longitude: (shop.longitude || 0).toString(),\n      radius: (shop.radius || 200).toString(),\n      managerName: shop.managerName || \"\",\n      managerContact: shop.managerContact || \"\"\n    });\n    setIsEditing(true);\n    setActiveModal('SHOP_FORM');\n  };\n\n  const handleDownloadInventory = (shopId: string) => {\n    try {\n      const doc = new jsPDF();\n\n      // Header\n      doc.setFontSize(18);\n      doc.setFont(\"helvetica\", \"bold\");\n      doc.text(\"INVENTORY LEDGER\", 14, 20);\n\n      doc.setFontSize(10);\n      doc.setFont(\"helvetica\", \"normal\");\n      doc.text(`Generated: ${new Date().toLocaleString()}`, 14, 26);\n\n      const shopName = shops.find(s => s.id === shopId)?.name || \"Unknown Shop\";\n      doc.text(`Shop: ${shopName} (${shopId.substring(0, 8).toUpperCase()})`, 14, 31);\n\n      const rows = shopInventory.map(item => [\n        item.name || \"N/A\",\n        item.modelNumber || \"-\",\n        `${item.category || 'General'} / ${item.subCategory || 'Unsorted'}`,\n        item.sellingPrice?.toLocaleString() || \"0\",\n        item.stockLevel?.toString() || \"0\"\n      ]);\n\n      autoTable(doc, {\n        head: [['Product', 'Model', 'Category', 'Price (GHS)', 'Stock']],\n        body: rows,\n        startY: 38,\n        styles: { fontSize: 9, cellPadding: 3 },\n        headStyles: { fillColor: [15, 23, 42], textColor: 255, fontStyle: 'bold' },\n        alternateRowStyles: { fillColor: [248, 250, 252] },\n        theme: 'grid'\n      });\n\n      doc.save(`Inventory_${shopId}_${new Date().toISOString().split('T')[0]}.pdf`);\n      toast.success(\"PDF Downloaded Successfully\");\n    } catch (e) {\n      console.error(e);\n      toast.error(\"Failed to generate PDF\");\n    }\n  };\n\n  const openSettings = (shopId: string) => {\n    setSelectedShopId(shopId);\n    fetchCategories(shopId);\n    setActiveModal('SETTINGS');\n  }\n\n  const openEditStock = (item: any) => {\n    setEditingStockId(item.id);\n    setIsEditingStock(true);\n    setStockForm({\n      productName: item.name || \"\",\n      modelNumber: item.modelNumber || \"\",\n      sku: item.barcode || \"\",\n      price: (item.sellingPrice || 0).toString(),\n      quantity: (item.stockLevel || 0).toString(),\n      minStock: (item.minStock || 5).toString(),\n      category: item.category || \"\",\n      subCategory: item.subCategory || \"\",\n      reason: \"\", // Reset reason on edit open\n      notes: item.description || \"\"\n    });\n    setActiveModal('INVENTORY_FORM');\n  };\n\n  const openAddStock = (shopId: string) => {\n    if (shopId) { setSelectedShopId(shopId); fetchCategories(shopId); }\n    setIsEditingStock(false);\n\n    const firstCat = categories.length > 0 ? categories[0].name : \"\";\n    const firstSub = categories.length > 0 && categories[0].subCategories.length > 0 ? categories[0].subCategories[0].name : \"\";\n\n    setStockForm({\n      productName: \"\", modelNumber: \"\", sku: `SKU-${Math.floor(Math.random() * 10000)}`,\n      price: \"\", quantity: \"1\", minStock: \"5\",\n      category: firstCat, subCategory: firstSub, reason: \"\", notes: \"\"\n    });\n    setActiveModal('INVENTORY_FORM');\n  }\n\n  const openDetailView = (item: any) => {\n    setSelectedItem(item);\n    setActiveModal('DETAIL_VIEW');\n  }\n\n  const filteredInventory = shopInventory.filter(item => {\n    const term = searchTerm.toLowerCase();\n    const name = (item.name || \"\").toLowerCase();\n    const sku = (item.barcode || \"\").toLowerCase();\n    return name.includes(term) || sku.includes(term);\n  });\n\n  // ==================================================================================\n  // RENDER\n  // ==================================================================================\n\n  return (\n    <div className=\"min-h-screen bg-slate-50/50 p-6 md:p-10 font-sans text-slate-900\">\n      <div className=\"max-w-7xl mx-auto space-y-8\">\n\n        {/* HEADER */}\n        <div className=\"flex flex-col md:flex-row justify-between gap-4\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-slate-900 tracking-tight\">Hub Command Center</h1>\n            <p className=\"text-sm text-slate-500 mt-1\">Manage operations, dynamic inventory, and taxonomy settings.</p>\n          </div>\n          <div className=\"flex gap-3\">\n            <button\n              onClick={() => setShowMap(!showMap)}\n              className={`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold border transition-all ${showMap ? 'bg-blue-50 text-blue-600 border-blue-200' : 'bg-white text-slate-600 border-slate-200 hover:bg-slate-50'}`}\n            >\n              <MapIcon size={18} /> {showMap ? 'Hide Map' : 'Show Map'}\n            </button>\n            <button onClick={() => { setIsEditing(false); setActiveModal('SHOP_FORM'); setShopForm({ id: \"\", name: \"\", location: \"\", latitude: \"\", longitude: \"\", radius: \"200\", managerName: \"\", managerContact: \"\" }); }}\n              className=\"flex items-center gap-2 bg-slate-900 text-white px-5 py-2.5 rounded-lg text-sm font-semibold hover:bg-slate-800 transition-all\">\n              <Plus size={18} /> Register Hub\n            </button>\n          </div>\n        </div>\n\n        {/* üó∫Ô∏è GOD MODE MAP SECTION */}\n        {showMap && (\n          <div className=\"h-[400px] w-full relative z-0 rounded-2xl overflow-hidden shadow-sm border border-slate-200 animate-in fade-in slide-in-from-top-4 duration-500\">\n            <AdminHQMap shops={shops} />\n\n            {/* Map Overlay Badge */}\n            <div className=\"absolute bottom-4 left-4 z-[400] bg-white/90 backdrop-blur px-4 py-2 rounded-lg border border-slate-200 shadow-md\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\" />\n                <span className=\"text-[10px] font-bold uppercase tracking-widest text-slate-600\">Satellite Live</span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* SHOP GRID */}\n        {loading ? (\n          <div className=\"flex flex-col items-center justify-center h-64 gap-3\">\n            <Loader2 className=\"animate-spin text-blue-600\" size={32} />\n            <p className=\"text-xs font-bold uppercase tracking-widest text-slate-400\">Loading Network...</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {shops.map(shop => (\n              <div key={shop.id} className=\"bg-white border border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-lg transition-all group relative overflow-hidden\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center text-lg font-bold text-slate-700 uppercase\">{shop.name.charAt(0)}</div>\n                    <div>\n                      <h3 className=\"font-bold text-slate-900\">{shop.name}</h3>\n                      <div className=\"flex items-center gap-1.5 mt-1 text-xs font-medium text-slate-500\"><MapPin size={12} /> {shop.location}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-1\">\n                    <button onClick={() => openEditShop(shop)} className=\"p-2 hover:bg-amber-50 text-slate-400 hover:text-amber-600 rounded-lg transition-colors\" title=\"Edit Details\">\n                      <Edit2 size={16} />\n                    </button>\n                    <button onClick={() => openSettings(shop.id)} className=\"p-2 hover:bg-blue-50 text-slate-400 hover:text-blue-600 rounded-lg transition-colors\" title=\"Manage Categories\">\n                      <Settings size={16} />\n                    </button>\n                    <button onClick={() => handleDeleteShop(shop.id, shop.name)} className=\"p-2 hover:bg-rose-50 text-slate-400 hover:text-rose-600 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity\">\n                      <Trash2 size={16} />\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-3 mb-5\">\n                  <div className=\"bg-slate-50 rounded-lg p-3 border border-slate-100\">\n                    <p className=\"text-[10px] font-bold text-slate-400 uppercase\">Geofence</p>\n                    <p className=\"text-sm font-semibold text-slate-900\">{shop.radius}m</p>\n                  </div>\n                  <div className=\"bg-slate-50 rounded-lg p-3 border border-slate-100\">\n                    <p className=\"text-[10px] font-bold text-slate-400 uppercase\">SKUs</p>\n                    <p className=\"text-sm font-semibold text-slate-900\">{shop._count?.inventory || shop.inventoryCount || 0}</p>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <button onClick={() => openAddStock(shop.id)} className=\"flex-1 py-2 px-3 border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 uppercase tracking-wide\">\n                    + Add Stock\n                  </button>\n                  <button onClick={() => fetchShopInventory(shop.id)} className=\"flex-1 py-2 px-3 bg-slate-900 text-white rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-blue-600 flex items-center justify-center gap-2\">\n                    Inventory <ArrowRight size={12} />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* ======================= MODAL: SETTINGS (TAXONOMY) ======================= */}\n      {activeModal === 'SETTINGS' && (\n        <div className=\"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-2xl rounded-2xl p-8 shadow-2xl animate-in zoom-in-95 h-[75vh] flex flex-col\">\n            <div className=\"flex justify-between items-center mb-6 border-b border-slate-100 pb-4\">\n              <div>\n                <h3 className=\"font-bold text-xl text-slate-900\">Taxonomy Settings</h3>\n                <p className=\"text-xs text-slate-500 font-medium\">Define your own product categories and sub-categories.</p>\n              </div>\n              <button onClick={() => setActiveModal('NONE')}><X className=\"text-slate-400 hover:text-rose-600 transition-colors\" /></button>\n            </div>\n\n            <div className=\"flex gap-2 mb-6 p-1\">\n              <div className=\"flex-1 relative\">\n                <FolderTree className=\"absolute left-3 top-2.5 text-slate-400\" size={16} />\n                <input\n                  className=\"w-full bg-slate-50 border border-slate-200 rounded-lg pl-10 pr-4 py-2 text-sm outline-none focus:border-blue-500 focus:bg-white transition-all\"\n                  placeholder={activeCatId ? \"Enter Sub-Category Name...\" : \"Enter Main Category Name...\"}\n                  value={newCatName}\n                  onChange={(e) => setNewCatName(e.target.value)}\n                  onKeyDown={(e) => e.key === 'Enter' && handleAddCategory()}\n                />\n              </div>\n              {activeCatId && (\n                <button onClick={() => setActiveCatId(null)} className=\"px-4 py-2 text-xs font-bold text-slate-500 bg-white border border-slate-200 rounded-lg hover:bg-slate-50\">Cancel Sub</button>\n              )}\n              <button onClick={handleAddCategory} className=\"px-6 py-2 bg-blue-600 text-white text-xs font-bold uppercase rounded-lg hover:bg-blue-700 shadow-md transition-all\">\n                {activeCatId ? \"Add Sub\" : \"Add Root\"}\n              </button>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto pr-2 space-y-3\">\n              {categories.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-40 text-slate-400 border-2 border-dashed border-slate-100 rounded-xl\">\n                  <LayoutList size={32} className=\"mb-2 opacity-50\" />\n                  <p className=\"text-sm font-medium\">No Categories Defined</p>\n                  <p className=\"text-xs\">Add a root category to get started.</p>\n                </div>\n              ) : categories.map((cat: any) => (\n                <div key={cat.id} className=\"border border-slate-200 rounded-xl overflow-hidden shadow-sm\">\n                  <div className=\"bg-white p-3 flex justify-between items-center group\">\n                    <span className=\"font-bold text-sm text-slate-800 flex items-center gap-2\">\n                      <span className=\"w-6 h-6 bg-blue-50 text-blue-600 rounded flex items-center justify-center text-xs font-bold\">{cat.name.charAt(0)}</span>\n                      {cat.name}\n                    </span>\n                    <div className=\"flex gap-2\">\n                      <button onClick={() => setActiveCatId(cat.id)} className=\"text-[10px] font-bold uppercase bg-slate-50 text-slate-600 px-3 py-1.5 rounded hover:bg-blue-50 hover:text-blue-600 transition-colors border border-slate-200\">+ Sub</button>\n                      <button onClick={() => handleDeleteCategory(cat.id, false)} className=\"p-1.5 text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded transition-colors\"><Trash2 size={14} /></button>\n                    </div>\n                  </div>\n                  {cat.subCategories.length > 0 && (\n                    <div className=\"bg-slate-50 p-2 pl-4 space-y-1 border-t border-slate-100\">\n                      {cat.subCategories.map((sub: any) => (\n                        <div key={sub.id} className=\"flex justify-between items-center px-3 py-2 rounded-lg hover:bg-white transition-colors group/sub\">\n                          <span className=\"flex items-center gap-2 text-xs font-medium text-slate-600\">\n                            <ChevronRight size={12} className=\"text-slate-300\" /> {sub.name}\n                          </span>\n                          <button onClick={() => handleDeleteCategory(sub.id, true)} className=\"text-slate-300 hover:text-rose-600 opacity-0 group-hover/sub:opacity-100 transition-opacity\"><Trash2 size={12} /></button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ======================= MODAL: INVENTORY FORM ======================= */}\n      {activeModal === 'INVENTORY_FORM' && (\n        <div className=\"fixed inset-0 z-[60] bg-slate-900/40 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-2xl rounded-2xl p-8 shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-6 border-b border-slate-100 pb-4\">\n              <div>\n                <h3 className=\"font-bold text-xl text-slate-900\">{isEditingStock ? \"Edit Product\" : \"Add Inventory\"}</h3>\n                <p className=\"text-xs text-slate-500 font-medium\">Detailed product specification and tracking.</p>\n              </div>\n              <button onClick={() => setActiveModal('INVENTORY_VIEW')} className=\"text-slate-400 hover:text-rose-600\"><X /></button>\n            </div>\n\n            <form onSubmit={handleStockSubmit} className=\"space-y-5\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Category</label>\n                  <select className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:bg-white focus:border-blue-500 outline-none transition-all\"\n                    value={stockForm.category}\n                    onChange={e => {\n                      const newCat = e.target.value;\n                      const catObj = categories.find(c => c.name === newCat);\n                      const firstSub = catObj && catObj.subCategories.length > 0 ? catObj.subCategories[0].name : \"\";\n                      setStockForm({ ...stockForm, category: newCat, subCategory: firstSub });\n                    }}\n                  >\n                    <option value=\"\">Select Category...</option>\n                    {categories.map((c: any) => <option key={c.id} value={c.name}>{c.name}</option>)}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Sub-Category</label>\n                  <select className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:bg-white focus:border-blue-500 outline-none transition-all\"\n                    value={stockForm.subCategory}\n                    onChange={e => setStockForm({ ...stockForm, subCategory: e.target.value })}\n                    disabled={!stockForm.category}\n                  >\n                    <option value=\"\">Select Sub-Category...</option>\n                    {categories.find((c: any) => c.name === stockForm.category)?.subCategories.map((s: any) => (\n                      <option key={s.id} value={s.name}>{s.name}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Product Name</label>\n                  <input className=\"w-full p-3 border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none\" placeholder=\"e.g. Samsung OLED TV\" value={stockForm.productName} onChange={e => setStockForm({ ...stockForm, productName: e.target.value })} required />\n                </div>\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Model Number</label>\n                  <input className=\"w-full p-3 border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none\" placeholder=\"e.g. QA65S90CAUXZN\" value={stockForm.modelNumber} onChange={e => setStockForm({ ...stockForm, modelNumber: e.target.value })} />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Serial No. / Barcode</label>\n                  <input className=\"w-full p-3 border border-slate-200 rounded-lg text-sm font-mono focus:border-blue-500 outline-none\" placeholder=\"Scan...\" value={stockForm.sku} onChange={e => setStockForm({ ...stockForm, sku: e.target.value })} />\n                </div>\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Unit Price (GHS)</label>\n                  <input type=\"number\" className=\"w-full p-3 border border-slate-200 rounded-lg text-sm font-mono focus:border-blue-500 outline-none\" placeholder=\"0.00\" value={stockForm.price} onChange={e => setStockForm({ ...stockForm, price: e.target.value })} required />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Quantity</label>\n                  <input type=\"number\" className=\"w-full p-3 border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none\" placeholder=\"0\" value={stockForm.quantity} onChange={e => setStockForm({ ...stockForm, quantity: e.target.value })} />\n                </div>\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Low Stock Alert</label>\n                  <input type=\"number\" className=\"w-full p-3 border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none\" placeholder=\"5\" value={stockForm.minStock} onChange={e => setStockForm({ ...stockForm, minStock: e.target.value })} />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 block\">Specifications / Notes</label>\n                <textarea className=\"w-full p-3 border border-slate-200 rounded-lg text-sm h-24 resize-none focus:border-blue-500 outline-none\" placeholder=\"Enter specs, dimensions, or internal notes...\" value={stockForm.notes} onChange={e => setStockForm({ ...stockForm, notes: e.target.value })} />\n              </div>\n\n              <button type=\"submit\" className=\"w-full py-3.5 bg-slate-900 text-white rounded-xl font-bold text-sm uppercase tracking-wide hover:bg-blue-600 shadow-md transition-all\">\n                {isEditingStock ? \"Update Product\" : \"Add to Inventory\"}\n              </button>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* ======================= MODAL: INVENTORY LIST ======================= */}\n      {activeModal === 'INVENTORY_VIEW' && (\n        <div className=\"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-5xl h-[85vh] rounded-2xl flex flex-col shadow-2xl animate-in zoom-in-95\">\n            <div className=\"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 rounded-t-2xl\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2 bg-white border border-slate-200 rounded-lg shadow-sm\"><Package className=\"text-blue-600\" size={20} /></div>\n                <div><h2 className=\"text-lg font-bold text-slate-900\">Inventory Ledger</h2><p className=\"text-xs text-slate-500\">Click any row to view full details.</p></div>\n              </div>\n              <div className=\"flex gap-3\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-2.5 text-slate-400\" size={14} />\n                  <input type=\"text\" placeholder=\"Search SKU, Name...\" className=\"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm outline-none focus:border-blue-500 w-64\" value={searchTerm} onChange={e => setSearchTerm(e.target.value)} />\n                </div>\n                <button onClick={() => handleDownloadInventory(selectedShopId!)} className=\"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 text-xs font-bold uppercase rounded-lg hover:bg-slate-200\"><FileText size={14} /> PDF</button>\n                <button onClick={() => setActiveModal('NONE')}><X className=\"text-slate-400 hover:text-rose-600\" /></button>\n              </div>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto bg-slate-50/30 p-6\">\n              {filteredInventory.length === 0 ? <div className=\"text-center text-slate-400 py-20\">No items found.</div> : (\n                <div className=\"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm\">\n                  <table className=\"w-full text-left\">\n                    <thead className=\"bg-slate-50 border-b border-slate-100 text-[11px] font-bold text-slate-500 uppercase tracking-wider\">\n                      <tr>\n                        <th className=\"px-6 py-3\">Item Details</th>\n                        <th className=\"px-6 py-3\">Model No.</th>\n                        <th className=\"px-6 py-3\">Category</th>\n                        <th className=\"px-6 py-3 text-right\">Price</th>\n                        <th className=\"px-6 py-3 text-center\">Stock</th>\n                        <th className=\"px-6 py-3 text-right\">Action</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-slate-100 text-sm\">\n                      {filteredInventory.map(item => {\n                        const isLow = (item.stockLevel || 0) <= (item.minStock || 5);\n                        return (\n                          <tr key={item.id} onClick={() => openDetailView(item)} className=\"hover:bg-blue-50/50 cursor-pointer group transition-colors\">\n                            <td className=\"px-6 py-4\">\n                              <p className=\"font-bold text-slate-900\">{item.name}</p>\n                              <p className=\"text-xs font-mono text-slate-400\">{item.barcode || \"No SKU\"}</p>\n                            </td>\n                            <td className=\"px-6 py-4 text-xs font-mono text-slate-500\">{item.modelNumber || \"-\"}</td>\n                            <td className=\"px-6 py-4\">\n                              <span className=\"inline-flex flex-col\">\n                                <span className=\"font-bold text-slate-700 text-xs\">{item.subCategory}</span>\n                                <span className=\"text-[10px] text-slate-400 uppercase\">{item.category}</span>\n                              </span>\n                            </td>\n                            <td className=\"px-6 py-4 text-right font-mono font-bold text-slate-700\">‚Çµ{item.sellingPrice?.toLocaleString()}</td>\n                            <td className=\"px-6 py-4 text-center\">\n                              <span className={`inline-flex px-2 py-1 rounded text-xs font-bold ${isLow ? 'bg-rose-100 text-rose-600' : 'bg-emerald-100 text-emerald-600'}`}>\n                                {item.stockLevel}\n                              </span>\n                            </td>\n                            <td className=\"px-6 py-4 text-right\">\n                              <button onClick={(e) => { e.stopPropagation(); openEditStock(item); }} className=\"p-2 hover:bg-white border border-transparent hover:border-slate-200 text-blue-600 rounded shadow-sm opacity-0 group-hover:opacity-100 transition-all\"><Edit2 size={14} /></button>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n            <div className=\"p-5 border-t border-slate-100 flex justify-end bg-slate-50/50\">\n              <button onClick={() => openAddStock(selectedShopId!)} className=\"bg-slate-900 text-white px-6 py-3 rounded-xl text-xs font-bold uppercase hover:bg-blue-700 flex gap-2 shadow-lg transition-all\"><PackagePlus size={16} /> Add Goods</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ======================= MODAL: DETAIL VIEW ======================= */}\n      {activeModal === 'DETAIL_VIEW' && selectedItem && (\n        <div className=\"fixed inset-0 z-[70] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-md rounded-2xl p-8 shadow-2xl animate-in zoom-in-95\">\n            <div className=\"flex justify-between items-start mb-6 border-b border-slate-100 pb-4\">\n              <div>\n                <h2 className=\"text-xl font-black text-slate-900\">{selectedItem.name}</h2>\n                <div className=\"flex items-center gap-2 mt-1\">\n                  <span className=\"px-2 py-0.5 bg-slate-100 rounded text-[10px] font-mono text-slate-500 uppercase tracking-wide\">{selectedItem.barcode || \"NO SKU\"}</span>\n                  <span className=\"text-xs text-slate-400 font-medium\">| {selectedItem.modelNumber || \"No Model #\"}</span>\n                </div>\n              </div>\n              <button onClick={() => setActiveModal('INVENTORY_VIEW')}><X className=\"text-slate-400 hover:text-slate-900\" /></button>\n            </div>\n            <div className=\"space-y-5\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"bg-slate-50 p-4 rounded-xl border border-slate-100 text-center\">\n                  <p className=\"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-1\">Selling Price</p>\n                  <p className=\"text-xl font-mono font-black text-slate-900\">‚Çµ{selectedItem.sellingPrice?.toLocaleString()}</p>\n                </div>\n                <div className=\"bg-slate-50 p-4 rounded-xl border border-slate-100 text-center\">\n                  <p className=\"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-1\">Available Stock</p>\n                  <p className=\"text-xl font-black text-slate-900\">{selectedItem.stockLevel}</p>\n                </div>\n              </div>\n              <div>\n                <p className=\"text-xs text-slate-400 font-bold uppercase mb-2\">Category Taxonomy</p>\n                <div className=\"flex items-center gap-2 text-sm font-medium text-slate-700 bg-blue-50 px-3 py-2 rounded-lg border border-blue-100\">\n                  <FolderTree size={14} className=\"text-blue-500\" />\n                  {selectedItem.category} <ChevronRight size={12} className=\"text-slate-400\" /> {selectedItem.subCategory}\n                </div>\n              </div>\n              {selectedItem.description && (\n                <div>\n                  <p className=\"text-xs text-slate-400 font-bold uppercase mb-2\">Specification / Notes</p>\n                  <div className=\"bg-slate-50 p-4 rounded-xl border border-slate-100 text-sm text-slate-600 leading-relaxed whitespace-pre-wrap max-h-40 overflow-y-auto\">\n                    {selectedItem.description}\n                  </div>\n                </div>\n              )}\n            </div>\n            <div className=\"flex gap-3 mt-8\">\n              <button onClick={() => handleDeleteStock(selectedItem.id)} className=\"p-3 text-rose-500 hover:bg-rose-50 rounded-xl transition-colors border border-slate-100\"><Trash2 size={18} /></button>\n              <button onClick={() => { setActiveModal('INVENTORY_VIEW'); openEditStock(selectedItem); }} className=\"flex-1 bg-slate-900 text-white rounded-xl font-bold text-sm hover:bg-blue-600 transition-all shadow-lg\">Edit Details</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ======================= MODAL: SHOP FORM ======================= */}\n      {activeModal === 'SHOP_FORM' && (\n        <div className=\"fixed inset-0 z-50 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-xl rounded-2xl p-8 shadow-2xl animate-in fade-in zoom-in-95\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <div>\n                <h3 className=\"font-bold text-lg text-slate-900\">{isEditing ? \"Edit Hub Details\" : \"Register New Hub\"}</h3>\n                <p className=\"text-xs text-slate-500 mt-1\">Define operational coordinates and identity.</p>\n              </div>\n              <button onClick={() => setActiveModal('NONE')} className=\"text-slate-400 hover:text-rose-600 transition-colors\"><X /></button>\n            </div>\n            <form onSubmit={handleShopSubmit} className=\"space-y-4\">\n              <input className=\"w-full p-3 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none\" placeholder=\"Hub Name\" value={shopForm.name} onChange={e => setShopForm({ ...shopForm, name: e.target.value })} required />\n              <input className=\"w-full p-3 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none\" placeholder=\"Location Description\" value={shopForm.location} onChange={e => setShopForm({ ...shopForm, location: e.target.value })} required />\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <input className=\"w-full p-3 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none\" placeholder=\"Manager Name\" value={shopForm.managerName} onChange={e => setShopForm({ ...shopForm, managerName: e.target.value })} />\n                <input className=\"w-full p-3 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none\" placeholder=\"Manager Contact\" value={shopForm.managerContact} onChange={e => setShopForm({ ...shopForm, managerContact: e.target.value })} />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"relative\">\n                  <Navigation size={14} className=\"absolute left-3 top-3.5 text-slate-400\" />\n                  <input className=\"w-full p-3 pl-9 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none font-mono\" placeholder=\"Latitude\" value={shopForm.latitude} onChange={e => setShopForm({ ...shopForm, latitude: e.target.value })} required />\n                </div>\n                <div className=\"relative\">\n                  <Navigation size={14} className=\"absolute left-3 top-3.5 text-slate-400\" />\n                  <input className=\"w-full p-3 pl-9 bg-white border border-slate-200 rounded-lg text-sm focus:border-blue-500 outline-none font-mono\" placeholder=\"Longitude\" value={shopForm.longitude} onChange={e => setShopForm({ ...shopForm, longitude: e.target.value })} required />\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-4 p-4 bg-blue-50/50 rounded-lg border border-blue-100\">\n                <ShieldCheck className=\"text-blue-600\" />\n                <div>\n                  <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wide block\">Geofence Radius (Meters)</label>\n                  <input className=\"w-full bg-transparent text-sm font-bold text-slate-900 border-none focus:ring-0 p-0 placeholder-slate-400\" placeholder=\"200\" value={shopForm.radius} onChange={e => setShopForm({ ...shopForm, radius: e.target.value })} />\n                </div>\n              </div>\n\n              <button type=\"submit\" className=\"w-full py-3.5 bg-slate-900 text-white rounded-xl font-bold text-sm uppercase tracking-wide hover:bg-blue-600 transition-all shadow-md mt-4\">\n                {isEditing ? \"Save Changes\" : \"Create Hub\"}\n              </button>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}