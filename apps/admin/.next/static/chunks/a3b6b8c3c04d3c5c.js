(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,74294,e=>{"use strict";let t=(0,e.i(3645).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],74294)},55016,e=>{"use strict";let t=(0,e.i(3645).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],55016)},50548,e=>{"use strict";let t=(0,e.i(3645).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>t],50548)},22903,e=>{"use strict";var t=e.i(87433),s=e.i(44440),a=e.i(66459),l=e.i(55016),r=e.i(83428),c=e.i(50548),i=e.i(74294),n=e.i(27787),x=e.i(98992);function o(){let[e,o]=(0,s.useState)([]),[d,p]=(0,s.useState)(!0),[m,h]=(0,s.useState)(""),[u,f]=(0,s.useState)("");(0,s.useEffect)(()=>{g();let e=setInterval(g,15e3);return()=>clearInterval(e)},[u]);let g=async()=>{try{let e=u?`?shopId=${u}`:"",t=await fetch(`/api/sales/register${e}`),s=await t.json();Array.isArray(s)&&o(s)}catch(e){x.toast.error("Failed to load Sales Register")}finally{p(!1)}},b=e.filter(e=>e.id.toLowerCase().includes(m.toLowerCase())||e.user?.name?.toLowerCase().includes(m.toLowerCase())||e.shop?.name?.toLowerCase().includes(m.toLowerCase())||e.items?.some(e=>e.product?.name?.toLowerCase().includes(m.toLowerCase())||e.product?.brand?.toLowerCase().includes(m.toLowerCase())));return(0,t.jsxs)("div",{className:"p-8 max-w-[1600px] mx-auto animate-in fade-in duration-500 min-h-screen",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-12 gap-6 text-slate-900",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black tracking-tight uppercase",children:"Sales Register"}),(0,t.jsxs)("p",{className:"text-slate-500 font-bold text-xs mt-2 uppercase tracking-[0.2em] flex items-center gap-2",children:[(0,t.jsx)(i.Activity,{className:"w-3 h-3 text-emerald-500 animate-pulse"})," Live Transaction Intelligence"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(a.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),(0,t.jsx)("input",{type:"text",placeholder:"Search Txn ID, Promoter, Item...",className:"h-12 pl-12 pr-4 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-900 outline-none w-72 focus:ring-4 ring-blue-500/5 focus:border-blue-500 transition-all shadow-sm",value:m,onChange:e=>h(e.target.value)})]})})]}),(0,t.jsx)("div",{className:"bg-white rounded-[2rem] shadow-sm border border-slate-100 overflow-hidden",children:d?(0,t.jsxs)("div",{className:"p-32 flex flex-col items-center justify-center",children:[(0,t.jsx)(r.Loader2,{className:"w-12 h-12 text-blue-600 animate-spin mb-4"}),(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 animate-pulse",children:"Syncing Ledger..."})]}):(0,t.jsx)("div",{className:"overflow-x-auto text-slate-900",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Transaction"}),(0,t.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Shop"}),(0,t.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Promoter"}),(0,t.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),(0,t.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item"}),(0,t.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Brand"}),(0,t.jsx)("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Amount"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-slate-50",children:[b.map(e=>{let s=e.items?.[0]?.product,a=(e.items?.length||0)-1;return(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[(0,t.jsx)("td",{className:"px-8 py-5",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("span",{className:"text-xs font-black text-slate-900 font-mono",children:["#",e.id.slice(-8).toUpperCase()]}),(0,t.jsxs)("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter mt-1 flex items-center gap-1",children:[(0,t.jsx)(l.Clock,{size:10})," ",new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})}),(0,t.jsx)("td",{className:"px-8 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Building2,{size:12,className:"text-slate-400"}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-700",children:e.shop?.name})]})}),(0,t.jsx)("td",{className:"px-8 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Briefcase,{size:12,className:"text-slate-400"}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-700",children:e.user?.name})]})}),(0,t.jsx)("td",{className:"px-8 py-5",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-wide border border-blue-100/50",children:s?.category||"General"})}),(0,t.jsx)("td",{className:"px-8 py-5",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-slate-900 group-hover:text-blue-600 transition-colors",children:s?.name||"Product"}),a>0&&(0,t.jsxs)("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mt-0.5",children:["+",a," More Items"]})]})}),(0,t.jsx)("td",{className:"px-8 py-5",children:(0,t.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em]",children:s?.brand||"—"})}),(0,t.jsxs)("td",{className:"px-8 py-5 text-right font-black text-slate-900 tabular-nums",children:["₵ ",e.totalAmount.toLocaleString()]})]},e.id)}),0===b.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-8 py-32 text-center text-slate-400 text-sm font-medium italic",children:"No transactions found matching your search."})})]})]})})})]})}e.s(["default",()=>o])}]);