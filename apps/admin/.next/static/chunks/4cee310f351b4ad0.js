(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94365,e=>{"use strict";let t=(0,e.i(3645).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],94365)},64315,e=>{"use strict";var t=e.i(87433),s=e.i(44440),a=e.i(98701),l=e.i(66459),r=e.i(94365),c=e.i(43416),n=e.i(83428);function i(){let[e,i]=(0,s.useState)([]),[d,x]=(0,s.useState)(!0),[o,h]=(0,s.useState)(""),m=async()=>{x(!0);try{let e=await fetch("/api/audit"),t=await e.json();i(t)}catch(e){console.error(e)}finally{x(!1)}};(0,s.useEffect)(()=>{m()},[]);let p=e.filter(e=>e.user?.name?.toLowerCase().includes(o.toLowerCase())||e.action.toLowerCase().includes(o.toLowerCase())||e.entity.toLowerCase().includes(o.toLowerCase()));return(0,t.jsxs)("div",{className:"p-8 max-w-[1600px] mx-auto animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end mb-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"SYSTEM AUDIT"}),(0,t.jsxs)("p",{className:"text-slate-500 font-bold text-xs uppercase tracking-widest mt-2 flex items-center gap-2",children:[(0,t.jsx)(a.ShieldCheck,{className:"w-4 h-4 text-emerald-500"})," Security & Compliance Ledger"]})]}),(0,t.jsx)("button",{onClick:m,className:"p-3 bg-white border border-slate-200 rounded-xl hover:text-blue-600 transition-colors",children:(0,t.jsx)(c.RefreshCw,{className:`w-5 h-5 ${d?"animate-spin":""}`})})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm mb-6 flex items-center gap-4",children:[(0,t.jsx)(l.Search,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{placeholder:"Search by User, Action, or Entity...",className:"flex-1 font-bold text-sm text-slate-700 outline-none placeholder:font-medium placeholder:text-slate-400",value:o,onChange:e=>h(e.target.value)})]}),(0,t.jsx)("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-slate-50 border-b border-slate-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Timestamp"}),(0,t.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"User / Actor"}),(0,t.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Action"}),(0,t.jsx)("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Details"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:d?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"p-20 text-center",children:(0,t.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-slate-300 mx-auto"})})}):0===p.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"p-20 text-center text-slate-400 font-bold text-sm",children:"No Audit Records Found"})}):p.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-8 py-4",children:(0,t.jsx)("span",{className:"text-xs font-bold text-slate-500 font-mono",children:new Date(e.createdAt).toLocaleString()})}),(0,t.jsx)("td",{className:"px-8 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:(0,t.jsx)(r.User,{className:"w-4 h-4"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-900",children:e.user?.name||"Unknown"})]})}),(0,t.jsx)("td",{className:"px-8 py-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wide border ${e.action.includes("DELETE")?"bg-red-50 text-red-600 border-red-100":e.action.includes("CREATE")?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:e.action})}),(0,t.jsx)("td",{className:"px-8 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("span",{className:"text-xs font-bold text-slate-700",children:[e.entity," ",(0,t.jsxs)("span",{className:"text-slate-400",children:["#",e.entityId]})]}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 truncate w-64",children:e.details})]})})]},e.id))})]})})})]})}e.s(["default",()=>i])}]);