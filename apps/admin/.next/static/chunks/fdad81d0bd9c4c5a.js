(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77879,e=>{"use strict";var t=e.i(87433),l=e.i(44440),r=e.i(17626),a=e.i(83428);function o({shopLat:e,shopLng:o,shopRadius:n,userLat:s,userLng:i}){let c=(0,l.useRef)(null),d=(0,l.useRef)(null),u=(0,l.useRef)(null),[f,m]=(0,l.useState)(!1),[p,b]=(0,l.useState)("SATELLITE");return(0,l.useEffect)(()=>{if(delete r.default.Icon.Default.prototype._getIconUrl,r.default.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"}),!c.current)return;if(!d.current){let t=r.default.map(c.current,{zoomControl:!1,scrollWheelZoom:!1}).setView([e,o],16);d.current=t,r.default.control.zoom({position:"topright"}).addTo(t);let l=new r.default.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});r.default.marker([e,o],{icon:l}).addTo(t).bindPopup("<b>Assigned Hub</b>"),r.default.circle([e,o],{radius:n,color:"#10b981",fillColor:"#10b981",fillOpacity:.15,weight:2}).addTo(t),m(!0)}let t=d.current;u.current&&t.removeLayer(u.current);let l=r.default.tileLayer("SATELLITE"===p?"https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}":"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:"SATELLITE"===p?"Â© Google":"&copy; Carto"});l.addTo(t),u.current=l},[p]),(0,l.useEffect)(()=>{if(!d.current||!s||!i)return;let t=d.current,l=new r.default.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]}),a=r.default.marker([s,i],{icon:l}).addTo(t).bindPopup("<b>Agent Location</b>"),n=r.default.latLngBounds([[e,o],[s,i]]);return t.fitBounds(n,{padding:[50,50]}),()=>{t.removeLayer(a)}},[s,i]),(0,l.useEffect)(()=>()=>{d.current&&(d.current.remove(),d.current=null)},[]),(0,t.jsxs)("div",{className:"w-full h-full relative bg-slate-50 border border-slate-200 rounded-md overflow-hidden group",children:[(0,t.jsx)("div",{ref:c,className:"w-full h-full grayscale-[0.2] contrast-[1.1]",style:{zIndex:1}}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 z-[500] flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>b("STREET"),className:`px-3 py-1 text-xs font-bold rounded shadow-lg backdrop-blur-md transition-all ${"STREET"===p?"bg-blue-600 text-white":"bg-white/80 text-slate-600 hover:bg-white"}`,children:"Map"}),(0,t.jsx)("button",{onClick:()=>b("SATELLITE"),className:`px-3 py-1 text-xs font-bold rounded shadow-lg backdrop-blur-md transition-all ${"SATELLITE"===p?"bg-blue-600 text-white":"bg-white/80 text-slate-600 hover:bg-white"}`,children:"Satellite"})]}),!f&&(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm z-10",children:[(0,t.jsx)(a.Loader2,{className:"w-5 h-5 text-slate-900 animate-spin mb-2"}),(0,t.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400",children:"Syncing Satellite..."})]})]})}e.s(["default",()=>o])},94383,e=>{e.n(e.i(77879))}]);