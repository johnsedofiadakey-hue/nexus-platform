(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38518,e=>{"use strict";let t=(0,e.i(3645).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],38518)},75112,e=>{"use strict";let t=(0,e.i(3645).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],75112)},94365,e=>{"use strict";let t=(0,e.i(3645).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],94365)},17027,e=>{"use strict";var t=e.i(87433),a=e.i(44440),s=e.i(75112);let l=(0,e.i(3645).default)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var r=e.i(38518),i=e.i(83428),d=e.i(94365),n=e.i(13370),o=e.i(62924),c=e.i(52736);function u(){let e,{data:u}=(0,n.useSession)(),x=(0,o.useRouter)(),{darkMode:m,accent:b,themeClasses:h}=(0,c.useMobileTheme)();(e={blue:"#2563eb",purple:"#9333ea",rose:"#e11d48",amber:"#d97706"})[b]||e.blue;let[f,p]=(0,a.useState)([]),[g,y]=(0,a.useState)(""),[k,j]=(0,a.useState)(!0),w=(0,a.useRef)(null),v=async()=>{try{let e=await fetch("/api/mobile/messages");if(e.ok){let t=await e.json();p(t)}}catch(e){console.error("Chat Sync Error")}finally{j(!1)}};(0,a.useEffect)(()=>{v();let e=setInterval(v,5e3);return()=>clearInterval(e)},[]),(0,a.useEffect)(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[f]);let N=async()=>{if(!g.trim())return;let e={id:`temp-${Date.now()}`,content:g,createdAt:new Date().toISOString(),direction:"OUTGOING",pending:!0};p(t=>[...t,e]),y("");try{await fetch("/api/mobile/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e.content})}),v()}catch(e){alert("Failed to send")}};return(0,t.jsxs)("div",{className:"flex flex-col h-full font-sans bg-slate-50 dark:bg-slate-900 transition-colors duration-500",children:[(0,t.jsxs)("div",{className:"px-6 py-5 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 flex items-center gap-4 sticky top-0 z-20 shadow-sm",children:[(0,t.jsx)("button",{onClick:()=>x.back(),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,t.jsx)(r.ArrowLeft,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-lg font-black tracking-tight text-slate-900 dark:text-white",children:"HQ Support"}),(0,t.jsxs)("p",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-widest flex items-center gap-1",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"})," Online"]})]}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xs uppercase",children:"HQ"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6",children:[k&&(0,t.jsx)("div",{className:"flex justify-center pt-10",children:(0,t.jsx)(i.Loader2,{className:"w-6 h-6 animate-spin text-slate-400"})}),0===f.length&&!k&&(0,t.jsxs)("div",{className:"text-center py-20 opacity-40 animate-in fade-in duration-700",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-200 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(d.User,{className:"w-8 h-8 text-slate-400"})}),(0,t.jsx)("p",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Start a conversation"})]}),f.map((e,a)=>{let s="OUTGOING"===e.direction;return(0,t.jsx)("div",{className:`flex ${s?"justify-end":"justify-start"} animate-in slide-in-from-bottom-2 duration-300`,children:(0,t.jsxs)("div",{className:`px-5 py-3 rounded-2xl max-w-[80%] shadow-sm text-sm font-medium relative ${s?"bg-gradient-to-br from-blue-600 to-blue-500 text-white rounded-tr-sm":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-700 rounded-tl-sm"}`,children:[(0,t.jsx)("p",{className:"leading-relaxed",children:e.content}),(0,t.jsxs)("div",{className:"text-[9px] mt-1 flex items-center gap-1 justify-end opacity-70",children:[new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s&&(0,t.jsx)(l,{size:10})]})]})},e.id||a)}),(0,t.jsx)("div",{ref:w})]}),(0,t.jsx)("div",{className:"p-4 pb-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-t border-slate-200 dark:border-slate-800",children:(0,t.jsxs)("div",{className:"flex gap-2 relative",children:[(0,t.jsx)("input",{value:g,onChange:e=>y(e.target.value),onKeyDown:e=>"Enter"===e.key&&N(),className:"flex-1 h-12 pl-5 pr-4 rounded-full font-medium text-sm outline-none border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-slate-400",placeholder:"Type a message..."}),(0,t.jsx)("button",{onClick:N,disabled:!g.trim(),className:"w-12 h-12 rounded-full flex items-center justify-center bg-blue-600 text-white shadow-lg shadow-blue-500/30 active:scale-90 transition-all disabled:opacity-50 disabled:scale-100 hover:bg-blue-700",children:(0,t.jsx)(s.Send,{size:18})})]})})]})}e.s(["default",()=>u],17027)}]);