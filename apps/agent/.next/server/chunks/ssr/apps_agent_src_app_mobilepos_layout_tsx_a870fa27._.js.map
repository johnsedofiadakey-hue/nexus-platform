{"version":3,"sources":["../../../../../../apps/agent/src/app/mobilepos/layout.tsx","../../../../../../apps/agent/src/components/mobile/SyncManager.tsx","../../../../../../apps/agent/src/components/mobile/LeaveLockout.tsx","../../../../../../apps/agent/src/components/mobile/GeoLockoutOverlay.tsx","../../../../../../apps/agent/src/components/auth/LocationGuard.tsx","../../../../../../apps/agent/src/components/mobile/PWAInstallPrompt.tsx","../../../../../../apps/agent/src/lib/pwa-register.ts","../../../../../../node_modules/.pnpm/lucide-react%400.563.0_react%4019.2.4/node_modules/lucide-react/src/icons/phone-call.ts","../../../../../../node_modules/.pnpm/lucide-react%400.563.0_react%4019.2.4/node_modules/lucide-react/src/icons/menu.ts","../../../../../../node_modules/.pnpm/lucide-react%400.563.0_react%4019.2.4/node_modules/lucide-react/src/icons/wifi.ts","../../../../../../node_modules/.pnpm/lucide-react%400.563.0_react%4019.2.4/node_modules/lucide-react/src/icons/shield-off.ts","../../../../../../node_modules/.pnpm/lucide-react%400.563.0_react%4019.2.4/node_modules/lucide-react/src/icons/download.ts"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport { SessionProvider as AuthProvider } from \"@/components/providers/SessionProvider\";\nimport { MobileThemeProvider, useMobileTheme } from \"@/context/MobileThemeContext\";\nimport { MobileDataProvider } from \"@/context/MobileDataContext\";\nimport LocationGuard from \"@/components/auth/LocationGuard\";\nimport SyncManager from \"@/components/mobile/SyncManager\";\nimport LeaveLockout from \"@/components/mobile/LeaveLockout\";\nimport GeoLockoutOverlay from \"@/components/mobile/GeoLockoutOverlay\";\nimport { PWAInstallPrompt } from \"@/components/mobile/PWAInstallPrompt\";\nimport { useEffect, useState } from \"react\";\nimport { Loader2, Plus, Home, Package, MessageSquare, Menu } from \"lucide-react\";\nimport { registerServiceWorker, requestPersistentStorage } from \"@/lib/pwa-register\";\n\n/**\n * üì± MOBILE FRAME WRAPPER\n * High-End SaaS Overhaul + PWA Support\n */\nfunction MobileFrame({ children }: { children: React.ReactNode }) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const { themeClasses } = useMobileTheme();\n  const [lockout, setLockout] = useState<{ active: boolean; returnDate?: string } | null>(null);\n  const [geoConfig, setGeoConfig] = useState<{ lat: number; lng: number; radius: number; bypass: boolean } | null>(null);\n\n  useEffect(() => {\n    // üöÄ Register PWA service worker\n    registerServiceWorker();\n    requestPersistentStorage();\n\n    // Note: Init data now comes from MobileDataContext\n    // We just need to setup geo config from the context\n  }, []);\n\n  if (lockout === null) {\n    return (\n      <div className=\"h-screen w-full flex items-center justify-center bg-slate-900\">\n        <Loader2 className=\"animate-spin text-blue-500\" />\n      </div>\n    );\n  }\n\n  if (lockout.active) {\n    return <LeaveLockout returnDate={lockout.returnDate!} />;\n  }\n\n  const isActive = (path: string) => pathname === path;\n\n  return (\n    <div className={`w-full max-w-[480px] h-screen relative flex flex-col overflow-hidden transition-all duration-500 bg-slate-50 dark:bg-slate-900 mx-auto shadow-2xl rounded-xl border border-slate-200 dark:border-slate-800 overscroll-none select-none`}>\n\n      {/* üî¥ Status Bar Area (Visual Only) */}\n      <div className=\"h-2 w-full bg-transparent z-50 shrink-0\" />\n\n      {/* üîí GEO LOCKOUT (Client Side Guard) */}\n      {geoConfig && (\n        <GeoLockoutOverlay\n          shopLat={geoConfig.lat}\n          shopLng={geoConfig.lng}\n          radius={geoConfig.radius}\n          bypass={geoConfig.bypass}\n        />\n      )}\n\n      {/* üü¢ MAIN CONTENT AREA */}\n      <main className=\"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar pb-32\">\n        <SyncManager />\n        {children}\n      </main>\n\n      {/* üì± THE DOCK (Floating Glass) */}\n      <div className=\"absolute bottom-6 left-4 right-4 h-20 rounded-3xl bg-[var(--glass-bg)] border border-[var(--glass-border)] shadow-[var(--glass-shadow)] backdrop-blur-xl flex justify-between items-center px-6 z-50\">\n\n        {/* HUB */}\n        <button onClick={() => router.push('/mobilepos')} className=\"group flex flex-col items-center gap-1 transition-all\">\n          <div className={`p-2 rounded-full transition-all duration-300 ${isActive('/mobilepos') ? 'bg-blue-100 text-blue-600 translate-y-[-4px]' : 'text-slate-400'}`}>\n            <Home size={22} className={isActive('/mobilepos') ? 'fill-blue-600' : ''} />\n          </div>\n          {isActive('/mobilepos') && <span className=\"w-1 h-1 rounded-full bg-blue-600 animate-in fade-in\" />}\n        </button>\n\n        {/* STOCK */}\n        <button onClick={() => router.push('/mobilepos/inventory')} className=\"group flex flex-col items-center gap-1 transition-all\">\n          <div className={`p-2 rounded-full transition-all duration-300 ${isActive('/mobilepos/inventory') ? 'bg-blue-100 text-blue-600 translate-y-[-4px]' : 'text-slate-400'}`}>\n            <Package size={22} className={isActive('/mobilepos/inventory') ? 'fill-blue-600' : ''} />\n          </div>\n          {isActive('/mobilepos/inventory') && <span className=\"w-1 h-1 rounded-full bg-blue-600 animate-in fade-in\" />}\n        </button>\n\n        {/* ‚ûï ACTION BUTTON (Floating Gradient) */}\n        <div className=\"relative -top-8\">\n          <button\n            onClick={() => router.push('/mobilepos/pos')}\n            className=\"w-16 h-16 rounded-full flex items-center justify-center bg-[var(--nexus-primary)] text-white shadow-2xl shadow-blue-900/30 active:scale-90 transition-all border-[4px] border-white dark:border-slate-800\"\n          >\n            <Plus size={28} strokeWidth={3} />\n          </button>\n        </div>\n\n        {/* HQ CHAT */}\n        <button onClick={() => router.push('/mobilepos/messages')} className=\"group flex flex-col items-center gap-1 transition-all\">\n          <div className={`p-2 rounded-full transition-all duration-300 ${isActive('/mobilepos/messages') ? 'bg-blue-100 text-blue-600 translate-y-[-4px]' : 'text-slate-400'}`}>\n            <MessageSquare size={22} className={isActive('/mobilepos/messages') ? 'fill-blue-600' : ''} />\n          </div>\n          {isActive('/mobilepos/messages') && <span className=\"w-1 h-1 rounded-full bg-blue-600 animate-in fade-in\" />}\n        </button>\n\n        {/* MENU */}\n        <button onClick={() => router.push('/mobilepos/settings')} className=\"group flex flex-col items-center gap-1 transition-all\">\n          <div className={`p-2 rounded-full transition-all duration-300 ${isActive('/mobilepos/settings') ? 'bg-blue-100 text-blue-600 translate-y-[-4px]' : 'text-slate-400'}`}>\n            <Menu size={22} />\n          </div>\n          {isActive('/mobilepos/settings') && <span className=\"w-1 h-1 rounded-full bg-blue-600 animate-in fade-in\" />}\n        </button>\n\n      </div>\n    </div>\n  );\n}\n\n/**\n * üß± ROOT WRAPPER\n */\nexport default function MobilePOSLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <AuthProvider>\n      <MobileThemeProvider>\n        <MobileDataProvider>\n          <div className=\"min-h-screen bg-slate-100 dark:bg-slate-950 flex justify-center items-center overflow-hidden font-sans antialiased selection:bg-blue-100\">\n            {/* üõ°Ô∏è GPS GUARD APPLIED HERE */}\n            <LocationGuard>\n              <MobileFrame>\n                {children}\n              </MobileFrame>\n            </LocationGuard>\n\n            {/* üì≤ PWA INSTALL PROMPT */}\n            <PWAInstallPrompt />\n          </div>\n        </MobileDataProvider>\n      </MobileThemeProvider>\n    </AuthProvider>\n  );\n}","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { SyncQueue, SyncItem } from \"@/lib/sync-queue\";\nimport { Wifi, WifiOff, RefreshCw } from \"lucide-react\";\n\nexport default function SyncManager() {\n    const [isOnline, setIsOnline] = useState(true);\n    const [isSyncing, setIsSyncing] = useState(false);\n    const [pendingCount, setPendingCount] = useState(0);\n\n    useEffect(() => {\n        // Initial check\n        setIsOnline(navigator.onLine);\n        setPendingCount(SyncQueue.count());\n\n        // Listeners\n        const handleOnline = () => { setIsOnline(true); processQueue(); };\n        const handleOffline = () => setIsOnline(false);\n\n        window.addEventListener('online', handleOnline);\n        window.addEventListener('offline', handleOffline);\n\n        // Periodic check\n        const interval = setInterval(() => {\n            setPendingCount(SyncQueue.count());\n            if (navigator.onLine && SyncQueue.count() > 0) processQueue();\n        }, 10000);\n\n        return () => {\n            window.removeEventListener('online', handleOnline);\n            window.removeEventListener('offline', handleOffline);\n            clearInterval(interval);\n        };\n    }, []);\n\n    const processQueue = async () => {\n        if (isSyncing || SyncQueue.count() === 0) return;\n        setIsSyncing(true);\n        const toastId = toast.loading(\"Syncing Offline Data...\");\n\n        const queue = SyncQueue.getAll();\n        let successCount = 0;\n\n        for (const item of queue) {\n            try {\n                let endpoint = '';\n                if (item.type === 'REPORT') endpoint = '/api/operations/reports';\n                if (item.type === 'LEAVE') endpoint = '/api/hr/leaves';\n\n                const res = await fetch(endpoint, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify(item.payload)\n                });\n\n                if (res.ok) {\n                    SyncQueue.remove(item.id);\n                    successCount++;\n                }\n            } catch (e) {\n                console.error(\"Sync Failed for item\", item.id);\n            }\n        }\n\n        setIsSyncing(false);\n        setPendingCount(SyncQueue.count());\n\n        if (successCount > 0) {\n            toast.success(`Synced ${successCount} items`, { id: toastId });\n        } else {\n            toast.dismiss(toastId);\n        }\n    };\n\n    if (pendingCount === 0 && isOnline) return null;\n\n    return (\n        <div className=\"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 flex items-center gap-3 px-4 py-2 bg-slate-900/90 backdrop-blur text-white rounded-full shadow-xl border border-white/10\">\n            {isOnline ? (\n                isSyncing ? <RefreshCw size={14} className=\"animate-spin text-blue-400\" /> : <Wifi size={14} className=\"text-emerald-400\" />\n            ) : (\n                <WifiOff size={14} className=\"text-rose-400\" />\n            )}\n\n            <span className=\"text-[10px] font-black uppercase tracking-widest\">\n                {isOnline ? (isSyncing ? \"Syncing...\" : `${pendingCount} Pending`) : \"Offline Mode\"}\n            </span>\n        </div>\n    );\n}\n","\"use client\";\n\nimport React from \"react\";\nimport { ShieldOff, Calendar, PhoneCall, LogOut } from \"lucide-react\";\nimport { signOut } from \"next-auth/react\";\n\nexport default function LeaveLockout({ returnDate }: { returnDate: string }) {\n  return (\n    <div className=\"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-8 text-center text-white\">\n      <div className=\"w-20 h-20 bg-blue-600/20 rounded-full flex items-center justify-center mb-8 border border-blue-500/30\">\n        <ShieldOff className=\"w-10 h-10 text-blue-500\" />\n      </div>\n      \n      <h1 className=\"text-2xl font-black tracking-tighter uppercase mb-2\">System Locked</h1>\n      <p className=\"text-slate-400 text-sm uppercase font-bold tracking-widest mb-10 leading-relaxed\">\n        Your access to the Nexus Grid has been temporarily suspended due to approved leave.\n      </p>\n\n      <div className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-6 mb-10\">\n        <div className=\"flex items-center justify-between mb-4 pb-4 border-b border-white/10\">\n          <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest\">Return Date</span>\n          <div className=\"flex items-center gap-2\">\n             <Calendar className=\"w-4 h-4 text-blue-500\" />\n             <span className=\"text-sm font-black tabular-nums\">{returnDate}</span>\n          </div>\n        </div>\n        <div className=\"text-left\">\n          <p className=\"text-[9px] text-slate-500 font-bold uppercase tracking-widest mb-2\">Instructions</p>\n          <p className=\"text-[11px] text-slate-300 leading-relaxed\">\n            Please contact your LG Regional Supervisor if you are returning to your node earlier than expected.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"w-full space-y-4\">\n        <button className=\"w-full py-4 bg-white text-slate-900 rounded-xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-3\">\n          <PhoneCall className=\"w-4 h-4\" /> Contact Supervisor\n        </button>\n        <button \n          onClick={() => signOut()}\n          className=\"w-full py-4 bg-white/5 text-slate-400 rounded-xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-3 border border-white/10\"\n        >\n          <LogOut className=\"w-4 h-4\" /> Sign Out\n        </button>\n      </div>\n    </div>\n  );\n}","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Lock, MapPin, RefreshCw, AlertTriangle, Phone, Signal } from \"lucide-react\";\nimport { useSession } from \"next-auth/react\";\n\n/**\n * üîí GEO LOCKOUT OVERLAY - PRODUCTION GRADE\n * Blocks the entire screen if the user is outside their assigned zone.\n * Features:\n * - GPS accuracy validation\n * - Safety buffer to prevent false lockouts\n * - Multiple readings for consistency\n * - User-friendly accuracy display\n */\n\nconst GPS_ACCURACY_THRESHOLD = 50; // Only accept GPS readings with ‚â§50m accuracy\nconst SAFETY_BUFFER = 30; // Add 30m buffer to geofence to account for GPS inaccuracy\nconst CONSISTENCY_CHECKS = 2; // Must be outside zone this many times before locking\n\nexport default function GeoLockoutOverlay({\n    shopLat,\n    shopLng,\n    radius,\n    bypass\n}: {\n    shopLat: number;\n    shopLng: number;\n    radius: number;\n    bypass: boolean\n}) {\n    const [locked, setLocked] = useState(false);\n    const [distance, setDistance] = useState(0);\n    const [accuracy, setAccuracy] = useState<number | null>(null);\n    const [checking, setChecking] = useState(true);\n    const [outsideCount, setOutsideCount] = useState(0);\n    const { data: session } = useSession();\n\n    const checkLocation = () => {\n        setChecking(true);\n        if (!navigator.geolocation) {\n            setLocked(true);\n            setChecking(false);\n            return;\n        }\n\n        navigator.geolocation.getCurrentPosition(\n            (pos) => {\n                const userLat = pos.coords.latitude;\n                const userLng = pos.coords.longitude;\n                const gpsAccuracy = pos.coords.accuracy;\n                const dist = calculateDistance(userLat, userLng, shopLat, shopLng);\n\n                setDistance(dist);\n                setAccuracy(gpsAccuracy);\n\n                // üõ°Ô∏è PRODUCTION-SAFE LOGIC\n                // Only trust GPS if accuracy is good enough\n                if (gpsAccuracy > GPS_ACCURACY_THRESHOLD) {\n                    console.warn(`GPS accuracy too low: ${gpsAccuracy.toFixed(0)}m. Waiting for better signal...`);\n                    setChecking(false);\n                    return; // Don't lock/unlock on poor GPS\n                }\n\n                // Apply safety buffer to prevent false lockouts\n                const effectiveRadius = radius + SAFETY_BUFFER;\n                const isOutside = dist > effectiveRadius && !bypass;\n\n                // Check consistency before locking\n                if (isOutside) {\n                    setOutsideCount(prev => {\n                        const newCount = prev + 1;\n                        if (newCount >= CONSISTENCY_CHECKS) {\n                            setLocked(true);\n                        }\n                        return newCount;\n                    });\n                } else {\n                    // Inside zone - unlock immediately and reset count\n                    setLocked(false);\n                    setOutsideCount(0);\n                }\n\n                setChecking(false);\n            },\n            (err) => {\n                console.warn(\"GPS Error\", err);\n                // Don't immediately lock on GPS error - user might be indoors temporarily\n                setChecking(false);\n            },\n            { \n                enableHighAccuracy: true, \n                timeout: 15000, // Give GPS time to get accurate fix\n                maximumAge: 0 // Always get fresh reading\n            }\n        );\n    };\n\n    useEffect(() => {\n        checkLocation();\n        const interval = setInterval(checkLocation, 30000); // Re-check every 30s\n        return () => clearInterval(interval);\n    }, [shopLat, shopLng, radius, bypass]);\n\n    // Haversine Formula\n    const calculateDistance = (lat1: number, lon1: number, lat2: number, lon2: number) => {\n        const R = 6371e3; // Earth radius in meters\n        const œÜ1 = lat1 * Math.PI / 180;\n        const œÜ2 = lat2 * Math.PI / 180;\n        const ŒîœÜ = (lat2 - lat1) * Math.PI / 180;\n        const ŒîŒª = (lon2 - lon1) * Math.PI / 180;\n\n        const a = Math.sin(ŒîœÜ / 2) * Math.sin(ŒîœÜ / 2) +\n            Math.cos(œÜ1) * Math.cos(œÜ2) *\n            Math.sin(ŒîŒª / 2) * Math.sin(ŒîŒª / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n        return Math.round(R * c);\n    };\n\n    if (!locked && !checking) return null; // üü¢ Safe Zone\n\n    // If initial load, don't show full block immediately, maybe just null or loader\n    if (checking && !locked) return null;\n\n    return (\n        <div className=\"absolute inset-0 z-[9999] bg-slate-900/95 backdrop-blur-md flex flex-col items-center justify-center p-8 text-center animate-in fade-in duration-300\">\n\n            <div className=\"w-24 h-24 bg-red-500/10 rounded-full flex items-center justify-center mb-6 relative\">\n                <div className=\"absolute inset-0 bg-red-500/20 rounded-full animate-ping\" />\n                <Lock className=\"w-10 h-10 text-red-500 relative z-10\" />\n            </div>\n\n            <h2 className=\"text-2xl font-black text-white uppercase tracking-tight mb-2\">Terminal Locked</h2>\n\n            {distance > 0 ? (\n                <>\n                    <p className=\"text-slate-400 font-medium mb-2 max-w-xs mx-auto\">\n                        You are <span className=\"text-white font-bold\">{distance}m</span> away from the shop zone.\n                        Allowed radius is <span className=\"text-white font-bold\">{radius}m</span>.\n                    </p>\n                    {accuracy !== null && (\n                        <div className=\"flex items-center gap-2 text-xs mb-6\">\n                            <Signal className={`w-4 h-4 ${\n                                accuracy <= 20 ? 'text-green-400' : \n                                accuracy <= 50 ? 'text-yellow-400' : \n                                'text-red-400'\n                            }`} />\n                            <span className=\"text-slate-500\">\n                                GPS Accuracy: <span className={`font-bold ${\n                                    accuracy <= 20 ? 'text-green-400' : \n                                    accuracy <= 50 ? 'text-yellow-400' : \n                                    'text-red-400'\n                                }`}>¬±{accuracy.toFixed(0)}m</span>\n                            </span>\n                        </div>\n                    )}\n                </>\n            ) : (\n                <p className=\"text-slate-400 font-medium mb-6 max-w-xs mx-auto\">\n                    Searching for GPS signal... Ensure location services are enabled.\n                </p>\n            )}\n\n            <div className=\"bg-slate-800 rounded-xl p-4 w-full mb-6 border border-slate-700\">\n                <div className=\"flex items-center gap-3 text-left\">\n                    <AlertTriangle className=\"text-amber-500 shrink-0\" size={20} />\n                    <div>\n                        <p className=\"text-xs font-bold text-slate-300 uppercase\">Security Protocol</p>\n                        <p className=\"text-[10px] text-slate-500 mt-0.5\">Return to shop premises to auto-unlock.</p>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"flex flex-col gap-3 w-full\">\n                <button\n                    onClick={checkLocation}\n                    className=\"w-full py-4 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 active:scale-95 transition-all\"\n                >\n                    {checking ? <RefreshCw className=\"animate-spin w-4 h-4\" /> : <MapPin className=\"w-4 h-4\" />}\n                    Check Location\n                </button>\n\n                <a href=\"tel:+233200000000\" className=\"w-full py-4 bg-slate-800 text-slate-400 hover:text-white rounded-xl font-bold uppercase tracking-widest text-xs flex items-center justify-center gap-2\">\n                    <Phone className=\"w-4 h-4\" /> Call Manager\n                </a>\n            </div>\n\n            <p className=\"mt-8 text-[10px] font-bold text-slate-600 uppercase tracking-widest\">\n                Session ID: {session?.user?.email}\n            </p>\n\n        </div>\n    );\n}\n","\"use client\";\nimport React, { useEffect, useRef } from \"react\";\nimport { toast } from \"react-hot-toast\"; // üîî Import Toast\nimport { useSession } from \"next-auth/react\";\n\nexport default function LocationGuard({ children }: { children: React.ReactNode }) {\n  const lastPulse = useRef<number>(0);\n  const { status } = useSession();\n\n  useEffect(() => {\n    // üõë STOP: If not logged in, don't track.\n    if (status !== \"authenticated\") return;\n\n    if (typeof window === 'undefined' || !navigator.geolocation) return;\n\n    // Security Check\n    const isSecure = window.isSecureContext || window.location.hostname === 'localhost';\n    if (!isSecure) {\n      console.warn(\"GPS Insecure Context\");\n      return;\n    }\n\n    const sendPulse = async (lat: number, lng: number) => {\n      const now = Date.now();\n      // Throttle: Send once every 30 seconds (Optimized)\n      if (now - lastPulse.current < 30000) return;\n\n      try {\n        const res = await fetch('/api/mobile/pulse', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          credentials: 'include', // üç™ Include auth cookies\n          body: JSON.stringify({ lat, lng })\n        });\n\n        if (res.ok) {\n          // ‚úÖ SUCCESS: Update Ref\n          lastPulse.current = now;\n        } else {\n          // ‚ùå FAILURE: Usually 401 Unauthorized\n          // Silent fail - don't spam console\n        }\n      } catch (e) {\n        // Silent fail\n      }\n    };\n\n    const watcher = navigator.geolocation.watchPosition(\n      (pos) => {\n        // Save to storage\n        sessionStorage.setItem('nexus_gps_lat', pos.coords.latitude.toString());\n        sessionStorage.setItem('nexus_gps_lng', pos.coords.longitude.toString());\n\n        // üî• FIRE PULSE\n        sendPulse(pos.coords.latitude, pos.coords.longitude);\n      },\n      (err) => console.warn(err.message),\n      { enableHighAccuracy: true, maximumAge: 0, timeout: 20000 }\n    );\n\n    return () => navigator.geolocation.clearWatch(watcher);\n  }, [status]); // Re-run when status changes\n\n  return <>{children}</>;\n}","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { X, Download, Smartphone } from \"lucide-react\";\n\ninterface BeforeInstallPromptEvent extends Event {\n  prompt: () => Promise<void>;\n  userChoice: Promise<{ outcome: \"accepted\" | \"dismissed\" }>;\n}\n\nexport function PWAInstallPrompt() {\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n  const [showPrompt, setShowPrompt] = useState(false);\n\n  useEffect(() => {\n    // Check if already installed\n    if (window.matchMedia('(display-mode: standalone)').matches) {\n      return; // Already installed\n    }\n\n    // Check if user previously dismissed\n    const dismissed = localStorage.getItem('pwa-install-dismissed');\n    if (dismissed) {\n      const dismissedTime = parseInt(dismissed, 10);\n      const daysSince = (Date.now() - dismissedTime) / (1000 * 60 * 60 * 24);\n      if (daysSince < 7) return; // Don't show again for 7 days\n    }\n\n    // Listen for install prompt\n    const handler = (e: Event) => {\n      e.preventDefault();\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\n      \n      // Show prompt after 5 seconds of usage\n      setTimeout(() => setShowPrompt(true), 5000);\n    };\n\n    window.addEventListener('beforeinstallprompt', handler);\n\n    return () => window.removeEventListener('beforeinstallprompt', handler);\n  }, []);\n\n  const handleInstall = async () => {\n    if (!deferredPrompt) return;\n\n    deferredPrompt.prompt();\n    const { outcome } = await deferredPrompt.userChoice;\n\n    if (outcome === 'accepted') {\n      console.log('‚úÖ PWA installed');\n    }\n\n    setDeferredPrompt(null);\n    setShowPrompt(false);\n  };\n\n  const handleDismiss = () => {\n    localStorage.setItem('pwa-install-dismissed', Date.now().toString());\n    setShowPrompt(false);\n  };\n\n  if (!showPrompt || !deferredPrompt) return null;\n\n  return (\n    <div className=\"fixed bottom-20 left-4 right-4 z-50 animate-in slide-in-from-bottom-4 duration-300\">\n      <div className=\"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl shadow-2xl p-4 text-white\">\n        <button\n          onClick={handleDismiss}\n          className=\"absolute top-2 right-2 p-1 hover:bg-white/20 rounded-full transition-colors\"\n        >\n          <X className=\"w-4 h-4\" />\n        </button>\n\n        <div className=\"flex items-start gap-3\">\n          <div className=\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0\">\n            <Smartphone className=\"w-6 h-6\" />\n          </div>\n          \n          <div className=\"flex-1\">\n            <h3 className=\"font-black text-sm mb-1\">Install Nexus POS</h3>\n            <p className=\"text-xs text-blue-100 mb-3\">\n              Add to home screen for instant access & offline mode\n            </p>\n            \n            <button\n              onClick={handleInstall}\n              className=\"w-full bg-white text-blue-600 font-bold text-sm py-2.5 px-4 rounded-xl hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 shadow-lg\"\n            >\n              <Download className=\"w-4 h-4\" />\n              Install App\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// Register Service Worker for PWA functionality\nexport function registerServiceWorker() {\n  if (typeof window === 'undefined') return;\n  if (!('serviceWorker' in navigator)) return;\n\n  window.addEventListener('load', () => {\n    navigator.serviceWorker\n      .register('/sw.js')\n      .then((registration) => {\n        console.log('‚úÖ Service Worker registered:', registration.scope);\n\n        // Check for updates every 60 seconds\n        setInterval(() => {\n          registration.update();\n        }, 60000);\n      })\n      .catch((error) => {\n        console.error('‚ùå Service Worker registration failed:', error);\n      });\n  });\n}\n\n// Request persistent storage for offline data\nexport async function requestPersistentStorage() {\n  if (typeof window === 'undefined') return false;\n  if (!navigator.storage || !navigator.storage.persist) return false;\n\n  const isPersisted = await navigator.storage.persist();\n  console.log(`üíæ Persistent storage: ${isPersisted ? 'granted' : 'denied'}`);\n  return isPersisted;\n}\n\n// Check if running as installed PWA\nexport function isInstalledPWA(): boolean {\n  if (typeof window === 'undefined') return false;\n  return window.matchMedia('(display-mode: standalone)').matches ||\n         (window.navigator as any).standalone === true;\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M13 2a9 9 0 0 1 9 9', key: '1itnx2' }],\n  ['path', { d: 'M13 6a5 5 0 0 1 5 5', key: '11nki7' }],\n  [\n    'path',\n    {\n      d: 'M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384',\n      key: '9njp5v',\n    },\n  ],\n];\n\n/**\n * @component @name PhoneCall\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMgMmE5IDkgMCAwIDEgOSA5IiAvPgogIDxwYXRoIGQ9Ik0xMyA2YTUgNSAwIDAgMSA1IDUiIC8+CiAgPHBhdGggZD0iTTEzLjgzMiAxNi41NjhhMSAxIDAgMCAwIDEuMjEzLS4zMDNsLjM1NS0uNDY1QTIgMiAwIDAgMSAxNyAxNWgzYTIgMiAwIDAgMSAyIDJ2M2EyIDIgMCAwIDEtMiAyQTE4IDE4IDAgMCAxIDIgNGEyIDIgMCAwIDEgMi0yaDNhMiAyIDAgMCAxIDIgMnYzYTIgMiAwIDAgMS0uOCAxLjZsLS40NjguMzUxYTEgMSAwIDAgMC0uMjkyIDEuMjMzIDE0IDE0IDAgMCAwIDYuMzkyIDYuMzg0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/phone-call\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PhoneCall = createLucideIcon('phone-call', __iconNode);\n\nexport default PhoneCall;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 5h16', key: '1tepv9' }],\n  ['path', { d: 'M4 12h16', key: '1lakjw' }],\n  ['path', { d: 'M4 19h16', key: '1djgab' }],\n];\n\n/**\n * @component @name Menu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCA1aDE2IiAvPgogIDxwYXRoIGQ9Ik00IDEyaDE2IiAvPgogIDxwYXRoIGQ9Ik00IDE5aDE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/menu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Menu = createLucideIcon('menu', __iconNode);\n\nexport default Menu;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 20h.01', key: 'zekei9' }],\n  ['path', { d: 'M2 8.82a15 15 0 0 1 20 0', key: 'dnpr2z' }],\n  ['path', { d: 'M5 12.859a10 10 0 0 1 14 0', key: '1x1e6c' }],\n  ['path', { d: 'M8.5 16.429a5 5 0 0 1 7 0', key: '1bycff' }],\n];\n\n/**\n * @component @name Wifi\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoLjAxIiAvPgogIDxwYXRoIGQ9Ik0yIDguODJhMTUgMTUgMCAwIDEgMjAgMCIgLz4KICA8cGF0aCBkPSJNNSAxMi44NTlhMTAgMTAgMCAwIDEgMTQgMCIgLz4KICA8cGF0aCBkPSJNOC41IDE2LjQyOWE1IDUgMCAwIDEgNyAwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/wifi\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wifi = createLucideIcon('wifi', __iconNode);\n\nexport default Wifi;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n  [\n    'path',\n    {\n      d: 'M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71',\n      key: '1jlk70',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264',\n      key: '18rp1v',\n    },\n  ],\n];\n\n/**\n * @component @name ShieldOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgogIDxwYXRoIGQ9Ik01IDVhMSAxIDAgMCAwLTEgMXY3YzAgNSAzLjUgNy41IDcuNjcgOC45NGExIDEgMCAwIDAgLjY3LjAxYzIuMzUtLjgyIDQuNDgtMS45NyA1LjktMy43MSIgLz4KICA8cGF0aCBkPSJNOS4zMDkgMy42NTJBMTIuMjUyIDEyLjI1MiAwIDAgMCAxMS4yNCAyLjI4YTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXY3YTkuNzg0IDkuNzg0IDAgMCAxLS4wOCAxLjI2NCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/shield-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShieldOff = createLucideIcon('shield-off', __iconNode);\n\nexport default ShieldOff;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 15V3', key: 'm9g1x1' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['path', { d: 'm7 10 5 5 5-5', key: 'brsn70' }],\n];\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTVWMyIgLz4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cGF0aCBkPSJtNyAxMCA1IDUgNS01IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('download', __iconNode);\n\nexport default Download;\n"],"names":[],"mappings":"wDAGA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OILA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,EAAc,UAAE,CAAQ,CAAiC,EAC7D,CAAA,EAAA,EAAA,MAAM,AAAN,EAAe,GACjC,GAAM,CAAE,QAAM,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,IAwD7B,MAtDA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAoDV,EAAG,CAAC,EAAO,EAEJ,CAAA,AAFO,EAEP,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,SAFoC,CAEjC,GACZ,CH7DA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,6BQiBa,CCZF,ADYE,AFZJ,CEYI,AFZJ,AGAE,ADYE,CFZJ,AEYI,ACZF,CHAF,AEYI,ACZF,CHAF,AGAE,ADYE,CFZJ,AEYI,CFZJ,AEYI,EAAA,EAAA,QAAyB,4BAjBH,CCAA,ADAA,AEAF,AJAjB,ACAgB,CDAhB,AEAmB,ACAA,ACAF,AHAD,CGAC,ADAE,AFAH,ADAhB,AEAmB,qGAEW,IAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,SAClD,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,yBAA6B,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,GRF5D,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACpB,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACrC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAEjD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEN,EAAY,UAAU,MAAM,EAC5B,EAAgB,EAAA,SAAS,CAAC,KAAK,IAG/B,IAAM,EAAe,KAAQ,GAAY,GAAO,GAAgB,EAC1D,EAAgB,IAAM,GAAY,GAExC,OAAO,gBAAgB,CAAC,SAAU,GAClC,OAAO,gBAAgB,CAAC,UAAW,GAGnC,IAAM,EAAW,YAAY,KACzB,EAAgB,EAAA,SAAS,CAAC,KAAK,IAC3B,UAAU,MAAM,EAAI,EAAA,SAAS,CAAC,KAAK,GAAK,GAAG,GACnD,EAAG,KAEH,MAAO,KACH,OAAO,mBAAmB,CAAC,SAAU,GACrC,OAAO,mBAAmB,CAAC,UAAW,GACtC,cAAc,EAClB,CACJ,EAAG,EAAE,EAEL,IAAM,EAAe,UACjB,GAAI,GAAmC,IAAtB,EAAA,SAAS,CAAC,KAAK,GAAU,OAC1C,GAAa,GACb,IAAM,EAAU,EAAA,KAAK,CAAC,OAAO,CAAC,2BAExB,EAAQ,EAAA,SAAS,CAAC,MAAM,GAC1B,EAAe,EAEnB,IAAK,IAAM,KAAQ,EACf,GAAI,CADkB,AAElB,IAAI,EAAW,GACG,WAAd,EAAK,IAAI,GAAe,EAAW,yBAAA,EACrB,UAAd,EAAK,IAAI,EAAc,GAAW,gBAAA,EAQlC,CANQ,MAAM,MAAM,EAAU,CAC9B,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,EAAK,OAAO,CACrC,EAAA,EAEQ,EAAE,EAAE,CACR,EAAA,SAAS,CAAC,MAAM,CAAC,EAAK,EAAE,EACxB,IAER,CAAE,MAAO,EAAG,CACR,QAAQ,KAAK,CAAC,uBAAwB,EAAK,EAAE,CACjD,CAGJ,EAAa,IACb,EAAgB,EAAA,SAAS,CAAC,KAAK,IAE3B,EAAe,EACf,CADkB,CAClB,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAa,MAAM,CAAC,CAAE,CAAE,GAAI,CAAQ,GAE5D,EAAA,KAAK,CAAC,OAAO,CAAC,EAEtB,SAEA,AAAI,AAAiB,OAAK,EAAiB,KAGvC,CAAA,EAHgC,AAGhC,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oLACV,EACG,EAAY,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,KAAM,GAAI,UAAU,+BAAkC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,KAAM,GAAI,UAAU,qBAEvG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,KAAM,GAAI,UAAU,kBAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4DACX,EAAY,EAAY,aAAe,CAAA,EAAG,EAAa,QAAQ,CAAC,CAAI,mBAIrF,CS3DA,CAAA,CAAA,CAAA,CAAM,EAAA,CAAA,EAAY,CAAA,CAAA,CAAA,CAAA,KAAA,EAAiB,CAAA,aAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,+IArBzD,EAEE,CAAA,CAAA,CAAA,IACA,CHYJ,AGXM,CAAA,CAAG,sIACH,IAAA,UACF,CAEJ,ERhBA,IAAA,EAAA,EAAA,CAAA,CAAA,WKuBM,EAAA,CAAA,EAAY,CAAA,CAAA,OAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,QAvBtB,CAuBoC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,kCAtBf,CAAU,CAAA,0DAKhD,CAAA,CAAG,CAAA,AEYH,ACZA,2NHCK,CAAA,CAAA,CAAA,KAAA,EACP,GLRJ,IAAA,EAAA,EAAA,CAAA,CAAA,OAGe,SAAS,EAAa,YAAE,CAAU,CAA0B,EACzE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iHACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,UAAU,8BAGvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+DAAsD,kBACpE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4FAAmF,wFAIhG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iFACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0EAAiE,gBACjF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,0BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CAAmC,UAGxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8EAAqE,iBAClF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDAA6C,8GAM9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAU,+IAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,UAAU,YAAY,yBAEnC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,IACtB,UAAU,wKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,oBAKxC,CC5CA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAiBe,SAAS,EAAkB,SACtC,CAAO,SACP,CAAO,CACP,QAAM,CACN,QAAM,CAMT,EACG,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACnC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAClD,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC3C,CAAE,KAAM,CAAO,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,IAE9B,EAAgB,KAElB,GADA,GAAY,GACR,CAAC,UAAU,WAAW,CAAE,CACxB,GAAU,GACV,GAAY,GACZ,MACJ,CAEA,UAAU,WAAW,CAAC,kBAAkB,CACpC,AAAC,IACG,IAAM,EAAU,EAAI,MAAM,CAAC,QAAQ,CAC7B,EAAU,EAAI,MAAM,CAAC,SAAS,CAC9B,EAAc,EAAI,MAAM,CAAC,QAAQ,CACjC,EAAO,EAAkB,EAAS,EAAS,EAAS,GAO1D,GALA,EAAY,GACZ,EAAY,GAIR,EA1CW,GA0C2B,CACtC,AA3Ce,QA0CD,AACN,IAAI,CAAC,CAAC,sBAAsB,EAAE,EAAY,MA3CW,CA2CJ,CAAC,GAAG,+BAA+B,CAAC,EAC7F,GAAY,GACZ,MACJ,CAIkB,CALN,CAIY,EAhDlB,GAiDmB,CAAmB,AAjDlC,CAiDmC,EADZ,AAK7B,EAAgB,IACZ,IAAM,EAAW,EAAO,EAIxB,MAdoC,CAWhC,GAtDD,GAuDC,AAvDE,GAuDQ,GAEP,AAHS,CAIpB,IAGA,GAAU,GACV,EAAgB,IAGpB,GAAY,AAXgC,CAvDyB,CAmEzE,EACA,AAAC,IACG,QAAQ,IAAI,CAAC,OApEuD,KAoE1C,GAE1B,GAAY,EAChB,EACA,CACI,oBAAoB,EACpB,QAAS,KACT,WAAY,CAChB,CADkB,CAG1B,EAEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACN,GANiD,CAOjD,IAAM,EAAW,YAAY,EAAe,KAC5C,GADoD,GAC7C,IAAM,cAAc,AAD8C,EAE7E,EAAG,CAAC,EAAS,EAAS,EAAQ,EAAO,EAGrC,IAAM,EAAoB,CAAC,EAAc,EAAc,EAAc,KAEjE,IAAM,EAAK,EAAO,KAAK,EAAE,CAAG,IACtB,EAAK,EAAO,KAAK,EAAE,CAAG,IACtB,EAAK,CAAC,EAAO,CAAA,CAAI,CAAI,KAAK,EAAE,CAAG,IAC/B,EAAK,CAAC,EAAO,CAAA,CAAI,CAAI,KAAK,EAAE,CAAG,IAE/B,EAAI,KAAK,GAAG,CAAC,EAAK,GAAK,KAAK,GAAG,CAAC,EAAK,GACvC,KAAK,GAAG,CAAC,GAAM,KAAK,GAAG,CAAC,GACxB,KAAK,GAAG,CAAC,EAAK,GAAK,KAAK,GAAG,CAAC,EAAK,GAGrC,OAAO,KAAK,KAAK,CAFP,AAEQ,EAFJ,EAEQ,GAFH,KAAK,CAAC,KAAK,IAAI,CAAC,GAAI,KAAK,IAAI,CAAC,EAAI,IAT3C,OAYd,CAZsB,OActB,CAAI,AAAC,GAAW,CAAA,GAAU,EAGtB,CAHW,EAGE,CAAA,EAGb,CAHqB,AAGrB,CApB2C,CAoB3C,EAAA,CAHY,EAAgB,CAG5B,EAAC,MAAA,CAAI,UAAU,iKAEX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gGACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,4CAGpB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wEAA+D,oBAE5E,EAAW,EACR,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACI,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,6DAAmD,WACpD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,EAAS,OAAQ,+CAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,EAAO,OAAQ,OAE5E,AAAa,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAW,CAAC,QAAQ,EACxB,GAAY,GAAK,iBACjB,GAAY,GAAK,kBACjB,eAAA,CACF,GACF,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,2BAAiB,iBACf,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAW,CAAC,UAAU,EACtC,GAAY,GAAK,iBACjB,GAAY,GAAK,kBACjB,eAAA,CACF,WAAE,IAAE,EAAS,OAAO,CAAC,GAAG,gBAM1C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4DAAmD,sEAKpE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2EACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,0BAA0B,KAAM,KACzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDAA6C,sBAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,oDAK7D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACX,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,QAAS,EACT,UAAU,+LAET,EAAW,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,yBAA4B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAa,oBAIhG,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,KAAK,oBAAoB,UAAU,mKAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,sBAIrC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,gFAAsE,eAClE,GAAS,MAAM,YArEP,IA0ErC,CE/LA,CFqH2C,GErH3C,EAAA,EAAA,CAAA,CAAA,MFqH0D,4HQnHG,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,6CNF5E,IAAA,EAAA,EAAA,CAAA,CAAA,OAOO,SAAS,IACd,GAAM,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkC,MAChF,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAE7C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,GAAI,OAAO,UAAU,CAAC,8BAA8B,OAAO,CACzD,CAD2D,MAK7D,CAJU,GAIJ,EAAY,aAAa,EAJD,KAIQ,CAAC,yBACvC,GAAI,EAAW,CACb,IAAM,EAAgB,SAAS,EAAW,IAE1C,GAAI,CADe,KAAK,GAAG,GAAK,CAAA,CAAa,CAAK,GAAD,GACjC,CADyC,CACtC,IAD2C,EAEhE,CAGA,CAJ6B,CADwC,EAAE,AAKjE,EAAU,AAAC,IACf,EAAE,cAAc,GAChB,EANyD,AAMvC,GAGlB,WAAW,IAAM,GAAc,GAAO,IACxC,EAIA,OAFA,OAAO,gBAAgB,CAAC,sBAAuB,GAExC,IAAM,OAAO,mBAAmB,CAAC,sBAAuB,EACjE,EAAG,EAAE,EAEL,IAAM,EAAgB,UACpB,GAAI,CAAC,EAAgB,OAErB,EAAe,MAAM,GACrB,GAAM,SAAE,CAAO,CAAE,CAAG,MAAM,EAAe,UAAU,CAEnC,YAAY,CAAxB,GACF,QAAQ,GAAG,CAAC,mBAGd,EAAkB,MAClB,GAAc,EAChB,SAOA,AAAI,AAAC,GAAe,EAGlB,CAAA,EAAA,EAAA,GAAA,CAHiB,CAGhB,IAHiC,EAGjC,CAAI,UAAU,8FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAXc,CAWL,IAVf,aAAa,OAAO,CAAC,wBAAyB,KAAK,GAAG,GAAG,QAAQ,IACjE,GAAc,EAChB,EASQ,UAAU,uFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,cAGf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2FACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,cAGxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,sBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,yDAI1C,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,uKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,UAAU,YAAY,4BA3BD,IAmC7C,CLnFA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OQOA,IAAM,EAAA,CAAA,EAAO,CEZJ,AFYI,AGAP,CDZG,ACYH,AHAO,AEZJ,CCYH,AHAO,AEZJ,MAAA,AFYI,EAAA,QAAyB,CGAJ,ADZzB,AFY6B,CGAJ,ADZzB,AFY6B,CGAJ,ADZzB,AFY6B,CGAJ,ADZzB,AFY6B,CEZ7B,ACYyB,AHAI,CAAA,AEZ7B,ACYyB,CHAI,AEZ7B,CFJE,CCAA,ACAA,ACAA,AJAA,ACAA,EAAK,CCAA,ACAA,AHAA,ACAA,AGAA,CFAA,ADAA,ADAA,AGAA,ACAA,QHAW,IAAA,WACzB,sBAA0B,CCAZ,ADAY,AGAZ,AJAA,CEAA,AEAA,AJAA,ACAY,CAAA,ACAZ,AFAA,AIAA,CFAA,AFAA,ACAY,AGAZ,AHAiB,CDAjB,AEAA,AEAA,AHAiB,CGAjB,AJAA,ACAiB,ACAjB,QDA2B,CDAC,AEAA,AEA5B,AHCd,sBAA0B,CAAA,ACAZ,AEAA,CAAA,AFAA,ADAY,CCAZ,AEAA,AHAY,CGAZ,AHAY,ACAZ,AEAA,aLiBT,eAAe,IACe,MAAO,EAM5C,CNVA,SAAS,EAAY,UAAE,CAAQ,CAAiC,EAC9D,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,cAAE,CAAY,CAAE,CAAG,CAAA,EAAA,EAAA,cAAA,AAAc,IACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkD,MAClF,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuE,YAWjH,CATA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAGR,GAIF,EAAG,EAAE,EAEW,MAAM,CAAlB,GAEA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,iCAKrB,EAAQ,MAAM,CACT,CAAA,AADW,EACX,EAAA,GAAA,EAAC,EAAA,CAAa,WAAY,EAAQ,UAAU,GAMnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,sOAAsO,CAAC,WAGtP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CAGd,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,QAAS,EAAU,GAAG,CACtB,QAAS,EAAU,GAAG,CACtB,OAAQ,EAAU,MAAM,CACxB,OAAQ,EAAU,MAAM,GAK5B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,4EACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACA,KAIH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iNAGb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAO,IAAI,CAAC,cAAe,UAAU,kEAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,6CAA6C,EAAE,AAAS,iBAAgB,+CAAiD,iBAAA,CAAkB,UAC1J,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAoB,AAAT,iBAAyB,gBAAkB,OAE9D,AAAT,kBAA0B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2DAI7C,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAO,IAAI,CAAC,wBAAyB,UAAU,kEACpE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,6CAA6C,EAAE,AAAS,2BAA0B,+CAAiD,iBAAA,CAAkB,UACpK,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,KAAM,GAAI,UAAoB,AAAT,2BAAmC,gBAAkB,OAEpF,AAAS,4BAA2B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2DAIvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,kBAC3B,UAAU,qNAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,YAAa,QAKjC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAO,IAAI,CAAC,uBAAwB,UAAU,kEACnE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,6CAA6C,EAAE,AAAS,0BAAyB,+CAAiD,iBAAA,CAAkB,UACnK,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,KAAM,GAAI,UAAW,AAAS,0BAAyB,gBAAkB,OAEhF,AAAT,2BAAmC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2DAItD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAO,IAAI,CAAC,uBAAwB,UAAU,kEACnE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,6CAA6C,EAAE,AAAS,0BAAyB,+CAAiD,iBAAA,CAAkB,UACnK,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,KAAM,OAEb,AAAS,wBAlEiB,GAkES,CAAA,EAAA,EAAA,GAAA,EAAC,AAlEG,OAkEH,CAAK,UAAU,gEAM9D,CAKe,SAAS,EAAgB,UAAE,CAAQ,CAAiC,EACjF,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAY,CAAA,UACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,UAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,kBAAkB,CAAA,UACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qJAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UACE,MAKL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,WAMb","ignoreList":[7,8,9,10,11]}