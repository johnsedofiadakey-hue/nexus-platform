{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/agent/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\nexport const calculateDistance = (\n  lat1: number,\n  lng1: number,\n  lat2: number,\n  lng2: number\n) => {\n  const R = 6371e3; // meters\n  const toRad = (v: number) => (v * Math.PI) / 180;\n  const a =\n    Math.sin(toRad(lat2 - lat1) / 2) ** 2 +\n    Math.cos(toRad(lat1)) *\n    Math.cos(toRad(lat2)) *\n    Math.sin(toRad(lng2 - lng1) / 2) ** 2;\n  return Math.round(R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));\n};"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB;AAEO,MAAM,oBAAoB,CAC/B,MACA,MACA,MACA;IAEA,MAAM,IAAI,QAAQ,SAAS;IAC3B,MAAM,QAAQ,CAAC,IAAc,AAAC,IAAI,KAAK,EAAE,GAAI;IAC7C,MAAM,IACJ,KAAK,GAAG,CAAC,MAAM,OAAO,QAAQ,MAAM,IACpC,KAAK,GAAG,CAAC,MAAM,SACf,KAAK,GAAG,CAAC,MAAM,SACf,KAAK,GAAG,CAAC,MAAM,OAAO,QAAQ,MAAM;IACtC,OAAO,KAAK,KAAK,CAAC,IAAI,IAAI,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;AACnE"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/agent/src/components/auth/SmartAttendance.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { MapPin, ShieldAlert, CheckCircle, Lock, Loader2, Globe } from \"lucide-react\";\nimport { calculateDistance } from \"@/lib/utils\";\nimport { toast } from \"react-hot-toast\";\nimport { useMobileTheme } from \"@/context/MobileThemeContext\";\n\ninterface SmartAttendanceProps {\n    shopLat: number;\n    shopLng: number;\n    radius: number;\n    bypassGeofence?: boolean;\n}\n\nexport default function SmartAttendance({ shopLat, shopLng, radius, bypassGeofence = false }: SmartAttendanceProps) {\n    const { themeClasses, darkMode } = useMobileTheme();\n    const [distance, setDistance] = useState<number | null>(null);\n    const [gpsStatus, setGpsStatus] = useState<'SEARCHING' | 'LOCKED' | 'ERROR'>('SEARCHING');\n    const [canClock, setCanClock] = useState(false);\n\n    const [status, setStatus] = useState<'CLOCKED_IN' | 'CLOCKED_OUT' | 'LOADING'>('LOADING');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    // 1. Initial Status Check\n    useEffect(() => {\n        const checkStatus = async () => {\n            try {\n                const res = await fetch('/api/mobile/attendance');\n                const data = await res.json();\n                setStatus(data.status);\n            } catch (e) {\n                console.error(e);\n                setStatus('CLOCKED_OUT');\n            }\n        };\n        checkStatus();\n    }, []);\n\n    // 2. GPS Engine\n    useEffect(() => {\n        if (!navigator.geolocation) {\n            setGpsStatus('ERROR');\n            return;\n        }\n\n        const watchId = navigator.geolocation.watchPosition(\n            (pos) => {\n                const d = calculateDistance(pos.coords.latitude, pos.coords.longitude, shopLat, shopLng);\n                setDistance(d);\n                setGpsStatus('LOCKED');\n                // LOGIC: Allow if inside radius OR if admin enabled remote access\n                setCanClock(d <= radius || bypassGeofence);\n            },\n            (err) => {\n                console.error(err);\n                setGpsStatus('ERROR');\n                // If GPS fails but remote access allowed, enable it\n                if (bypassGeofence) setCanClock(true);\n            },\n            { enableHighAccuracy: true, maximumAge: 10000 }\n        );\n\n        return () => navigator.geolocation.clearWatch(watchId);\n    }, [shopLat, shopLng, radius, bypassGeofence]);\n\n    // 3. Action Handler\n    const handleToggle = async () => {\n        setIsSubmitting(true);\n        const action = status === 'CLOCKED_IN' ? 'CLOCK_OUT' : 'CLOCK_IN';\n\n        try {\n            // Get current exact coords one last time for validation\n            navigator.geolocation.getCurrentPosition(async (pos) => {\n                await processAttendance(action, pos.coords.latitude, pos.coords.longitude);\n            }, (err) => {\n                // If bypass is on, we can submit without coords (or 0,0) if necessary, \n                // but ideally the user should still try. Use 0,0 if bypass on and error.\n                if (bypassGeofence) {\n                    processAttendance(action, 0, 0);\n                } else {\n                    toast.error(\"GPS Location Invalid\");\n                    setIsSubmitting(false);\n                }\n            });\n\n        } catch (e) {\n            toast.error(\"Network Error - Try Again\");\n            setIsSubmitting(false);\n        }\n    };\n\n    const processAttendance = async (action: string, lat: number, lng: number) => {\n        const res = await fetch('/api/mobile/attendance', {\n            method: 'POST',\n            body: JSON.stringify({ action, lat, lng, bypass: bypassGeofence })\n        });\n\n        const data = await res.json();\n\n        if (res.ok) {\n            toast.success(action === 'CLOCK_IN' ? (canClock ? \"Shift Started\" : \"Remote Shift Started\") : \"Shift Ended\");\n            setStatus(action === 'CLOCK_IN' ? 'CLOCKED_IN' : 'CLOCKED_OUT');\n        } else {\n            toast.error(data.error || \"Action Failed\");\n        }\n        setIsSubmitting(false);\n    }\n\n    if (status === 'LOADING') {\n        return <div className={`p-6 rounded-3xl animate-pulse h-48 ${darkMode ? 'bg-slate-800' : 'bg-white'}`}></div>;\n    }\n\n    const isZoneValid = distance !== null && distance <= radius;\n\n    return (\n        <div className={`p-6 rounded-[2rem] shadow-sm border transition-colors duration-500 ${themeClasses.card} ${themeClasses.border}`}>\n            <div className=\"flex justify-between items-start mb-4\">\n                <div>\n                    <h3 className={`text-sm font-black uppercase tracking-wide ${themeClasses.text}`}>Attendance</h3>\n                    <p className={`text-xs ${darkMode ? 'text-slate-400' : 'text-slate-500'}`}>Live GPS Tracking</p>\n                </div>\n                <div className={`px-2 py-1 rounded-lg text-[10px] font-bold uppercase ${gpsStatus === 'LOCKED' ? 'bg-emerald-100 text-emerald-600' : 'bg-red-100 text-red-600'}`}>\n                    {gpsStatus === 'LOCKED' ? 'GPS Active' : 'No Signal'}\n                </div>\n            </div>\n\n            <div className=\"flex flex-col gap-4\">\n                <div className={`flex items-center gap-3 p-3 rounded-xl border ${darkMode ? 'bg-slate-800 border-slate-700' : 'bg-slate-50 border-slate-100'}`}>\n                    <MapPin className={`w-5 h-5 ${isZoneValid ? 'text-emerald-500' : 'text-amber-500'}`} />\n                    <div>\n                        <p className={`text-xs font-bold ${themeClasses.text}`}>\n                            {distance !== null ? `${distance}m from Hub` : \"Locating...\"}\n                        </p>\n                        <p className=\"text-[10px] text-slate-400\">\n                            {isZoneValid ? \"Inside Secure Zone\" : bypassGeofence ? \"Remote Access Authorized\" : \"Roaming / Off-Site Mode\"}\n                        </p>\n                    </div>\n                </div>\n\n                <button\n                    onClick={handleToggle}\n                    disabled={isSubmitting}\n                    className={`w-full py-4 rounded-xl flex items-center justify-center gap-2 text-xs font-black uppercase tracking-widest transition-all active:scale-95 ${status === 'CLOCKED_IN'\n                        ? 'bg-red-50 text-red-600 border border-red-100 hover:bg-red-100'\n                        : isZoneValid\n                            ? 'bg-emerald-600 text-white shadow-lg shadow-emerald-500/30'\n                            : bypassGeofence\n                                ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30'\n                                : 'bg-amber-500 text-white shadow-lg shadow-amber-500/30'\n                        }`}\n                >\n                    {isSubmitting ? (\n                        <Loader2 className=\"animate-spin w-4 h-4\" />\n                    ) : status === 'CLOCKED_IN' ? (\n                        <>Stop Shift <Lock className=\"w-4 h-4\" /></>\n                    ) : (\n                        <>{isZoneValid ? \"Start On-Site\" : bypassGeofence ? \"Start Remote Shift\" : \"Start Roaming\"} <CheckCircle className=\"w-4 h-4\" /></>\n                    )}\n                </button>\n\n                {!isZoneValid && status === 'CLOCKED_OUT' && !bypassGeofence && (\n                    <div className=\"flex items-center gap-2 text-amber-500 justify-center\">\n                        <ShieldAlert className=\"w-3 h-3\" />\n                        <p className=\"text-[10px] font-bold\">You are outside the Geo-Fence</p>\n                    </div>\n                )}\n\n                {bypassGeofence && !isZoneValid && (\n                    <div className=\"flex items-center gap-2 text-blue-500 justify-center\">\n                        <Globe className=\"w-3 h-3\" />\n                        <p className=\"text-[10px] font-bold\">Admin Override Active</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/nexus-platform/apps/agent/src/app/mobilepos/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef, useCallback, useMemo } from \"react\";\nimport {\n  Lock,\n  Unlock,\n  Loader2,\n  MapPin,\n  WifiOff,\n  ArrowRight,\n  UserCircle2,\n  Settings,\n  MessageSquare,\n  CalendarDays,\n  ShieldCheck,\n  RefreshCcw,\n  Store,\n  Phone,\n  TrendingUp,\n  Signal\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useSession } from \"next-auth/react\";\nimport { toast } from \"react-hot-toast\";\nimport SmartAttendance from \"@/components/auth/SmartAttendance\";\nimport { useMobileData } from \"@/context/MobileDataContext\";\n\n/* --------------------------------------------------\n   DISTANCE ENGINE (HAVERSINE)\n-------------------------------------------------- */\nconst calculateDistance = (\n  lat1: number,\n  lng1: number,\n  lat2: number,\n  lng2: number\n) => {\n  const R = 6371e3;\n  const toRad = (v: number) => (v * Math.PI) / 180;\n  const a =\n    Math.sin(toRad(lat2 - lat1) / 2) ** 2 +\n    Math.cos(toRad(lat1)) *\n    Math.cos(toRad(lat2)) *\n    Math.sin(toRad(lng2 - lng1) / 2) ** 2;\n  return Math.round(R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));\n};\n\nexport default function MobileGpsGate() {\n  const router = useRouter();\n  const { data: session, status } = useSession();\n  const { identity: contextIdentity, loading: contextLoading, error: contextError, refreshData } = useMobileData();\n\n  /* ---------------- STATE ---------------- */\n  const [mounted, setMounted] = useState(false);\n  const [shopData, setShopData] = useState<{\n    shopLat: number;\n    shopLng: number;\n    radius: number;\n    bypassGeofence?: boolean;\n  } | null>(null);\n\n  const [distance, setDistance] = useState<number | null>(null);\n  const [gpsStatus, setGpsStatus] =\n    useState<\"SEARCHING\" | \"LOCKED\" | \"ERROR\">(\"SEARCHING\");  const [gpsAccuracy, setGpsAccuracy] = useState<number | null>(null);  const [isLocating, setIsLocating] = useState(true);\n  const [showSettings, setShowSettings] = useState(false);\n  const watchId = useRef<number | null>(null);\n\n  /* ---------------- MOUNT ---------------- */\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  /* --------------------------------------------------\n     USE CONTEXT DATA (NO SEPARATE FETCH)\n  -------------------------------------------------- */\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      router.push(\"/auth/signin\");\n      return;\n    }\n\n    if (status !== \"authenticated\" || !mounted) return;\n\n    // Use MobileDataContext instead of separate fetch\n    if (contextError) {\n      setGpsStatus(\"ERROR\");\n      setIsLocating(false);\n      if (contextError === 'NO_SHOP_ASSIGNED') {\n        toast.error(\"No shop assigned. Contact your manager.\", { duration: 5000, icon: 'üè™' });\n      } else if (contextError === 'AUTH_FAILED') {\n        toast.error(\"Session expired. Redirecting to login...\", { duration: 3000 });\n        setTimeout(() => router.push(\"/auth/signin\"), 2000);\n      } else if (contextError.includes('Network')) {\n        toast.error(\"Network issue. Pull down to refresh.\", { duration: 4000, icon: 'üì°' });\n      } else {\n        toast.error(\"Assignment sync failed. Pull down to retry.\", { duration: 4000 });\n      }\n      return;\n    }\n\n    if (contextIdentity) {\n      // ‚úÖ Use GPS data already loaded from MobileDataContext (no redundant fetch)\n      if (contextIdentity.shopLat && contextIdentity.shopLng) {\n        setShopData({\n          shopLat: contextIdentity.shopLat,\n          shopLng: contextIdentity.shopLng,\n          radius: contextIdentity.radius || 100,\n          bypassGeofence: contextIdentity.bypassGeofence\n        });\n      } else {\n        // Fallback to Accra coordinates if GPS not configured\n        console.warn('Shop GPS coordinates not configured, using defaults');\n        setShopData({\n          shopLat: 5.6037,\n          shopLng: -0.1870,\n          radius: 100,\n          bypassGeofence: false\n        });\n      }\n    }\n  }, [status, mounted, router, contextIdentity, contextError]);\n\n  /* --------------------------------------------------\n     GPS ENGINE (BULLETPROOF)\n  -------------------------------------------------- */\n  const startTracking = useCallback(() => {\n    if (!shopData || !mounted || typeof window === \"undefined\") return;\n\n    if (!navigator.geolocation) {\n      setGpsStatus(\"ERROR\");\n      setIsLocating(false);\n      toast.error(\"GPS not supported on device\");\n      return;\n    }\n\n    if (watchId.current) {\n      navigator.geolocation.clearWatch(watchId.current);\n      watchId.current = null;\n    }\n\n    setGpsStatus(\"SEARCHING\");\n    setIsLocating(true);\n\n    // PRIME POSITION (CRITICAL FOR MOBILE)\n    navigator.geolocation.getCurrentPosition(\n      (pos) => {\n        // üõ°Ô∏è Check GPS accuracy before accepting position\n        const accuracy = pos.coords.accuracy;\n        setGpsAccuracy(accuracy); // Store accuracy for display\n        if (accuracy > 50) {\n          console.warn(`GPS accuracy too low: ${accuracy.toFixed(0)}m. Waiting for better signal...`);\n          toast('Waiting for better GPS signal...', { icon: 'üì∂' });\n          return; // Don't accept inaccurate positions\n        }\n\n        const d = calculateDistance(\n          pos.coords.latitude,\n          pos.coords.longitude,\n          shopData.shopLat,\n          shopData.shopLng\n        );\n        setDistance(d);\n        setGpsStatus(\"LOCKED\");\n        setIsLocating(false);\n      },\n      () => { },\n      { enableHighAccuracy: true, timeout: 15000, maximumAge: 0 }\n    );\n\n    // CONTINUOUS WATCH\n    watchId.current = navigator.geolocation.watchPosition(\n      (pos) => {\n        // üõ°Ô∏è Validate accuracy\n        const accuracy = pos.coords.accuracy;\n        setGpsAccuracy(accuracy); // Update accuracy for display\n        if (accuracy > 50) {\n          console.warn(`Skipping inaccurate GPS: ¬±${accuracy.toFixed(0)}m`);\n          return;\n        }\n\n        const d = calculateDistance(\n          pos.coords.latitude,\n          pos.coords.longitude,\n          shopData.shopLat,\n          shopData.shopLng\n        );\n        setDistance(d);\n        setGpsStatus(\"LOCKED\");\n        setIsLocating(false);\n      },\n      () => {\n        setGpsStatus(\"ERROR\");\n        setIsLocating(false);\n      },\n      { enableHighAccuracy: true, timeout: 30000, maximumAge: 10000 }\n    );\n  }, [shopData, mounted]);\n\n  useEffect(() => {\n    if (shopData) startTracking();\n    return () => {\n      if (watchId.current) navigator.geolocation.clearWatch(watchId.current);\n    };\n  }, [shopData, startTracking]);\n\n  /* --------------------------------------------------\n     FAIL-SAFE (NO INFINITE LOADING)\n  -------------------------------------------------- */\n  useEffect(() => {\n    if (!isLocating) return;\n    const timer = setTimeout(() => {\n      setGpsStatus(\"ERROR\");\n      setIsLocating(false);\n      toast.error(\"GPS timeout. Enable location & retry.\");\n    }, 35000);\n    return () => clearTimeout(timer);\n  }, [isLocating]);\n\n  /* ---------------- GATE ---------------- */\n  const inRange = useMemo(() => {\n    if (!shopData || distance === null) return false;\n    return distance <= shopData.radius;\n  }, [distance, shopData]);\n\n  if (!mounted || status === \"loading\" || contextLoading) {\n    return (\n      <div className=\"h-screen flex flex-col items-center justify-center\">\n        <Loader2 className=\"animate-spin\" size={32} />\n      </div>\n    );\n  }\n\n  if (!contextIdentity || !shopData) {\n    return (\n      <div className=\"h-screen flex flex-col items-center justify-center bg-slate-900\">\n        <WifiOff className=\"w-16 h-16 text-red-400 mb-4\" />\n        <p className=\"text-lg text-red-300 font-bold\">Connection Failed</p>\n        <button\n          onClick={() => refreshData(true)}\n          className=\"mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl transition-colors\"\n        >\n          <RefreshCcw className=\"w-4 h-4 mr-2 inline\" />\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-full px-6 pt-8 pb-32 space-y-6\">\n      {/* HEADER */}\n      <div className=\"flex justify-between items-center animate-in slide-in-from-top-4 duration-700\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 p-[2px] shadow-lg shadow-blue-500/30\">\n            <div className=\"w-full h-full rounded-full bg-white dark:bg-slate-900 flex items-center justify-center overflow-hidden\">\n              <UserCircle2 size={32} className=\"text-slate-400\" />\n            </div>\n          </div>\n          <div>\n            <p className=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">Welcome Back</p>\n            <h1 className=\"text-2xl font-black text-slate-900 dark:text-white tracking-tight\">{contextIdentity?.agentName || \"Agent\"}</h1>\n          </div>\n        </div>\n\n        <button\n          onClick={() => setShowSettings((v) => !v)}\n          className=\"w-10 h-10 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-400 hover:text-blue-500 hover:border-blue-500 transition-all active:scale-95 shadow-sm\"\n        >\n          <Settings size={20} />\n        </button>\n      </div>\n\n      {/* üè™ SHOP INFO CARD (Glassmorphism) */}\n      {contextIdentity && (\n        <div className=\"relative group overflow-hidden rounded-[2rem] p-6 bg-gradient-to-br from-slate-900 to-slate-800 text-white shadow-2xl shadow-slate-900/20 active:scale-[0.98] transition-all duration-300\">\n          {/* Dynamic Background */}\n          <div className=\"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -translate-y-12 translate-x-12 group-hover:bg-blue-500/20 transition-all duration-700\" />\n\n          <div className=\"relative z-10 flex justify-between items-start mb-6\">\n            <div>\n              <span className=\"px-3 py-1 rounded-full bg-white/10 border border-white/10 text-[10px] font-black uppercase tracking-widest backdrop-blur-md text-blue-200\">\n                Assigned Unit\n              </span>\n              <h2 className=\"mt-4 text-3xl font-black tracking-tighter text-white\">{contextIdentity.shopName}</h2>\n            </div>\n            <div className=\"w-12 h-12 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center border border-white/5\">\n              <Store size={24} className=\"text-blue-300\" />\n            </div>\n          </div>\n\n          <div className=\"relative z-10 flex items-center gap-3 pt-6 border-t border-white/10\">\n            <div className=\"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-300\">\n              <Phone size={14} />\n            </div>\n            <div>\n              <p className=\"text-[10px] text-slate-400 font-bold uppercase tracking-wider\">Manager Line</p>\n              <p className=\"text-sm font-bold text-white\">{contextIdentity.managerPhone || \"N/A\"}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* üéØ PERFORMANCE PROGRESS CARD */}\n      {contextIdentity?.targetProgress && (\n        <div className=\"bg-white dark:bg-slate-900 rounded-[2rem] p-6 border border-slate-100 dark:border-slate-800 shadow-sm space-y-6 animate-in slide-in-from-bottom-4 duration-700\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-lg\">\n                <TrendingUp size={16} />\n              </div>\n              <div>\n                <h3 className=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">Monthly Sales Targets</h3>\n                <p className=\"text-sm font-black text-slate-900 dark:text-white\">Performance Progress</p>\n              </div>\n            </div>\n            <span className=\"text-[10px] font-black px-3 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 rounded-full border border-emerald-100 dark:border-emerald-900/30\">\n              Live Tracking\n            </span>\n          </div>\n\n          <div className=\"space-y-4\">\n            {/* Sales Progress */}\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between items-end\">\n                <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Sales (GHS)</p>\n                <p className=\"text-xs font-black text-slate-900 dark:text-white\">\n                  ‚Çµ{contextIdentity.targetProgress.achievedValue.toLocaleString()} <span className=\"text-slate-400\">/ ‚Çµ{contextIdentity.targetProgress.targetValue.toLocaleString()}</span>\n                </p>\n              </div>\n              <div className=\"h-2 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full bg-blue-600 rounded-full transition-all duration-1000\"\n                  style={{ width: `${Math.min((contextIdentity.targetProgress.achievedValue / contextIdentity.targetProgress.targetValue) * 100, 100)}%` }}\n                />\n              </div>\n            </div>\n\n            {/* Volume Progress */}\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between items-end\">\n                <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Units Sold</p>\n                <p className=\"text-xs font-black text-slate-900 dark:text-white\">\n                  {contextIdentity.targetProgress.achievedQuantity} <span className=\"text-slate-400\">/ {contextIdentity.targetProgress.targetQuantity}</span>\n                </p>\n              </div>\n              <div className=\"h-2 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full bg-emerald-500 rounded-full transition-all duration-1000\"\n                  style={{ width: `${Math.min((contextIdentity.targetProgress.achievedQuantity / contextIdentity.targetProgress.targetQuantity) * 100, 100)}%` }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* NEW: SMART ATTENDANCE */}\n      {shopData && mounted && (\n        <div className=\"animate-in slide-in-from-bottom-4 duration-700 delay-100\">\n          <SmartAttendance\n            shopLat={shopData.shopLat}\n            shopLng={shopData.shopLng}\n            radius={shopData.radius}\n            bypassGeofence={shopData.bypassGeofence}\n          />\n        </div>\n      )}\n\n      {/* QUICK ACTIONS GRID */}\n      <div className=\"grid grid-cols-2 gap-4 animate-in slide-in-from-bottom-8 duration-700 delay-200\">\n        <button\n          onClick={() => router.push(\"/mobilepos/messages\")}\n          className=\"p-5 rounded-3xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 shadow-sm active:scale-95 transition-all text-left group hover:border-blue-500/30\"\n        >\n          <div className=\"w-10 h-10 rounded-2xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-500 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform\">\n            <MessageSquare size={20} />\n          </div>\n          <p className=\"font-extrabold text-slate-900 dark:text-white\">HQ Chat</p>\n          <p className=\"text-[10px] font-bold text-slate-400 mt-1\">Direct Support Line</p>\n        </button>\n\n        <button\n          onClick={() => router.push(\"/mobilepos/report\")}\n          className=\"p-5 rounded-3xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 shadow-sm active:scale-95 transition-all text-left group hover:border-emerald-500/30\"\n        >\n          <div className=\"w-10 h-10 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform\">\n            <CalendarDays size={20} />\n          </div>\n          <p className=\"font-extrabold text-slate-900 dark:text-white\">Daily Report</p>\n          <p className=\"text-[10px] font-bold text-slate-400 mt-1\">Submit End of Day</p>\n        </button>\n      </div>\n\n      {/* GPS STATUS (Subtle) */}\n      <div className=\"flex flex-col items-center justify-center gap-2 py-4\">\n        <div className=\"flex items-center gap-2 opacity-40 grayscale\">\n          <div className={`w-2 h-2 rounded-full ${gpsStatus === 'LOCKED' ? 'bg-emerald-500' : 'bg-red-500 animate-pulse'}`} />\n          <p className=\"text-[10px] font-mono text-slate-400\">\n            {gpsStatus === 'LOCKED' ? `GPS LOCKED ‚Ä¢ ${distance}m` : 'SEARCHING...'}\n          </p>\n        </div>\n        {/* GPS Accuracy Indicator */}\n        {gpsAccuracy !== null && (\n          <div className={`flex items-center gap-2 px-3 py-1.5 rounded-full border ${\n            gpsAccuracy <= 20 ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-900/30' :\n            gpsAccuracy <= 50 ? 'bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-900/30' :\n            'bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-900/30'\n          }`}>\n            <Signal className={`w-3 h-3 ${\n              gpsAccuracy <= 20 ? 'text-green-600 dark:text-green-400' :\n              gpsAccuracy <= 50 ? 'text-yellow-600 dark:text-yellow-400' :\n              'text-orange-600 dark:text-orange-400'\n            }`} />\n            <span className={`text-[10px] font-bold ${\n              gpsAccuracy <= 20 ? 'text-green-700 dark:text-green-400' :\n              gpsAccuracy <= 50 ? 'text-yellow-700 dark:text-yellow-400' :\n              'text-orange-700 dark:text-orange-400'\n            }`}>\n              GPS Accuracy: ¬±{Math.round(gpsAccuracy)}m {gpsAccuracy <= 20 ? '(Excellent)' : gpsAccuracy <= 50 ? '(Good)' : '(Fair)'}\n            </span>\n          </div>\n        )}\n      </div>\n\n    </div>\n  );\n}\n\n/* -------------------------------------------------- */\n\nfunction DrawerButton({\n  icon,\n  label,\n  onClick\n}: {\n  icon: React.ReactNode;\n  label: string;\n  onClick: () => void;\n}) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"border rounded-xl p-4 flex flex-col items-center gap-2\"\n    >\n      {icon}\n      <span className=\"text-xs font-bold uppercase\">{label}</span>\n    </button>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}